var mmStart=function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,'a',n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=24)}([function(e,t){var n=Math.floor,o=Math.max,a,i;(function(){function d(e){function t(t,n,o,a,i,d){for(;0<=i&&i<d;i+=e){var r=a?a[i]:i;o=n(o,t[r],r,t)}return o}return function(n,o,a,i){o=E(o,i,4);var d=!R(n)&&C.keys(n),r=(d||n).length,s=0<e?0:r-1;return 3>arguments.length&&(a=n[d?d[s]:s],s+=e),t(n,o,a,d,s,r)}}function r(e){return function(t,n,o){n=S(n,o);for(var a=L(t),i=0<e?0:a-1;0<=i&&i<a;i+=e)if(n(t[i],i,t))return i;return-1}}function s(e,t,n){return function(a,d,r){var s=0,i=L(a);if('number'==typeof r)0<e?s=0<=r?r:o(r+i,s):i=0<=r?Math.min(r+1,i):r+i+1;else if(n&&r&&i)return r=n(a,d),a[r]===d?r:-1;if(d!==d)return r=t(f.call(a,s,i),C.isNaN),0<=r?r+s:-1;for(r=0<e?s:i-1;0<=r&&r<i;r+=e)if(a[r]===d)return r;return-1}}function l(e,t){var n=F.length,o=e.constructor,a=C.isFunction(o)&&o.prototype||u,i='constructor';for(C.has(e,i)&&!C.contains(t,i)&&t.push(i);n--;)i=F[n],i in e&&e[i]!==a[i]&&!C.contains(t,i)&&t.push(i)}var p=this,c=p._,h=Array.prototype,u=Object.prototype,g=Function.prototype,m=h.push,f=h.slice,y=u.toString,x=u.hasOwnProperty,v=Array.isArray,b=Object.keys,w=g.bind,k=Object.create,T=function(){},C=function(e){return e instanceof C?e:this instanceof C?void(this._wrapped=e):new C(e)};('undefined'!=typeof e&&e.exports&&(t=e.exports=C),t._=C),C.VERSION='1.8.3';var E=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,a){return e.call(t,n,o,a)};case 4:return function(n,o,a,i){return e.call(t,n,o,a,i)};}return function(){return e.apply(t,arguments)}},S=function(e,t,n){return null==e?C.identity:C.isFunction(e)?E(e,t,n):C.isObject(e)?C.matcher(e):C.property(e)};C.iteratee=function(e,t){return S(e,t,Infinity)};var I=function(e,t){return function(n){var o=arguments.length;if(2>o||null==n)return n;for(var a=1;a<o;a++)for(var d=arguments[a],r=e(d),s=r.length,l=0,i;l<s;l++)i=r[l],t&&void 0!==n[i]||(n[i]=d[i]);return n}},N=function(e){if(!C.isObject(e))return{};if(k)return k(e);T.prototype=e;var t=new T;return T.prototype=null,t},A=function(e){return function(t){return null==t?void 0:t[e]}},L=A('length'),R=function(e){var t=L(e);return'number'==typeof t&&0<=t&&t<=9007199254740991};C.each=C.forEach=function(e,t,n){t=E(t,n);var o,a;if(R(e))for(o=0,a=e.length;o<a;o++)t(e[o],o,e);else{var i=C.keys(e);for(o=0,a=i.length;o<a;o++)t(e[i[o]],i[o],e)}return e},C.map=C.collect=function(e,t,n){t=S(t,n);for(var o=!R(e)&&C.keys(e),a=(o||e).length,i=Array(a),d=0,r;d<a;d++)r=o?o[d]:d,i[d]=t(e[r],r,e);return i},C.reduce=C.foldl=C.inject=d(1),C.reduceRight=C.foldr=d(-1),C.find=C.detect=function(e,t,n){var o;if(o=R(e)?C.findIndex(e,t,n):C.findKey(e,t,n),void 0!==o&&-1!==o)return e[o]},C.filter=C.select=function(e,t,n){var o=[];return t=S(t,n),C.each(e,function(e,n,a){t(e,n,a)&&o.push(e)}),o},C.reject=function(e,t,n){return C.filter(e,C.negate(S(t)),n)},C.every=C.all=function(e,t,n){t=S(t,n);for(var o=!R(e)&&C.keys(e),a=(o||e).length,i=0,d;i<a;i++)if(d=o?o[i]:i,!t(e[d],d,e))return!1;return!0},C.some=C.any=function(e,t,n){t=S(t,n);for(var o=!R(e)&&C.keys(e),a=(o||e).length,i=0,d;i<a;i++)if(d=o?o[i]:i,t(e[d],d,e))return!0;return!1},C.contains=C.includes=C.include=function(e,t,n,o){return R(e)||(e=C.values(e)),('number'!=typeof n||o)&&(n=0),0<=C.indexOf(e,t,n)},C.invoke=function(e,t){var n=f.call(arguments,2),o=C.isFunction(t);return C.map(e,function(e){var a=o?t:e[t];return null==a?a:a.apply(e,n)})},C.pluck=function(e,t){return C.map(e,C.property(t))},C.where=function(e,t){return C.filter(e,C.matcher(t))},C.findWhere=function(e,t){return C.find(e,C.matcher(t))},C.max=function(e,t,n){var o=-Infinity,a=-Infinity,d,r;if(null==t&&null!=e){e=R(e)?e:C.values(e);for(var s=0,i=e.length;s<i;s++)d=e[s],d>o&&(o=d)}else t=S(t,n),C.each(e,function(e,n,i){r=t(e,n,i),(r>a||r===-Infinity&&o==-Infinity)&&(o=e,a=r)});return o},C.min=function(e,t,n){var o=Infinity,a=Infinity,d,r;if(null==t&&null!=e){e=R(e)?e:C.values(e);for(var s=0,i=e.length;s<i;s++)d=e[s],d<o&&(o=d)}else t=S(t,n),C.each(e,function(e,n,i){r=t(e,n,i),(r<a||r===Infinity&&o==Infinity)&&(o=e,a=r)});return o},C.shuffle=function(e){for(var t=R(e)?e:C.values(e),n=t.length,o=Array(n),a=0,i;a<n;a++)i=C.random(0,a),i!==a&&(o[a]=o[i]),o[i]=t[a];return o},C.sample=function(e,t,n){return null==t||n?(R(e)||(e=C.values(e)),e[C.random(e.length-1)]):C.shuffle(e).slice(0,o(0,t))},C.sortBy=function(e,t,n){return t=S(t,n),C.pluck(C.map(e,function(e,n,o){return{value:e,index:n,criteria:t(e,n,o)}}).sort(function(e,t){var n=e.criteria,o=t.criteria;if(n!==o){if(n>o||void 0===n)return 1;if(n<o||void 0===o)return-1}return e.index-t.index}),'value')};var j=function(e){return function(t,n,o){var a={};return n=S(n,o),C.each(t,function(o,i){var d=n(o,i,t);e(a,o,d)}),a}};C.groupBy=j(function(e,t,n){C.has(e,n)?e[n].push(t):e[n]=[t]}),C.indexBy=j(function(e,t,n){e[n]=t}),C.countBy=j(function(e,t,n){C.has(e,n)?e[n]++:e[n]=1}),C.toArray=function(e){return e?C.isArray(e)?f.call(e):R(e)?C.map(e,C.identity):C.values(e):[]},C.size=function(e){return null==e?0:R(e)?e.length:C.keys(e).length},C.partition=function(e,t,n){t=S(t,n);var o=[],a=[];return C.each(e,function(e,n,i){(t(e,n,i)?o:a).push(e)}),[o,a]},C.first=C.head=C.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:C.initial(e,e.length-t)},C.initial=function(e,t,n){return f.call(e,0,o(0,e.length-(null==t||n?1:t)))},C.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:C.rest(e,o(0,e.length-t))},C.rest=C.tail=C.drop=function(e,t,n){return f.call(e,null==t||n?1:t)},C.compact=function(e){return C.filter(e,C.identity)};var P=function(e,t,n,o){for(var a=[],d=0,r=o||0,i=L(e),s;r<i;r++)if(s=e[r],R(s)&&(C.isArray(s)||C.isArguments(s))){t||(s=P(s,t,n));var l=0,p=s.length;for(a.length+=p;l<p;)a[d++]=s[l++]}else n||(a[d++]=s);return a};C.flatten=function(e,t){return P(e,t,!1)},C.without=function(e){return C.difference(e,f.call(arguments,1))},C.uniq=C.unique=function(e,t,n,o){C.isBoolean(t)||(o=n,n=t,t=!1),null!=n&&(n=S(n,o));for(var a=[],d=[],r=0,s=L(e);r<s;r++){var l=e[r],p=n?n(l,r,e):l;t?((!r||d!==p)&&a.push(l),d=p):n?!C.contains(d,p)&&(d.push(p),a.push(l)):!C.contains(a,l)&&a.push(l)}return a},C.union=function(){return C.uniq(P(arguments,!0,!0))},C.intersection=function(e){for(var t=[],n=arguments.length,o=0,a=L(e),i;o<a;o++)if(i=e[o],!C.contains(t,i)){for(var d=1;d<n&&!!C.contains(arguments[d],i);d++);d===n&&t.push(i)}return t},C.difference=function(e){var t=P(arguments,!0,!0,1);return C.filter(e,function(e){return!C.contains(t,e)})},C.zip=function(){return C.unzip(arguments)},C.unzip=function(e){for(var t=e&&C.max(e,L).length||0,n=Array(t),o=0;o<t;o++)n[o]=C.pluck(e,o);return n},C.object=function(e,t){for(var n={},o=0,a=L(e);o<a;o++)t?n[e[o]]=t[o]:n[e[o][0]]=e[o][1];return n},C.findIndex=r(1),C.findLastIndex=r(-1),C.sortedIndex=function(e,t,o,a){o=S(o,a,1);for(var i=o(t),d=0,r=L(e);d<r;){var s=n((d+r)/2);o(e[s])<i?d=s+1:r=s}return d},C.indexOf=s(1,C.findIndex,C.sortedIndex),C.lastIndexOf=s(-1,C.findLastIndex),C.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var a=o(Math.ceil((t-e)/n),0),i=Array(a),d=0;d<a;d++,e+=n)i[d]=e;return i};var D=function(e,t,n,o,a){if(!(o instanceof t))return e.apply(n,a);var i=N(e.prototype),d=e.apply(i,a);return C.isObject(d)?d:i};C.bind=function(e,t){if(w&&e.bind===w)return w.apply(e,f.call(arguments,1));if(!C.isFunction(e))throw new TypeError('Bind must be called on a function');var n=f.call(arguments,2),o=function(){return D(e,o,t,this,n.concat(f.call(arguments)))};return o},C.partial=function(e){var t=f.call(arguments,1),n=function(){for(var o=0,a=t.length,d=Array(a),r=0;r<a;r++)d[r]=t[r]===C?arguments[o++]:t[r];for(;o<arguments.length;)d.push(arguments[o++]);return D(e,n,this,this,d)};return n},C.bindAll=function(e){var t=arguments.length,n,o;if(1>=t)throw new Error('bindAll must be passed function names');for(n=1;n<t;n++)o=arguments[n],e[o]=C.bind(e[o],e);return e},C.memoize=function(e,t){var n=function(o){var a=n.cache,i=''+(t?t.apply(this,arguments):o);return C.has(a,i)||(a[i]=e.apply(this,arguments)),a[i]};return n.cache={},n},C.delay=function(e,t){var n=f.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},C.defer=C.partial(C.delay,C,1),C.throttle=function(e,t,n){var o=null,a=0,i,d,r;n||(n={});var s=function(){a=!1===n.leading?0:C.now(),o=null,r=e.apply(i,d),o||(i=d=null)};return function(){var l=C.now();a||!1!==n.leading||(a=l);var p=t-(l-a);return i=this,d=arguments,0>=p||p>t?(o&&(clearTimeout(o),o=null),a=l,r=e.apply(i,d),!o&&(i=d=null)):!o&&!1!==n.trailing&&(o=setTimeout(s,p)),r}},C.debounce=function(e,t,n){var o=function(){var l=C.now()-r;l<t&&0<=l?a=setTimeout(o,t-l):(a=null,!n&&(s=e.apply(d,i),!a&&(d=i=null)))},a,i,d,r,s;return function(){d=this,i=arguments,r=C.now();var l=n&&!a;return a||(a=setTimeout(o,t)),l&&(s=e.apply(d,i),d=i=null),s}},C.wrap=function(e,t){return C.partial(t,e)},C.negate=function(e){return function(){return!e.apply(this,arguments)}},C.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,o=e[t].apply(this,arguments);n--;)o=e[n].call(this,o);return o}},C.after=function(e,t){return function(){if(1>--e)return t.apply(this,arguments)}},C.before=function(e,t){var n;return function(){return 0<--e&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},C.once=C.partial(C.before,2);var O=!{toString:null}.propertyIsEnumerable('toString'),F=['valueOf','isPrototypeOf','toString','propertyIsEnumerable','hasOwnProperty','toLocaleString'];C.keys=function(e){if(!C.isObject(e))return[];if(b)return b(e);var t=[];for(var n in e)C.has(e,n)&&t.push(n);return O&&l(e,t),t},C.allKeys=function(e){if(!C.isObject(e))return[];var t=[];for(var n in e)t.push(n);return O&&l(e,t),t},C.values=function(e){for(var t=C.keys(e),n=t.length,o=Array(n),a=0;a<n;a++)o[a]=e[t[a]];return o},C.mapObject=function(e,t,n){t=S(t,n);for(var o=C.keys(e),a=o.length,i={},d=0,r;d<a;d++)r=o[d],i[r]=t(e[r],r,e);return i},C.pairs=function(e){for(var t=C.keys(e),n=t.length,o=Array(n),a=0;a<n;a++)o[a]=[t[a],e[t[a]]];return o},C.invert=function(e){for(var t={},n=C.keys(e),o=0,a=n.length;o<a;o++)t[e[n[o]]]=n[o];return t},C.functions=C.methods=function(e){var t=[];for(var n in e)C.isFunction(e[n])&&t.push(n);return t.sort()},C.extend=I(C.allKeys),C.extendOwn=C.assign=I(C.keys),C.findKey=function(e,t,n){t=S(t,n);for(var o=C.keys(e),a=0,i=o.length,d;a<i;a++)if(d=o[a],t(e[d],d,e))return d},C.pick=function(e,t,n){var o={},a=e,d,r;if(null==a)return o;C.isFunction(t)?(r=C.allKeys(a),d=E(t,n)):(r=P(arguments,!1,!1,1),d=function(e,t,n){return t in n},a=Object(a));for(var s=0,i=r.length;s<i;s++){var l=r[s],p=a[l];d(p,l,a)&&(o[l]=p)}return o},C.omit=function(e,t,n){if(C.isFunction(t))t=C.negate(t);else{var o=C.map(P(arguments,!1,!1,1),String);t=function(e,t){return!C.contains(o,t)}}return C.pick(e,t,n)},C.defaults=I(C.allKeys,!0),C.create=function(e,t){var n=N(e);return t&&C.extendOwn(n,t),n},C.clone=function(e){return C.isObject(e)?C.isArray(e)?e.slice():C.extend({},e):e},C.tap=function(e,t){return t(e),e},C.isMatch=function(e,t){var n=C.keys(t),o=n.length;if(null==e)return!o;for(var a=Object(e),d=0,i;d<o;d++)if(i=n[d],t[i]!==a[i]||!(i in a))return!1;return!0};var B=function(e,t,n,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof C&&(e=e._wrapped),t instanceof C&&(t=t._wrapped);var i=y.call(e);if(i!==y.call(t))return!1;switch(i){case'[object RegExp]':case'[object String]':return''+e==''+t;case'[object Number]':return+e==+e?0==+e?1/+e==1/t:+e==+t:+t!=+t;case'[object Date]':case'[object Boolean]':return+e==+t;}var d='[object Array]'===i;if(!d){if('object'!=typeof e||'object'!=typeof t)return!1;var r=e.constructor,s=t.constructor;if(r!==s&&!(C.isFunction(r)&&r instanceof r&&C.isFunction(s)&&s instanceof s)&&'constructor'in e&&'constructor'in t)return!1}n=n||[],o=o||[];for(var l=n.length;l--;)if(n[l]===e)return o[l]===t;if(n.push(e),o.push(t),d){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!B(e[l],t[l],n,o))return!1}else{var p=C.keys(e),c;if(l=p.length,C.keys(t).length!==l)return!1;for(;l--;)if(c=p[l],!(C.has(t,c)&&B(e[c],t[c],n,o)))return!1}return n.pop(),o.pop(),!0};C.isEqual=function(e,t){return B(e,t)},C.isEmpty=function(e){return!(null!=e)||(R(e)&&(C.isArray(e)||C.isString(e)||C.isArguments(e))?0===e.length:0===C.keys(e).length)},C.isElement=function(e){return!!(e&&1===e.nodeType)},C.isArray=v||function(e){return'[object Array]'===y.call(e)},C.isObject=function(e){var t=typeof e;return'function'==t||'object'==t&&!!e},C.each(['Arguments','Function','String','Number','Date','RegExp','Error'],function(e){C['is'+e]=function(t){return y.call(t)==='[object '+e+']'}}),C.isArguments(arguments)||(C.isArguments=function(e){return C.has(e,'callee')}),'function'!=typeof /./&&'object'!=typeof Int8Array&&(C.isFunction=function(e){return'function'==typeof e||!1}),C.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},C.isNaN=function(e){return C.isNumber(e)&&e!==+e},C.isBoolean=function(e){return!0===e||!1===e||'[object Boolean]'===y.call(e)},C.isNull=function(e){return null===e},C.isUndefined=function(e){return void 0===e},C.has=function(e,t){return null!=e&&x.call(e,t)},C.noConflict=function(){return p._=c,this},C.identity=function(e){return e},C.constant=function(e){return function(){return e}},C.noop=function(){},C.property=A,C.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},C.matcher=C.matches=function(e){return e=C.extendOwn({},e),function(t){return C.isMatch(t,e)}},C.times=function(e,t,n){var a=Array(o(0,e));t=E(t,n,1);for(var d=0;d<e;d++)a[d]=t(d);return a},C.random=function(e,t){return null==t&&(t=e,e=0),e+n(Math.random()*(t-e+1))},C.now=Date.now||function(){return new Date().getTime()};var M={"&":'&amp;',"<":'&lt;',">":'&gt;','"':'&quot;',"'":'&#x27;',"`":'&#x60;'},q=C.invert(M),_=function(e){var t=function(t){return e[t]},n='(?:'+C.keys(e).join('|')+')',o=RegExp(n),a=RegExp(n,'g');return function(e){return e=null==e?'':''+e,o.test(e)?e.replace(a,t):e}};C.escape=_(M),C.unescape=_(q),C.result=function(e,t,n){var o=null==e?void 0:e[t];return void 0===o&&(o=n),C.isFunction(o)?o.call(e):o};var H=0;C.uniqueId=function(e){var t=++H+'';return e?e+t:t},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var W=/(.)^/,Y={"'":'\'',"\\":'\\',"\r":'r',"\n":'n',"\u2028":'u2028',"\u2029":'u2029'},X=/\\|'|\r|\n|\u2028|\u2029/g,V=function(e){return'\\'+Y[e]};C.template=function(e,t,n){!t&&n&&(t=n),t=C.defaults({},t,C.templateSettings);var o=RegExp([(t.escape||W).source,(t.interpolate||W).source,(t.evaluate||W).source].join('|')+'|$','g'),a=0,i='__p+=\'';e.replace(o,function(t,n,o,d,r){return i+=e.slice(a,r).replace(X,V),a=r+t.length,n?i+='\'+\n((__t=('+n+'))==null?\'\':_.escape(__t))+\n\'':o?i+='\'+\n((__t=('+o+'))==null?\'\':__t)+\n\'':d&&(i+='\';\n'+d+'\n__p+=\''),t}),i+='\';\n',t.variable||(i='with(obj||{}){\n'+i+'}\n'),i='var __t,__p=\'\',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,\'\');};\n'+i+'return __p;\n';try{var d=new Function(t.variable||'obj','_',i)}catch(t){throw t.source=i,t}var r=function(e){return d.call(this,e,C)},s=t.variable||'obj';return r.source='function('+s+'){\n'+i+'}',r},C.chain=function(e){var t=C(e);return t._chain=!0,t};var z=function(e,t){return e._chain?C(t).chain():t};C.mixin=function(e){C.each(C.functions(e),function(t){var n=C[t]=e[t];C.prototype[t]=function(){var e=[this._wrapped];return m.apply(e,arguments),z(this,n.apply(C,e))}})},C.mixin(C),C.each(['pop','push','reverse','shift','sort','splice','unshift'],function(e){var t=h[e];C.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),('shift'===e||'splice'===e)&&0===n.length&&delete n[0],z(this,n)}}),C.each(['concat','join','slice'],function(e){var t=h[e];C.prototype[e]=function(){return z(this,t.apply(this._wrapped,arguments))}}),C.prototype.value=function(){return this._wrapped},C.prototype.valueOf=C.prototype.toJSON=C.prototype.value,C.prototype.toString=function(){return''+this._wrapped},a=[],i=function(){return C}.apply(t,a),!(i!==void 0&&(e.exports=i))}).call(this)},function(e,t){var n=String.fromCharCode,o=Math.max,a,i;(function(t,n){'object'==typeof e&&'object'==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error('jQuery requires a window with a document');return n(e)}:n(t)})('undefined'==typeof window?this:window,function(d,r){function s(e){var t=!!e&&'length'in e&&e.length,n=pe.type(e);return'function'===n||pe.isWindow(e)?!1:'array'===n||0===t||'number'==typeof t&&0<t&&t-1 in e}function l(e,t,n){if(pe.isFunction(t))return pe.grep(e,function(e,o){return!!t.call(e,o,e)!==n});if(t.nodeType)return pe.grep(e,function(e){return e===t!==n});if('string'==typeof t){if(be.test(t))return pe.filter(t,e,n);t=pe.filter(t,e)}return pe.grep(e,function(e){return-1<ae.call(t,e)!==n})}function p(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function c(e){var t={};return pe.each(e.match(Se)||[],function(e,n){t[n]=!0}),t}function h(){ee.removeEventListener('DOMContentLoaded',h),d.removeEventListener('load',h),pe.ready()}function u(){this.expando=pe.expando+u.uid++}function g(e,t,n){var o;if(void 0===n&&1===e.nodeType)if(o='data-'+t.replace(Pe,'-$&').toLowerCase(),n=e.getAttribute(o),'string'==typeof n){try{n='true'===n||'false'!==n&&('null'===n?null:+n+''===n?+n:je.test(n)?pe.parseJSON(n):n)}catch(t){}Re.set(e,t,n)}else n=void 0;return n}function m(e,t,n,o){var a=1,i=20,d=o?function(){return o.cur()}:function(){return pe.css(e,t,'')},r=d(),s=n&&n[3]||(pe.cssNumber[t]?'':'px'),l=(pe.cssNumber[t]||'px'!==s&&+r)&&Oe.exec(pe.css(e,t)),p;if(l&&l[3]!==s){s=s||l[3],n=n||[],l=+r||1;do a=a||'.5',l/=a,pe.style(e,t,l+s);while(a!=(a=d()/r)&&1!=a&&--i)}return n&&(l=+l||+r||0,p=n[1]?l+(n[1]+1)*n[2]:+n[2],o&&(o.unit=s,o.start=l,o.end=p)),p}function f(e,t){var n='undefined'==typeof e.getElementsByTagName?'undefined'==typeof e.querySelectorAll?[]:e.querySelectorAll(t||'*'):e.getElementsByTagName(t||'*');return void 0===t||t&&pe.nodeName(e,t)?pe.merge([e],n):n}function y(e,t){for(var n=0,o=e.length;n<o;n++)Le.set(e[n],'globalEval',!t||Le.get(t[n],'globalEval'))}function x(e,t,n,o,a){for(var d=t.createDocumentFragment(),r=[],s=0,i=e.length,l,p,c,h,u,g;s<i;s++)if(l=e[s],l||0===l)if('object'===pe.type(l))pe.merge(r,l.nodeType?[l]:l);else if(!We.test(l))r.push(t.createTextNode(l));else{for(p=p||d.appendChild(t.createElement('div')),c=(qe.exec(l)||['',''])[1].toLowerCase(),h=He[c]||He._default,p.innerHTML=h[1]+pe.htmlPrefilter(l)+h[2],g=h[0];g--;)p=p.lastChild;pe.merge(r,p.childNodes),p=d.firstChild,p.textContent=''}for(d.textContent='',s=0;l=r[s++];){if(o&&-1<pe.inArray(l,o)){a&&a.push(l);continue}if(u=pe.contains(l.ownerDocument,l),p=f(d.appendChild(l),'script'),u&&y(p),n)for(g=0;l=p[g++];)_e.test(l.type||'')&&n.push(l)}return d}function v(){return!0}function b(){return!1}function w(){try{return ee.activeElement}catch(e){}}function k(e,t,n,o,a,i){var d,r;if('object'==typeof t){for(r in'string'!=typeof n&&(o=o||n,n=void 0),t)k(e,r,n,o,t[r],i);return e}if(null==o&&null==a?(a=n,o=n=void 0):null==a&&('string'==typeof n?(a=o,o=void 0):(a=o,o=n,n=void 0)),!1===a)a=b;else if(!a)return e;return 1===i&&(d=a,a=function(e){return pe().off(e),d.apply(this,arguments)},a.guid=d.guid||(d.guid=pe.guid++)),e.each(function(){pe.event.add(this,t,a,o,n)})}function T(e,t){return pe.nodeName(e,'table')&&pe.nodeName(11===t.nodeType?t.firstChild:t,'tr')?e.getElementsByTagName('tbody')[0]||e.appendChild(e.ownerDocument.createElement('tbody')):e}function C(e){return e.type=(null!==e.getAttribute('type'))+'/'+e.type,e}function E(e){var t=$e.exec(e.type);return t?e.type=t[1]:e.removeAttribute('type'),e}function S(e,t){var n,o,a,i,d,r,s,l;if(1===t.nodeType){if(Le.hasData(e)&&(i=Le.access(e),d=Le.set(t,i),l=i.events,l))for(a in delete d.handle,d.events={},l)for(n=0,o=l[a].length;n<o;n++)pe.event.add(t,a,l[a][n]);Re.hasData(e)&&(r=Re.access(e),s=pe.extend({},r),Re.set(t,s))}}function I(e,t){var n=t.nodeName.toLowerCase();'input'===n&&Me.test(e.type)?t.checked=e.checked:('input'===n||'textarea'===n)&&(t.defaultValue=e.defaultValue)}function N(e,t,n,o){t=ne.apply([],t);var a=0,i=e.length,d=t[0],r=pe.isFunction(d),s,l,p,c,h,u;if(r||1<i&&'string'==typeof d&&!se.checkClone&&Ke.test(d))return e.each(function(a){var i=e.eq(a);r&&(t[0]=d.call(this,a,i.html())),N(i,t,n,o)});if(i&&(s=x(t,e[0].ownerDocument,!1,e,o),l=s.firstChild,1===s.childNodes.length&&(s=l),l||o)){for(p=pe.map(f(s,'script'),C),c=p.length;a<i;a++)h=s,a!=i-1&&(h=pe.clone(h,!0,!0),c&&pe.merge(p,f(h,'script'))),n.call(e[a],h,a);if(c)for(u=p[p.length-1].ownerDocument,pe.map(p,E),a=0;a<c;a++)h=p[a],_e.test(h.type||'')&&!Le.access(h,'globalEval')&&pe.contains(u,h)&&(h.src?pe._evalUrl&&pe._evalUrl(h.src):pe.globalEval(h.textContent.replace(Ge,'')))}return e}function A(e,t,n){for(var o=t?pe.filter(t,e):e,a=0,i;null!=(i=o[a]);a++)n||1!==i.nodeType||pe.cleanData(f(i)),i.parentNode&&(n&&pe.contains(i.ownerDocument,i)&&y(f(i,'script')),i.parentNode.removeChild(i));return e}function L(e,t){var n=pe(t.createElement(e)).appendTo(t.body),o=pe.css(n[0],'display');return n.detach(),o}function R(e){var t=ee,n=Qe[e];return n||(n=L(e,t),('none'===n||!n)&&(ot=(ot||pe('<iframe frameborder=\'0\' width=\'0\' height=\'0\'/>')).appendTo(t.documentElement),t=ot[0].contentDocument,t.write(),t.close(),n=L(e,t),ot.detach()),Qe[e]=n),n}function j(e,t,n){var o=e.style,a,i,d,r;return n=n||et(e),r=n?n.getPropertyValue(t)||n[t]:void 0,''!==r&&void 0!==r||pe.contains(e.ownerDocument,e)||(r=pe.style(e,t)),n&&!se.pixelMarginRight()&&Ze.test(r)&&Je.test(t)&&(a=o.width,i=o.minWidth,d=o.maxWidth,o.minWidth=o.maxWidth=o.width=r,r=n.width,o.width=a,o.minWidth=i,o.maxWidth=d),void 0===r?r:r+''}function P(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function D(e){if(e in st)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=rt.length;n--;)if(e=rt[n]+t,e in st)return e}function O(e,t,n){var a=Oe.exec(t);return a?o(0,a[2]-(n||0))+(a[3]||'px'):t}function F(e,t,n,o,a){for(var d=n===(o?'border':'content')?4:'width'===t?1:0,i=0;4>d;d+=2)'margin'===n&&(i+=pe.css(e,n+Fe[d],!0,a)),o?('content'===n&&(i-=pe.css(e,'padding'+Fe[d],!0,a)),'margin'!==n&&(i-=pe.css(e,'border'+Fe[d]+'Width',!0,a))):(i+=pe.css(e,'padding'+Fe[d],!0,a),'padding'!==n&&(i+=pe.css(e,'border'+Fe[d]+'Width',!0,a)));return i}function B(e,t,n){var o=!0,a='width'===t?e.offsetWidth:e.offsetHeight,i=et(e),d='border-box'===pe.css(e,'boxSizing',!1,i);if(0>=a||null==a){if(a=j(e,t,i),(0>a||null==a)&&(a=e.style[t]),Ze.test(a))return a;o=d&&(se.boxSizingReliable()||a===e.style[t]),a=parseFloat(a)||0}return a+F(e,t,n||(d?'border':'content'),o,i)+'px'}function M(e,t){for(var n=[],o=0,a=e.length,i,d,r;o<a;o++)(d=e[o],!!d.style)&&(n[o]=Le.get(d,'olddisplay'),i=d.style.display,t?(!n[o]&&'none'===i&&(d.style.display=''),''===d.style.display&&Be(d)&&(n[o]=Le.access(d,'olddisplay',R(d.nodeName)))):(r=Be(d),('none'!==i||!r)&&Le.set(d,'olddisplay',r?i:pe.css(d,'display'))));for(o=0;o<a;o++)(d=e[o],!!d.style)&&(t&&'none'!==d.style.display&&''!==d.style.display||(d.style.display=t?n[o]||'':'none'));return e}function q(e,t,n,o,a){return new q.prototype.init(e,t,n,o,a)}function _(){return d.setTimeout(function(){ct=void 0}),ct=pe.now()}function H(e,t){var n=0,o={height:e},a;for(t=t?1:0;4>n;n+=2-t)a=Fe[n],o['margin'+a]=o['padding'+a]=e;return t&&(o.opacity=o.width=e),o}function W(e,t,n){for(var o=(X.tweeners[t]||[]).concat(X.tweeners['*']),a=0,i=o.length,d;a<i;a++)if(d=o[a].call(n,t,e))return d}function Y(e,t){var n,o,a,i,d;for(n in e)if(o=pe.camelCase(n),a=t[o],i=e[n],pe.isArray(i)&&(a=i[1],i=e[n]=i[0]),n!==o&&(e[o]=i,delete e[n]),d=pe.cssHooks[o],d&&'expand'in d)for(n in i=d.expand(i),delete e[o],i)n in e||(e[n]=i[n],t[n]=a);else t[o]=a}function X(e,t,n){var a=0,i=X.prefilters.length,d=pe.Deferred().always(function(){delete r.elem}),r=function(){if(c)return!1;for(var t=ct||_(),n=o(0,s.startTime+s.duration-t),a=n/s.duration||0,i=1-a,r=0,l=s.tweens.length;r<l;r++)s.tweens[r].run(i);return d.notifyWith(e,[s,i,n]),1>i&&l?n:(d.resolveWith(e,[s]),!1)},s=d.promise({elem:e,props:pe.extend({},t),opts:pe.extend(!0,{specialEasing:{},easing:pe.easing._default},n),originalProperties:t,originalOptions:n,startTime:ct||_(),duration:n.duration,tweens:[],createTween:function(t,n){var o=pe.Tween(e,s.opts,t,n,s.opts.specialEasing[t]||s.opts.easing);return s.tweens.push(o),o},stop:function(t){var n=0,o=t?s.tweens.length:0;if(c)return this;for(c=!0;n<o;n++)s.tweens[n].run(1);return t?(d.notifyWith(e,[s,1,0]),d.resolveWith(e,[s,t])):d.rejectWith(e,[s,t]),this}}),l=s.props,p,c;for(Y(l,s.opts.specialEasing);a<i;a++)if(p=X.prefilters[a].call(s,e,l,s.opts),p)return pe.isFunction(p.stop)&&(pe._queueHooks(s.elem,s.opts.queue).stop=pe.proxy(p.stop,p)),p;return pe.map(l,W,s),pe.isFunction(s.opts.start)&&s.opts.start.call(e,s),pe.fx.timer(pe.extend(r,{elem:e,anim:s,queue:s.opts.queue})),s.progress(s.opts.progress).done(s.opts.done,s.opts.complete).fail(s.opts.fail).always(s.opts.always)}function V(e){return e.getAttribute&&e.getAttribute('class')||''}function z(e){return function(t,n){'string'!=typeof t&&(n=t,t='*');var o=0,a=t.toLowerCase().match(Se)||[],i;if(pe.isFunction(n))for(;i=a[o++];)'+'===i[0]?(i=i.slice(1)||'*',(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function U(e,t,n,o){function a(r){var s;return i[r]=!0,pe.each(e[r]||[],function(e,r){var l=r(t,n,o);return'string'!=typeof l||d||i[l]?d?!(s=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),s}var i={},d=e===Rt;return a(t.dataTypes[0])||!i['*']&&a('*')}function K(e,t){var n=pe.ajaxSettings.flatOptions||{},o,a;for(o in t)void 0!==t[o]&&((n[o]?e:a||(a={}))[o]=t[o]);return a&&pe.extend(!0,e,a),e}function $(e,t,n){for(var o=e.contents,a=e.dataTypes,i,d,r,s;'*'===a[0];)a.shift(),void 0==i&&(i=e.mimeType||t.getResponseHeader('Content-Type'));if(i)for(d in o)if(o[d]&&o[d].test(i)){a.unshift(d);break}if(a[0]in n)r=a[0];else{for(d in n){if(!a[0]||e.converters[d+' '+a[0]]){r=d;break}s||(s=d)}r=r||s}return r?(r!==a[0]&&a.unshift(r),n[r]):void 0}function G(e,t,n,o){var a={},i=e.dataTypes.slice(),d,r,s,l,p;if(i[1])for(s in e.converters)a[s.toLowerCase()]=e.converters[s];for(r=i.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!p&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),p=r,r=i.shift(),r)if('*'===r)r=p;else if('*'!==p&&p!==r){if(s=a[p+' '+r]||a['* '+r],!s)for(d in a)if(l=d.split(' '),l[1]===r&&(s=a[p+' '+l[0]]||a['* '+l[0]],s)){!0===s?s=a[d]:!0!==a[d]&&(r=l[0],i.unshift(l[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(t){return{state:'parsererror',error:s?t:'No conversion from '+p+' to '+r}}}return{state:'success',data:t}}function Q(e,t,n,o){if(pe.isArray(t))pe.each(t,function(t,a){n||Ot.test(e)?o(e,a):Q(e+'['+('object'==typeof a&&null!=a?t:'')+']',a,n,o)});else if(!n&&'object'===pe.type(t))for(var a in t)Q(e+'['+a+']',t[a],n,o);else o(e,t)}function J(e){return pe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var Z=[],ee=d.document,te=Z.slice,ne=Z.concat,oe=Z.push,ae=Z.indexOf,ie={},de=ie.toString,re=ie.hasOwnProperty,se={},le='2.2.4',pe=function(e,t){return new pe.fn.init(e,t)},ce=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,he=/^-ms-/,ue=/-([\da-z])/gi,ge=function(e,t){return t.toUpperCase()};pe.fn=pe.prototype={jquery:le,constructor:pe,selector:'',length:0,toArray:function(){return te.call(this)},get:function(e){return null==e?te.call(this):0>e?this[e+this.length]:this[e]},pushStack:function(e){var t=pe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return pe.each(this,e)},map:function(e){return this.pushStack(pe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(te.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:oe,sort:Z.sort,splice:Z.splice},pe.extend=pe.fn.extend=function(){var e=arguments[0]||{},t=1,n=arguments.length,o=!1,a,i,d,r,s,l;for('boolean'==typeof e&&(o=e,e=arguments[t]||{},t++),'object'==typeof e||pe.isFunction(e)||(e={}),t===n&&(e=this,t--);t<n;t++)if(null!=(a=arguments[t]))for(i in a)(d=e[i],r=a[i],e!==r)&&(o&&r&&(pe.isPlainObject(r)||(s=pe.isArray(r)))?(s?(s=!1,l=d&&pe.isArray(d)?d:[]):l=d&&pe.isPlainObject(d)?d:{},e[i]=pe.extend(o,l,r)):void 0!==r&&(e[i]=r));return e},pe.extend({expando:'jQuery'+(le+Math.random()).replace(/\D/g,''),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return'function'===pe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!pe.isArray(e)&&0<=t-parseFloat(t)+1},isPlainObject:function(e){if('object'!==pe.type(e)||e.nodeType||pe.isWindow(e))return!1;if(e.constructor&&!re.call(e,'constructor')&&!re.call(e.constructor.prototype||{},'isPrototypeOf'))return!1;for(var t in e);return void 0==t||re.call(e,t)},isEmptyObject:function(e){for(var t in e)return!1;return!0},type:function(e){return null==e?e+'':'object'==typeof e||'function'==typeof e?ie[de.call(e)]||'object':typeof e},globalEval:function(e){var t=eval,n;e=pe.trim(e),e&&(1===e.indexOf('use strict')?(n=ee.createElement('script'),n.text=e,ee.head.appendChild(n).parentNode.removeChild(n)):t(e))},camelCase:function(e){return e.replace(he,'ms-').replace(ue,ge)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n=0,o;if(s(e))for(o=e.length;n<o&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?'':(e+'').replace(ce,'')},makeArray:function(e,t){var n=t||[];return null!=e&&(s(Object(e))?pe.merge(n,'string'==typeof e?[e]:e):oe.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ae.call(t,e,n)},merge:function(e,t){for(var n=+t.length,o=0,a=e.length;o<n;o++)e[a++]=t[o];return e.length=a,e},grep:function(e,t,n){for(var o=[],a=0,i=e.length,d;a<i;a++)d=!t(e[a],a),d!==!n&&o.push(e[a]);return o},map:function(e,t,n){var o=0,a=[],i,d;if(s(e))for(i=e.length;o<i;o++)d=t(e[o],o,n),null!=d&&a.push(d);else for(o in e)d=t(e[o],o,n),null!=d&&a.push(d);return ne.apply([],a)},guid:1,proxy:function(e,t){var n,o,a;if('string'==typeof t&&(n=e[t],t=e,e=n),!!pe.isFunction(e))return o=te.call(arguments,2),a=function(){return e.apply(t||this,o.concat(te.call(arguments)))},a.guid=e.guid=e.guid||pe.guid++,a},now:Date.now,support:se}),'function'==typeof Symbol&&(pe.fn[Symbol.iterator]=Z[Symbol.iterator]),pe.each(['Boolean','Number','String','Function','Array','Date','RegExp','Object','Error','Symbol'],function(e,t){ie['[object '+t+']']=t.toLowerCase()});var me=function(e){function t(e,t,n,o){var a=t&&t.ownerDocument,d=t?t.nodeType:9,r,s,i,l,p,c,u,m;if(n=n||[],'string'!=typeof e||!e||1!==d&&9!==d&&11!==d)return n;if(!o&&((t?t.ownerDocument||t:T)!==me&&ge(t),t=t||me,ye)){if(11!==d&&(c=J.exec(e)))if(!(r=c[1])){if(c[2])return O.apply(n,t.getElementsByTagName(e)),n;if((r=c[3])&&ie.getElementsByClassName&&t.getElementsByClassName)return O.apply(n,t.getElementsByClassName(r)),n}else if(9===d){if(!(i=t.getElementById(r)))return n;if(i.id===r)return n.push(i),n}else if(a&&(i=a.getElementById(r))&&we(t,i)&&i.id===r)return n.push(i),n;if(ie.qsa&&!N[e+' ']&&(!xe||!xe.test(e))){if(1!==d)a=t,m=e;else if('object'!==t.nodeName.toLowerCase()){for((l=t.getAttribute('id'))?l=l.replace(ee,'\\$&'):t.setAttribute('id',l=k),u=se(e),s=u.length,p=U.test(l)?'#'+l:'[id=\''+l+'\']';s--;)u[s]=p+' '+g(u[s]);m=u.join(','),a=Z.test(e)&&h(t.parentNode)||t}if(m)try{return O.apply(n,a.querySelectorAll(m)),n}catch(e){}finally{l===k&&t.removeAttribute('id')}}}return pe(e.replace(W,'$1'),t,n,o)}function o(){function e(n,o){return t.push(n+' ')>de.cacheLength&&delete e[t.shift()],e[n+' ']=o}var t=[];return e}function a(e){return e[k]=!0,e}function d(e){var t=me.createElement('div');try{return!!e(t)}catch(t){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split('|'),o=n.length;o--;)de.attrHandle[n[o]]=t}function s(e,t){var n=t&&e,o=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||L)-(~e.sourceIndex||L);if(o)return o;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return'input'===n&&t.type===e}}function p(e){return function(t){var n=t.nodeName.toLowerCase();return('input'===n||'button'===n)&&t.type===e}}function c(e){return a(function(t){return t=+t,a(function(n,o){for(var a=e([],n.length,t),d=a.length,i;d--;)n[i=a[d]]&&(n[i]=!(o[i]=n[i]))})})}function h(e){return e&&'undefined'!=typeof e.getElementsByTagName&&e}function u(){}function g(e){for(var t=0,n=e.length,o='';t<n;t++)o+=e[t].value;return o}function m(e,t,n){var o=t.dir,a=n&&'parentNode'===o,i=E++;return t.first?function(t,n,i){for(;t=t[o];)if(1===t.nodeType||a)return e(t,n,i)}:function(t,n,d){var r=[C,i],s,l,p;if(d){for(;t=t[o];)if((1===t.nodeType||a)&&e(t,n,d))return!0;}else for(;t=t[o];)if(1===t.nodeType||a){if(p=t[k]||(t[k]={}),l=p[t.uniqueID]||(p[t.uniqueID]={}),(s=l[o])&&s[0]===C&&s[1]===i)return r[2]=s[2];if(l[o]=r,r[2]=e(t,n,d))return!0}}}function f(e){return 1<e.length?function(t,n,o){for(var a=e.length;a--;)if(!e[a](t,n,o))return!1;return!0}:e[0]}function y(e,n,o){for(var a=0,i=n.length;a<i;a++)t(e,n[a],o);return o}function x(e,t,n,o,a){for(var d=[],r=0,i=e.length,s;r<i;r++)(s=e[r])&&(!n||n(s,o,a))&&(d.push(s),null!=t&&t.push(r));return d}function v(e,t,n,o,d,i){return o&&!o[k]&&(o=v(o)),d&&!d[k]&&(d=v(d,i)),a(function(a,r,s,l){var p=[],c=[],h=r.length,u=a||y(t||'*',s.nodeType?[s]:s,[]),g=e&&(a||!t)?x(u,p,e,s,l):u,m=n?d||(a?e:h||o)?[]:r:g,f,v,i;if(n&&n(g,m,s,l),o)for(f=x(m,c),o(f,[],s,l),v=f.length;v--;)(i=f[v])&&(m[c[v]]=!(g[c[v]]=i));if(!a)m=x(m===r?m.splice(h,m.length):m),d?d(null,r,m,l):O.apply(r,m);else if(d||e){if(d){for(f=[],v=m.length;v--;)(i=m[v])&&f.push(g[v]=i);d(null,m=[],f,l)}for(v=m.length;v--;)(i=m[v])&&-1<(f=d?B(a,i):p[v])&&(a[f]=!(r[f]=i))}})}function b(e){for(var t=e.length,n=de.relative[e[0].type],o=n||de.relative[' '],a=n?1:0,i=m(function(e){return e===s},o,!0),d=m(function(e){return-1<B(s,e)},o,!0),r=[function(e,t,o){var a=!n&&(o||t!==ce)||((s=t).nodeType?i(e,t,o):d(e,t,o));return s=null,a}],s,l,p;a<t;a++)if(l=de.relative[e[a].type])r=[m(f(r),l)];else{if(l=de.filter[e[a].type].apply(null,e[a].matches),l[k]){for(p=++a;p<t&&!de.relative[e[p].type];p++);return v(1<a&&f(r),1<a&&g(e.slice(0,a-1).concat({value:' '===e[a-2].type?'*':''})).replace(W,'$1'),l,a<p&&b(e.slice(a,p)),p<t&&b(e=e.slice(p)),p<t&&g(e))}r.push(l)}return f(r)}function w(e,n){var o=0<n.length,d=0<e.length,i=function(a,r,s,l,p){var c=0,h='0',i=a&&[],u=[],g=ce,m=a||d&&de.find.TAG('*',p),f=C+=null==g?1:Math.random()||0.1,y=m.length,v,b,w;for(p&&(ce=r===me||r||p);h!==y&&null!=(v=m[h]);h++){if(d&&v){for(b=0,r||v.ownerDocument===me||(ge(v),s=!ye);w=e[b++];)if(w(v,r||me,s)){l.push(v);break}p&&(C=f)}o&&((v=!w&&v)&&c--,a&&i.push(v))}if(c+=h,o&&h!==c){for(b=0;w=n[b++];)w(i,u,r,s);if(a){if(0<c)for(;h--;)i[h]||u[h]||(u[h]=P.call(l));u=x(u)}O.apply(l,u),p&&!a&&0<u.length&&1<c+n.length&&t.uniqueSort(l)}return p&&(C=f,ce=g),i};return o?a(i):i}var k='sizzle'+1*new Date,T=e.document,C=0,E=0,S=o(),I=o(),N=o(),A=function(e,t){return e===t&&(ue=!0),0},L=-2147483648,R={}.hasOwnProperty,j=[],P=j.pop,D=j.push,O=j.push,F=j.slice,B=function(e,t){for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},M='checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped',q='[\\x20\\t\\r\\n\\f]',_='(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+',H=/[\x20\t\r\n\f]+/g,W=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,Y=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,X=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,V=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,z=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,U=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,K={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},$=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,ee=/'|\\/g,te=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,ne=function(e,t,o){var a='0x'+t-65536;return a!=a||o?t:0>a?n(a+65536):n(55296|a>>10,56320|1023&a)},oe=function(){ge()},ae,ie,de,re,i,se,le,pe,ce,he,ue,ge,me,fe,ye,xe,ve,be,we;try{O.apply(j=F.call(T.childNodes),T.childNodes),j[T.childNodes.length].nodeType}catch(t){O={apply:j.length?function(e,t){D.apply(e,F.call(t))}:function(e,t){for(var n=e.length,o=0;e[n++]=t[o++];);e.length=n-1}}}for(ae in ie=t.support={},i=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&'HTML'!==t.nodeName},ge=t.setDocument=function(e){var t=e?e.ownerDocument||e:T,n,o;return t!==me&&9===t.nodeType&&t.documentElement?(me=t,fe=me.documentElement,ye=!i(me),(o=me.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener('unload',oe,!1):o.attachEvent&&o.attachEvent('onunload',oe)),ie.attributes=d(function(e){return e.className='i',!e.getAttribute('className')}),ie.getElementsByTagName=d(function(e){return e.appendChild(me.createComment('')),!e.getElementsByTagName('*').length}),ie.getElementsByClassName=Q.test(me.getElementsByClassName),ie.getById=d(function(e){return fe.appendChild(e).id=k,!me.getElementsByName||!me.getElementsByName(k).length}),ie.getById?(de.find.ID=function(e,t){if('undefined'!=typeof t.getElementById&&ye){var n=t.getElementById(e);return n?[n]:[]}},de.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute('id')===t}}):(delete de.find.ID,de.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n='undefined'!=typeof e.getAttributeNode&&e.getAttributeNode('id');return n&&n.value===t}}),de.find.TAG=ie.getElementsByTagName?function(e,t){return'undefined'==typeof t.getElementsByTagName?ie.qsa?t.querySelectorAll(e):void 0:t.getElementsByTagName(e)}:function(e,t){var n=[],o=0,a=t.getElementsByTagName(e),i;if('*'===e){for(;i=a[o++];)1===i.nodeType&&n.push(i);return n}return a},de.find.CLASS=ie.getElementsByClassName&&function(e,t){if('undefined'!=typeof t.getElementsByClassName&&ye)return t.getElementsByClassName(e)},ve=[],xe=[],(ie.qsa=Q.test(me.querySelectorAll))&&(d(function(e){fe.appendChild(e).innerHTML='<a id=\''+k+'\'></a><select id=\''+k+'-\r\\\' msallowcapture=\'\'><option selected=\'\'></option></select>',e.querySelectorAll('[msallowcapture^=\'\']').length&&xe.push('[*^$]='+q+'*(?:\'\'|"")'),e.querySelectorAll('[selected]').length||xe.push('\\['+q+'*(?:value|'+M+')'),e.querySelectorAll('[id~='+k+'-]').length||xe.push('~='),e.querySelectorAll(':checked').length||xe.push(':checked'),e.querySelectorAll('a#'+k+'+*').length||xe.push('.#.+[+~]')}),d(function(e){var t=me.createElement('input');t.setAttribute('type','hidden'),e.appendChild(t).setAttribute('name','D'),e.querySelectorAll('[name=d]').length&&xe.push('name'+q+'*[*^$|!~]?='),e.querySelectorAll(':enabled').length||xe.push(':enabled',':disabled'),e.querySelectorAll('*,:x'),xe.push(',.*:')})),(ie.matchesSelector=Q.test(be=fe.matches||fe.webkitMatchesSelector||fe.mozMatchesSelector||fe.oMatchesSelector||fe.msMatchesSelector))&&d(function(e){ie.disconnectedMatch=be.call(e,'div'),be.call(e,'[s!=\'\']:x'),ve.push('!=',':('+_+')(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|'+('\\['+q+'*('+_+')(?:'+q+'*([*^$|!~]?=)'+q+'*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|('+_+'))|)'+q+'*\\]')+')*)|.*)\\)|)')}),xe=xe.length&&new RegExp(xe.join('|')),ve=ve.length&&new RegExp(ve.join('|')),n=Q.test(fe.compareDocumentPosition),we=n||Q.test(fe.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!!(o&&1===o.nodeType&&(n.contains?n.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=n?function(e,t){if(e===t)return ue=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!ie.sortDetached&&t.compareDocumentPosition(e)===n?e===me||e.ownerDocument===T&&we(T,e)?-1:t===me||t.ownerDocument===T&&we(T,t)?1:he?B(he,e)-B(he,t):0:4&n?-1:1)}:function(e,t){if(e===t)return ue=!0,0;var n=0,o=e.parentNode,a=t.parentNode,i=[e],d=[t],r;if(!o||!a)return e===me?-1:t===me?1:o?-1:a?1:he?B(he,e)-B(he,t):0;if(o===a)return s(e,t);for(r=e;r=r.parentNode;)i.unshift(r);for(r=t;r=r.parentNode;)d.unshift(r);for(;i[n]===d[n];)n++;return n?s(i[n],d[n]):i[n]===T?-1:d[n]===T?1:0},me):me},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==me&&ge(e),n=n.replace(V,'=\'$1\']'),ie.matchesSelector&&ye&&!N[n+' ']&&(!ve||!ve.test(n))&&(!xe||!xe.test(n)))try{var o=be.call(e,n);if(o||ie.disconnectedMatch||e.document&&11!==e.document.nodeType)return o}catch(t){}return 0<t(n,me,null,[e]).length},t.contains=function(e,t){return(e.ownerDocument||e)!==me&&ge(e),we(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==me&&ge(e);var n=de.attrHandle[t.toLowerCase()],o=n&&R.call(de.attrHandle,t.toLowerCase())?n(e,t,!ye):void 0;return void 0===o?ie.attributes||!ye?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null:o},t.error=function(e){throw new Error('Syntax error, unrecognized expression: '+e)},t.uniqueSort=function(e){var t=[],n=0,o=0,a;if(ue=!ie.detectDuplicates,he=!ie.sortStable&&e.slice(0),e.sort(A),ue){for(;a=e[o++];)a===e[o]&&(n=t.push(o));for(;n--;)e.splice(t[n],1)}return he=null,e},re=t.getText=function(e){var t='',n=0,o=e.nodeType,a;if(!o)for(;a=e[n++];)t+=re(a);else if(1===o||9===o||11===o){if('string'==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)t+=re(e)}else if(3===o||4===o)return e.nodeValue;return t},de=t.selectors={cacheLength:50,createPseudo:a,match:K,attrHandle:{},find:{},relative:{">":{dir:'parentNode',first:!0}," ":{dir:'parentNode'},"+":{dir:'previousSibling',first:!0},"~":{dir:'previousSibling'}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||'').replace(te,ne),'~='===e[2]&&(e[3]=' '+e[3]+' '),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),'nth'===e[1].slice(0,3)?(!e[3]&&t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*('even'===e[3]||'odd'===e[3])),e[5]=+(e[7]+e[8]||'odd'===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t=!e[6]&&e[2],n;return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||'':t&&z.test(t)&&(n=se(t,!0))&&(n=t.indexOf(')',t.length-n)-t.length)&&(e[0]=e[0].slice(0,n),e[2]=t.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return'*'===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+' '];return t||(t=new RegExp('(^|'+q+')'+e+'('+q+'|$)'))&&S(e,function(e){return t.test('string'==typeof e.className&&e.className||'undefined'!=typeof e.getAttribute&&e.getAttribute('class')||'')})},ATTR:function(e,n,o){return function(a){var i=t.attr(a,e);return null==i?'!='===n:!n||(i+='','='===n?i===o:'!='===n?i!==o:'^='===n?o&&0===i.indexOf(o):'*='===n?o&&-1<i.indexOf(o):'$='===n?o&&i.slice(-o.length)===o:'~='===n?-1<(' '+i.replace(H,' ')+' ').indexOf(o):'|='===n&&(i===o||i.slice(0,o.length+1)===o+'-'))}},CHILD:function(e,t,n,o,a){var i='nth'!==e.slice(0,3),d='last'!==e.slice(-4),r='of-type'===t;return 1===o&&0===a?function(e){return!!e.parentNode}:function(t,n,s){var l=i==d?'previousSibling':'nextSibling',p=t.parentNode,c=r&&t.nodeName.toLowerCase(),h=!s&&!r,u=!1,g,m,f,y,x,v;if(p){if(i){for(;l;){for(y=t;y=y[l];)if(r?y.nodeName.toLowerCase()===c:1===y.nodeType)return!1;v=l='only'===e&&!v&&'nextSibling'}return!0}if(v=[d?p.firstChild:p.lastChild],d&&h){for(y=p,f=y[k]||(y[k]={}),m=f[y.uniqueID]||(f[y.uniqueID]={}),g=m[e]||[],x=g[0]===C&&g[1],u=x&&g[2],y=x&&p.childNodes[x];y=++x&&y&&y[l]||(u=x=0)||v.pop();)if(1===y.nodeType&&++u&&y===t){m[e]=[C,x,u];break}}else if(h&&(y=t,f=y[k]||(y[k]={}),m=f[y.uniqueID]||(f[y.uniqueID]={}),g=m[e]||[],x=g[0]===C&&g[1],u=x),!1===u)for(;(y=++x&&y&&y[l]||(u=x=0)||v.pop())&&!((r?y.nodeName.toLowerCase()===c:1===y.nodeType)&&++u&&(h&&(f=y[k]||(y[k]={}),m=f[y.uniqueID]||(f[y.uniqueID]={}),m[e]=[C,u]),y===t)););return u-=a,u===o||0==u%o&&0<=u/o}}},PSEUDO:function(e,n){var o=de.pseudos[e]||de.setFilters[e.toLowerCase()]||t.error('unsupported pseudo: '+e),i;return o[k]?o(n):1<o.length?(i=[e,e,'',n],de.setFilters.hasOwnProperty(e.toLowerCase())?a(function(e,t){for(var a=o(e,n),d=a.length,i;d--;)i=B(e,a[d]),e[i]=!(t[i]=a[d])}):function(e){return o(e,0,i)}):o}},pseudos:{not:a(function(e){var t=[],n=[],o=le(e.replace(W,'$1'));return o[k]?a(function(e,t,n,a){for(var d=o(e,null,a,[]),r=e.length,i;r--;)(i=d[r])&&(e[r]=!(t[r]=i))}):function(e,a,i){return t[0]=e,o(t,null,i,n),t[0]=null,!n.pop()}}),has:a(function(e){return function(n){return 0<t(e,n).length}}),contains:a(function(e){return e=e.replace(te,ne),function(t){return-1<(t.textContent||t.innerText||re(t)).indexOf(e)}}),lang:a(function(e){return U.test(e||'')||t.error('unsupported lang: '+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do if(n=ye?t.lang:t.getAttribute('xml:lang')||t.getAttribute('lang'))return n=n.toLowerCase(),n===e||0===n.indexOf(e+'-');while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===fe},focus:function(e){return e===me.activeElement&&(!me.hasFocus||me.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return'input'===t&&!!e.checked||'option'===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(6>e.nodeType)return!1;return!0},parent:function(e){return!de.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return $.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return'input'===t&&'button'===e.type||'button'===t},text:function(e){var t;return'input'===e.nodeName.toLowerCase()&&'text'===e.type&&(null==(t=e.getAttribute('type'))||'text'===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var o=0>n?n+t:n;0<=--o;)e.push(o);return e}),gt:c(function(e,t,n){for(var o=0>n?n+t:n;++o<t;)e.push(o);return e})}},de.pseudos.nth=de.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})de.pseudos[ae]=l(ae);for(ae in{submit:!0,reset:!0})de.pseudos[ae]=p(ae);return u.prototype=de.filters=de.pseudos,de.setFilters=new u,se=t.tokenize=function(e,n){var o=I[e+' '],a,i,d,r,s,l,p;if(o)return n?0:o.slice(0);for(s=e,l=[],p=de.preFilter;s;){for(r in(!a||(i=Y.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(d=[])),a=!1,(i=X.exec(s))&&(a=i.shift(),d.push({value:a,type:i[0].replace(W,' ')}),s=s.slice(a.length)),de.filter)(i=K[r].exec(s))&&(!p[r]||(i=p[r](i)))&&(a=i.shift(),d.push({value:a,type:r,matches:i}),s=s.slice(a.length));if(!a)break}return n?s.length:s?t.error(e):I(e,l).slice(0)},le=t.compile=function(e,t){var n=[],o=[],a=N[e+' '],d;if(!a){for(t||(t=se(e)),d=t.length;d--;)a=b(t[d]),a[k]?n.push(a):o.push(a);a=N(e,w(o,n)),a.selector=e}return a},pe=t.select=function(e,t,n,o){var a='function'==typeof e&&e,d=!o&&se(e=a.selector||e),r,i,s,l,p;if(n=n||[],1===d.length){if(i=d[0]=d[0].slice(0),2<i.length&&'ID'===(s=i[0]).type&&ie.getById&&9===t.nodeType&&ye&&de.relative[i[1].type]){if(t=(de.find.ID(s.matches[0].replace(te,ne),t)||[])[0],!t)return n;a&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(r=K.needsContext.test(e)?0:i.length;r--&&(s=i[r],!de.relative[l=s.type]);)if((p=de.find[l])&&(o=p(s.matches[0].replace(te,ne),Z.test(i[0].type)&&h(t.parentNode)||t))){if(i.splice(r,1),e=o.length&&g(i),!e)return O.apply(n,o),n;break}}return(a||le(e,d))(o,t,!ye,n,!t||Z.test(e)&&h(t.parentNode)||t),n},ie.sortStable=k.split('').sort(A).join('')===k,ie.detectDuplicates=!!ue,ge(),ie.sortDetached=d(function(e){return 1&e.compareDocumentPosition(me.createElement('div'))}),d(function(e){return e.innerHTML='<a href=\'#\'></a>','#'===e.firstChild.getAttribute('href')})||r('type|href|height|width',function(e,t,n){if(!n)return e.getAttribute(t,'type'===t.toLowerCase()?1:2)}),ie.attributes&&d(function(e){return e.innerHTML='<input/>',e.firstChild.setAttribute('value',''),''===e.firstChild.getAttribute('value')})||r('value',function(e,t,n){if(!n&&'input'===e.nodeName.toLowerCase())return e.defaultValue}),d(function(e){return null==e.getAttribute('disabled')})||r(M,function(e,t,n){var o;if(!n)return!0===e[t]?t.toLowerCase():(o=e.getAttributeNode(t))&&o.specified?o.value:null}),t}(d);pe.find=me,pe.expr=me.selectors,pe.expr[':']=pe.expr.pseudos,pe.uniqueSort=pe.unique=me.uniqueSort,pe.text=me.getText,pe.isXMLDoc=me.isXML,pe.contains=me.contains;var fe=function(e,t,n){for(var o=[];(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(void 0!==n&&pe(e).is(n))break;o.push(e)}return o},ye=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},xe=pe.expr.match.needsContext,ve=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,be=/^.[^:#\[\.,]*$/;pe.filter=function(e,t,n){var o=t[0];return n&&(e=':not('+e+')'),1===t.length&&1===o.nodeType?pe.find.matchesSelector(o,e)?[o]:[]:pe.find.matches(e,pe.grep(t,function(e){return 1===e.nodeType}))},pe.fn.extend({find:function(e){var t=this.length,n=[],o=this,a;if('string'!=typeof e)return this.pushStack(pe(e).filter(function(){for(a=0;a<t;a++)if(pe.contains(o[a],this))return!0}));for(a=0;a<t;a++)pe.find(e,o[a],n);return n=this.pushStack(1<t?pe.unique(n):n),n.selector=this.selector?this.selector+' '+e:e,n},filter:function(e){return this.pushStack(l(this,e||[],!1))},not:function(e){return this.pushStack(l(this,e||[],!0))},is:function(e){return!!l(this,'string'==typeof e&&xe.test(e)?pe(e):e||[],!1).length}});var we=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ke=pe.fn.init=function(e,t,n){var o,a;if(!e)return this;if(n=n||Te,'string'==typeof e){if(o='<'===e[0]&&'>'===e[e.length-1]&&3<=e.length?[null,e,null]:we.exec(e),o&&(o[1]||!t)){if(o[1]){if(t=t instanceof pe?t[0]:t,pe.merge(this,pe.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:ee,!0)),ve.test(o[1])&&pe.isPlainObject(t))for(o in t)pe.isFunction(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return a=ee.getElementById(o[2]),a&&a.parentNode&&(this.length=1,this[0]=a),this.context=ee,this.selector=e,this}return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):pe.isFunction(e)?void 0===n.ready?e(pe):n.ready(e):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),pe.makeArray(e,this))},Te;ke.prototype=pe.fn,Te=pe(ee);var Ce=/^(?:parents|prev(?:Until|All))/,Ee={children:!0,contents:!0,next:!0,prev:!0};pe.fn.extend({has:function(e){var t=pe(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(pe.contains(this,t[e]))return!0})},closest:function(e,t){for(var n=0,o=this.length,a=[],i=xe.test(e)||'string'!=typeof e?pe(e,t||this.context):0,d;n<o;n++)for(d=this[n];d&&d!==t;d=d.parentNode)if(11>d.nodeType&&(i?-1<i.index(d):1===d.nodeType&&pe.find.matchesSelector(d,e))){a.push(d);break}return this.pushStack(1<a.length?pe.uniqueSort(a):a)},index:function(e){return e?'string'==typeof e?ae.call(pe(e),this[0]):ae.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(pe.uniqueSort(pe.merge(this.get(),pe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),pe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return fe(e,'parentNode')},parentsUntil:function(e,t,n){return fe(e,'parentNode',n)},next:function(e){return p(e,'nextSibling')},prev:function(e){return p(e,'previousSibling')},nextAll:function(e){return fe(e,'nextSibling')},prevAll:function(e){return fe(e,'previousSibling')},nextUntil:function(e,t,n){return fe(e,'nextSibling',n)},prevUntil:function(e,t,n){return fe(e,'previousSibling',n)},siblings:function(e){return ye((e.parentNode||{}).firstChild,e)},children:function(e){return ye(e.firstChild)},contents:function(e){return e.contentDocument||pe.merge([],e.childNodes)}},function(e,t){pe.fn[e]=function(n,o){var a=pe.map(this,t,n);return'Until'!==e.slice(-5)&&(o=n),o&&'string'==typeof o&&(a=pe.filter(o,a)),1<this.length&&(!Ee[e]&&pe.uniqueSort(a),Ce.test(e)&&a.reverse()),this.pushStack(a)}});var Se=/\S+/g;pe.Callbacks=function(e){e='string'==typeof e?c(e):pe.extend({},e);var t=[],n=[],o=-1,a=function(){for(l=e.once,s=d=!0;n.length;o=-1)for(r=n.shift();++o<t.length;)!1===t[o].apply(r[0],r[1])&&e.stopOnFalse&&(o=t.length,r=!1);e.memory||(r=!1),d=!1,l&&(r?t=[]:t='')},i={add:function(){return t&&(r&&!d&&(o=t.length-1,n.push(r)),function n(o){pe.each(o,function(o,a){pe.isFunction(a)?(!e.unique||!i.has(a))&&t.push(a):a&&a.length&&'string'!==pe.type(a)&&n(a)})}(arguments),r&&!d&&a()),this},remove:function(){return pe.each(arguments,function(e,n){for(var a;-1<(a=pe.inArray(n,t,a));)t.splice(a,1),a<=o&&o--}),this},has:function(e){return e?-1<pe.inArray(e,t):0<t.length},empty:function(){return t&&(t=[]),this},disable:function(){return l=n=[],t=r='',this},disabled:function(){return!t},lock:function(){return l=n=[],r||(t=r=''),this},locked:function(){return!!l},fireWith:function(e,t){return l||(t=t||[],t=[e,t.slice?t.slice():t],n.push(t),!d&&a()),this},fire:function(){return i.fireWith(this,arguments),this},fired:function(){return!!s}},d,r,s,l;return i},pe.extend({Deferred:function(e){var t=[['resolve','done',pe.Callbacks('once memory'),'resolved'],['reject','fail',pe.Callbacks('once memory'),'rejected'],['notify','progress',pe.Callbacks('memory')]],n='pending',o={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return pe.Deferred(function(n){pe.each(t,function(t,i){var d=pe.isFunction(e[t])&&e[t];a[i[1]](function(){var e=d&&d.apply(this,arguments);e&&pe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+'With'](this===o?n.promise():this,d?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null==e?o:pe.extend(e,o)}},a={};return o.pipe=o.then,pe.each(t,function(e,i){var d=i[2],r=i[3];o[i[1]]=d.add,r&&d.add(function(){n=r},t[1^e][2].disable,t[2][2].lock),a[i[0]]=function(){return a[i[0]+'With'](this===a?o:this,arguments),this},a[i[0]+'With']=d.fireWith}),o.promise(a),e&&e.call(a,a),a},when:function(e){var t=0,n=te.call(arguments),o=n.length,a=1!==o||e&&pe.isFunction(e.promise)?o:0,d=1===a?e:pe.Deferred(),i=function(e,t,n){return function(o){t[e]=this,n[e]=1<arguments.length?te.call(arguments):o,n===r?d.notifyWith(t,n):! --a&&d.resolveWith(t,n)}},r,s,l;if(1<o)for(r=Array(o),s=Array(o),l=Array(o);t<o;t++)n[t]&&pe.isFunction(n[t].promise)?n[t].promise().progress(i(t,s,r)).done(i(t,l,n)).fail(d.reject):--a;return a||d.resolveWith(l,n),d.promise()}});var Ie;pe.fn.ready=function(e){return pe.ready.promise().done(e),this},pe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?pe.readyWait++:pe.ready(!0)},ready:function(e){(!0===e?! --pe.readyWait:!pe.isReady)&&(pe.isReady=!0,!0!==e&&0<--pe.readyWait||(Ie.resolveWith(ee,[pe]),pe.fn.triggerHandler&&(pe(ee).triggerHandler('ready'),pe(ee).off('ready'))))}}),pe.ready.promise=function(e){return Ie||(Ie=pe.Deferred(),'complete'!==ee.readyState&&('loading'===ee.readyState||ee.documentElement.doScroll)?(ee.addEventListener('DOMContentLoaded',h),d.addEventListener('load',h)):d.setTimeout(pe.ready)),Ie.promise(e)},pe.ready.promise();var Ne=function(e,t,n,o,a,d,r){var s=0,i=e.length,l=null==n;if('object'===pe.type(n))for(s in a=!0,n)Ne(e,t,s,n[s],!0,d,r);else if(void 0!==o&&(a=!0,pe.isFunction(o)||(r=!0),l&&(r?(t.call(e,o),t=null):(l=t,t=function(e,t,n){return l.call(pe(e),n)})),t))for(;s<i;s++)t(e[s],n,r?o:o.call(e[s],s,t(e[s],n)));return a?e:l?t.call(e):i?t(e[0],n):d},Ae=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};u.uid=1,u.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Ae(e))return{};var t=e[this.expando];return t||(t={},Ae(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var o=this.cache(e),a;if('string'==typeof t)o[t]=n;else for(a in t)o[a]=t[a];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var o;return void 0===t||t&&'string'==typeof t&&void 0===n?(o=this.get(e,t),void 0===o?this.get(e,pe.camelCase(t)):o):(this.set(e,t,n),void 0===n?t:n)},remove:function(e,t){var n=e[this.expando],o,a,i;if(void 0!==n){if(void 0===t)this.register(e);else for(pe.isArray(t)?a=t.concat(t.map(pe.camelCase)):(i=pe.camelCase(t),(t in n)?a=[t,i]:(a=i,a=(a in n)?[a]:a.match(Se)||[])),o=a.length;o--;)delete n[a[o]];(void 0===t||pe.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!pe.isEmptyObject(t)}};var Le=new u,Re=new u,je=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Pe=/[A-Z]/g;pe.extend({hasData:function(e){return Re.hasData(e)||Le.hasData(e)},data:function(e,t,n){return Re.access(e,t,n)},removeData:function(e,t){Re.remove(e,t)},_data:function(e,t,n){return Le.access(e,t,n)},_removeData:function(e,t){Le.remove(e,t)}}),pe.fn.extend({data:function(e,t){var n=this[0],o=n&&n.attributes,a,i,d;if(void 0===e){if(this.length&&(d=Re.get(n),1===n.nodeType&&!Le.get(n,'hasDataAttrs'))){for(a=o.length;a--;)o[a]&&(i=o[a].name,0===i.indexOf('data-')&&(i=pe.camelCase(i.slice(5)),g(n,i,d[i])));Le.set(n,'hasDataAttrs',!0)}return d}return'object'==typeof e?this.each(function(){Re.set(this,e)}):Ne(this,function(t){var o,a;return n&&void 0===t?(o=Re.get(n,e)||Re.get(n,e.replace(Pe,'-$&').toLowerCase()),void 0!==o)?o:(a=pe.camelCase(e),o=Re.get(n,a),void 0!==o)?o:(o=g(n,a,void 0),void 0===o?void 0:o):void(a=pe.camelCase(e),this.each(function(){var n=Re.get(this,a);Re.set(this,a,t),-1<e.indexOf('-')&&void 0!==n&&Re.set(this,e,t)}))},null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Re.remove(this,e)})}}),pe.extend({queue:function(e,t,n){var o;if(e)return t=(t||'fx')+'queue',o=Le.get(e,t),n&&(!o||pe.isArray(n)?o=Le.access(e,t,pe.makeArray(n)):o.push(n)),o||[]},dequeue:function(e,t){t=t||'fx';var n=pe.queue(e,t),o=n.length,a=n.shift(),i=pe._queueHooks(e,t);'inprogress'===a&&(a=n.shift(),o--),a&&('fx'===t&&n.unshift('inprogress'),delete i.stop,a.call(e,function(){pe.dequeue(e,t)},i)),!o&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+'queueHooks';return Le.get(e,n)||Le.access(e,n,{empty:pe.Callbacks('once memory').add(function(){Le.remove(e,[t+'queue',n])})})}}),pe.fn.extend({queue:function(e,t){var n=2;return'string'!=typeof e&&(t=e,e='fx',n--),arguments.length<n?pe.queue(this[0],e):void 0===t?this:this.each(function(){var n=pe.queue(this,e,t);pe._queueHooks(this,e),'fx'===e&&'inprogress'!==n[0]&&pe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){pe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||'fx',[])},promise:function(e,t){var n=1,o=pe.Deferred(),a=this,d=this.length,i=function(){--n||o.resolveWith(a,[a])},r;for('string'!=typeof e&&(t=e,e=void 0),e=e||'fx';d--;)r=Le.get(a[d],e+'queueHooks'),r&&r.empty&&(n++,r.empty.add(i));return i(),o.promise(t)}});var De=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Oe=new RegExp('^(?:([+-])=|)('+De+')([a-z%]*)$','i'),Fe=['Top','Right','Bottom','Left'],Be=function(e,t){return e=t||e,'none'===pe.css(e,'display')||!pe.contains(e.ownerDocument,e)},Me=/^(?:checkbox|radio)$/i,qe=/<([\w:-]+)/,_e=/^$|\/(?:java|ecma)script/i,He={option:[1,'<select multiple=\'multiple\'>','</select>'],thead:[1,'<table>','</table>'],col:[2,'<table><colgroup>','</colgroup></table>'],tr:[2,'<table><tbody>','</tbody></table>'],td:[3,'<table><tbody><tr>','</tr></tbody></table>'],_default:[0,'','']};He.optgroup=He.option,He.tbody=He.tfoot=He.colgroup=He.caption=He.thead,He.th=He.td;var We=/<|&#?\w+;/;(function(){var e=ee.createDocumentFragment(),t=e.appendChild(ee.createElement('div')),n=ee.createElement('input');n.setAttribute('type','radio'),n.setAttribute('checked','checked'),n.setAttribute('name','t'),t.appendChild(n),se.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML='<textarea>x</textarea>',se.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue})();var Ye=/^key/,Xe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ve=/^([^.]*)(?:\.(.+)|)/;pe.event={global:{},add:function(n,e,o,a,i){var d=Le.get(n),r,s,l,p,c,t,h,u,g,m,f;if(d)for(o.handler&&(r=o,o=r.handler,i=r.selector),o.guid||(o.guid=pe.guid++),(p=d.events)||(p=d.events={}),(s=d.handle)||(s=d.handle=function(t){return'undefined'!=typeof pe&&pe.event.triggered!==t.type?pe.event.dispatch.apply(n,arguments):void 0}),e=(e||'').match(Se)||[''],c=e.length;c--;)(l=Ve.exec(e[c])||[],g=f=l[1],m=(l[2]||'').split('.').sort(),!!g)&&(h=pe.event.special[g]||{},g=(i?h.delegateType:h.bindType)||g,h=pe.event.special[g]||{},t=pe.extend({type:g,origType:f,data:a,handler:o,guid:o.guid,selector:i,needsContext:i&&pe.expr.match.needsContext.test(i),namespace:m.join('.')},r),(u=p[g])||(u=p[g]=[],u.delegateCount=0,(!h.setup||!1===h.setup.call(n,a,m,s))&&n.addEventListener&&n.addEventListener(g,s)),h.add&&(h.add.call(n,t),!t.handler.guid&&(t.handler.guid=o.guid)),i?u.splice(u.delegateCount++,0,t):u.push(t),pe.event.global[g]=!0)},remove:function(e,n,o,a,i){var d=Le.hasData(e)&&Le.get(e),r,s,l,p,c,t,h,u,g,m,f;if(d&&(p=d.events)){for(n=(n||'').match(Se)||[''],c=n.length;c--;){if(l=Ve.exec(n[c])||[],g=f=l[1],m=(l[2]||'').split('.').sort(),!g){for(g in p)pe.event.remove(e,g+n[c],o,a,!0);continue}for(h=pe.event.special[g]||{},g=(a?h.delegateType:h.bindType)||g,u=p[g]||[],l=l[2]&&new RegExp('(^|\\.)'+m.join('\\.(?:.*\\.|)')+'(\\.|$)'),s=r=u.length;r--;)t=u[r],(i||f===t.origType)&&(!o||o.guid===t.guid)&&(!l||l.test(t.namespace))&&(!a||a===t.selector||'**'===a&&t.selector)&&(u.splice(r,1),t.selector&&u.delegateCount--,h.remove&&h.remove.call(e,t));s&&!u.length&&((!h.teardown||!1===h.teardown.call(e,m,d.handle))&&pe.removeEvent(e,g,d.handle),delete p[g])}pe.isEmptyObject(p)&&Le.remove(e,'handle events')}},dispatch:function(e){e=pe.event.fix(e);var t=[],n=te.call(arguments),o=(Le.get(this,'events')||{})[e.type]||[],a=pe.event.special[e.type]||{},d,i,r,s,l;if(n[0]=e,e.delegateTarget=this,!(a.preDispatch&&!1===a.preDispatch.call(this,e))){for(t=pe.event.handlers.call(this,e,o),d=0;(s=t[d++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,i=0;(l=s.handlers[i++])&&!e.isImmediatePropagationStopped();)(!e.rnamespace||e.rnamespace.test(l.namespace))&&(e.handleObj=l,e.data=l.data,r=((pe.event.special[l.origType]||{}).handle||l.handler).apply(s.elem,n),void 0!==r&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return a.postDispatch&&a.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n=[],o=t.delegateCount,a=e.target,d,i,r,s;if(o&&a.nodeType&&('click'!==e.type||isNaN(e.button)||1>e.button))for(;a!==this;a=a.parentNode||this)if(1===a.nodeType&&(!0!==a.disabled||'click'!==e.type)){for(i=[],d=0;d<o;d++)s=t[d],r=s.selector+' ',void 0===i[r]&&(i[r]=s.needsContext?-1<pe(r,this).index(a):pe.find(r,this,null,[a]).length),i[r]&&i.push(s);i.length&&n.push({elem:a,handlers:i})}return o<t.length&&n.push({elem:this,handlers:t.slice(o)}),n},props:['altKey','bubbles','cancelable','ctrlKey','currentTarget','detail','eventPhase','metaKey','relatedTarget','shiftKey','target','timeStamp','view','which'],fixHooks:{},keyHooks:{props:['char','charCode','key','keyCode'],filter:function(e,t){return null==e.which&&(e.which=null==t.charCode?t.keyCode:t.charCode),e}},mouseHooks:{props:['button','buttons','clientX','clientY','offsetX','offsetY','pageX','pageY','screenX','screenY','toElement'],filter:function(e,t){var n=t.button,o,a,i;return null==e.pageX&&null!=t.clientX&&(o=e.target.ownerDocument||ee,a=o.documentElement,i=o.body,e.pageX=t.clientX+(a&&a.scrollLeft||i&&i.scrollLeft||0)-(a&&a.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(a&&a.scrollTop||i&&i.scrollTop||0)-(a&&a.clientTop||i&&i.clientTop||0)),e.which||void 0===n||(e.which=1&n?1:2&n?3:4&n?2:0),e}},fix:function(e){if(e[pe.expando])return e;var t=e.type,n=e,o=this.fixHooks[t],a,i,d;for(o||(this.fixHooks[t]=o=Xe.test(t)?this.mouseHooks:Ye.test(t)?this.keyHooks:{}),d=o.props?this.props.concat(o.props):this.props,e=new pe.Event(n),a=d.length;a--;)i=d[a],e[i]=n[i];return e.target||(e.target=ee),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,n):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)return this.focus(),!1},delegateType:'focusin'},blur:{trigger:function(){if(this===w()&&this.blur)return this.blur(),!1},delegateType:'focusout'},click:{trigger:function(){if('checkbox'===this.type&&this.click&&pe.nodeName(this,'input'))return this.click(),!1},_default:function(e){return pe.nodeName(e.target,'a')}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},pe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},pe.Event=function(e,t){return this instanceof pe.Event?void(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?v:b):this.type=e,t&&pe.extend(this,t),this.timeStamp=e&&e.timeStamp||pe.now(),this[pe.expando]=!0):new pe.Event(e,t)},pe.Event.prototype={constructor:pe.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=v,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=v,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=v,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},pe.each({mouseenter:'mouseover',mouseleave:'mouseout',pointerenter:'pointerover',pointerleave:'pointerout'},function(e,t){pe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n=this,o=e.relatedTarget,a=e.handleObj,i;return o&&(o===n||pe.contains(n,o))||(e.type=a.origType,i=a.handler.apply(this,arguments),e.type=t),i}}}),pe.fn.extend({on:function(e,t,n,o){return k(this,e,t,n,o)},one:function(e,t,n,o){return k(this,e,t,n,o,1)},off:function(e,t,n){var o,a;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,pe(e.delegateTarget).off(o.namespace?o.origType+'.'+o.namespace:o.origType,o.selector,o.handler),this;if('object'==typeof e){for(a in e)this.off(a,t,e[a]);return this}return(!1===t||'function'==typeof t)&&(n=t,t=void 0),!1===n&&(n=b),this.each(function(){pe.event.remove(this,e,n,t)})}});var ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ue=/<script|<style|<link/i,Ke=/checked\s*(?:[^=]|=\s*.checked.)/i,$e=/^true\/(.*)/,Ge=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;pe.extend({htmlPrefilter:function(e){return e.replace(ze,'<$1></$2>')},clone:function(e,t,n){var o=e.cloneNode(!0),a=pe.contains(e.ownerDocument,e),d,i,r,s;if(!se.noCloneChecked&&(1===e.nodeType||11===e.nodeType)&&!pe.isXMLDoc(e))for(s=f(o),r=f(e),(d=0,i=r.length);d<i;d++)I(r[d],s[d]);if(t)if(n)for(r=r||f(e),s=s||f(o),(d=0,i=r.length);d<i;d++)S(r[d],s[d]);else S(e,o);return s=f(o,'script'),0<s.length&&y(s,!a&&f(e,'script')),o},cleanData:function(e){for(var t=pe.event.special,n=0,o,a,i;void 0!==(a=e[n]);n++)if(Ae(a)){if(o=a[Le.expando]){if(o.events)for(i in o.events)t[i]?pe.event.remove(a,i):pe.removeEvent(a,i,o.handle);a[Le.expando]=void 0}a[Re.expando]&&(a[Re.expando]=void 0)}}}),pe.fn.extend({domManip:N,detach:function(e){return A(this,e,!0)},remove:function(e){return A(this,e)},text:function(e){return Ne(this,function(e){return void 0===e?pe.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return N(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=T(this,e);t.appendChild(e)}})},prepend:function(){return N(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=T(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return N(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return N(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e=0,t;null!=(t=this[e]);e++)1===t.nodeType&&(pe.cleanData(f(t,!1)),t.textContent='');return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return pe.clone(this,e,t)})},html:function(e){return Ne(this,function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if('string'==typeof e&&!Ue.test(e)&&!He[(qe.exec(e)||['',''])[1].toLowerCase()]){e=pe.htmlPrefilter(e);try{for(;n<o;n++)t=this[n]||{},1===t.nodeType&&(pe.cleanData(f(t,!1)),t.innerHTML=e);t=0}catch(t){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return N(this,arguments,function(t){var n=this.parentNode;0>pe.inArray(this,e)&&(pe.cleanData(f(this)),n&&n.replaceChild(t,this))},e)}}),pe.each({appendTo:'append',prependTo:'prepend',insertBefore:'before',insertAfter:'after',replaceAll:'replaceWith'},function(e,t){pe.fn[e]=function(e){for(var n=[],o=pe(e),a=o.length-1,d=0,i;d<=a;d++)i=d==a?this:this.clone(!0),pe(o[d])[t](i),oe.apply(n,i.get());return this.pushStack(n)}});var Qe={HTML:'block',BODY:'block'},Je=/^margin/,Ze=new RegExp('^('+De+')(?!px)[a-z%]+$','i'),et=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=d),t.getComputedStyle(e)},tt=function(e,t,n,o){var a={},i,d;for(d in t)a[d]=e.style[d],e.style[d]=t[d];for(d in i=n.apply(e,o||[]),t)e.style[d]=a[d];return i},nt=ee.documentElement,ot;(function(){function e(){n.style.cssText='-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%',n.innerHTML='',nt.appendChild(t);var e=d.getComputedStyle(n);o='1%'!==e.top,r='2px'===e.marginLeft,a='4px'===e.width,n.style.marginRight='50%',i='4px'===e.marginRight,nt.removeChild(t)}var t=ee.createElement('div'),n=ee.createElement('div'),o,a,i,r;n.style&&(n.style.backgroundClip='content-box',n.cloneNode(!0).style.backgroundClip='',se.clearCloneStyle='content-box'===n.style.backgroundClip,t.style.cssText='border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute',t.appendChild(n),pe.extend(se,{pixelPosition:function(){return e(),o},boxSizingReliable:function(){return null==a&&e(),a},pixelMarginRight:function(){return null==a&&e(),i},reliableMarginLeft:function(){return null==a&&e(),r},reliableMarginRight:function(){var e=n.appendChild(ee.createElement('div')),o;return e.style.cssText=n.style.cssText='-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0',e.style.marginRight=e.style.width='0',n.style.width='1px',nt.appendChild(t),o=!parseFloat(d.getComputedStyle(e).marginRight),nt.removeChild(t),n.removeChild(e),o}}))})();var at=/^(none|table(?!-c[ea]).+)/,it={position:'absolute',visibility:'hidden',display:'block'},dt={letterSpacing:'0',fontWeight:'400'},rt=['Webkit','O','Moz','ms'],st=ee.createElement('div').style;pe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=j(e,'opacity');return''===n?'1':n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:'cssFloat'},style:function(e,t,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a=pe.camelCase(t),i=e.style,d,r,s;if(t=pe.cssProps[a]||(pe.cssProps[a]=D(a)||a),s=pe.cssHooks[t]||pe.cssHooks[a],void 0!==n){if(r=typeof n,'string'===r&&(d=Oe.exec(n))&&d[1]&&(n=m(e,t,d),r='number'),null==n||n!==n)return;'number'===r&&(n+=d&&d[3]||(pe.cssNumber[a]?'':'px')),se.clearCloneStyle||''!==n||0!==t.indexOf('background')||(i[t]='inherit'),s&&'set'in s&&void 0===(n=s.set(e,n,o))||(i[t]=n)}else return s&&'get'in s&&void 0!==(d=s.get(e,!1,o))?d:i[t]}},css:function(e,t,n,o){var a=pe.camelCase(t),i,d,r;return t=pe.cssProps[a]||(pe.cssProps[a]=D(a)||a),r=pe.cssHooks[t]||pe.cssHooks[a],r&&'get'in r&&(i=r.get(e,!0,n)),void 0===i&&(i=j(e,t,o)),'normal'===i&&t in dt&&(i=dt[t]),''===n||n?(d=parseFloat(i),!0===n||isFinite(d)?d||0:i):i}}),pe.each(['height','width'],function(e,t){pe.cssHooks[t]={get:function(e,n,o){if(n)return at.test(pe.css(e,'display'))&&0===e.offsetWidth?tt(e,it,function(){return B(e,t,o)}):B(e,t,o)},set:function(e,n,o){var a=o&&et(e),i=o&&F(e,t,o,'border-box'===pe.css(e,'boxSizing',!1,a),a),d;return i&&(d=Oe.exec(n))&&'px'!==(d[3]||'px')&&(e.style[t]=n,n=pe.css(e,t)),O(e,n,i)}}}),pe.cssHooks.marginLeft=P(se.reliableMarginLeft,function(e,t){if(t)return(parseFloat(j(e,'marginLeft'))||e.getBoundingClientRect().left-tt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+'px'}),pe.cssHooks.marginRight=P(se.reliableMarginRight,function(e,t){if(t)return tt(e,{display:'inline-block'},j,[e,'marginRight'])}),pe.each({margin:'',padding:'',border:'Width'},function(e,t){pe.cssHooks[e+t]={expand:function(n){for(var o=0,a={},i='string'==typeof n?n.split(' '):[n];4>o;o++)a[e+Fe[o]+t]=i[o]||i[o-2]||i[0];return a}},Je.test(e)||(pe.cssHooks[e+t].set=O)}),pe.fn.extend({css:function(e,t){return Ne(this,function(e,t,n){var o={},a=0,i,d;if(pe.isArray(t)){for(i=et(e),d=t.length;a<d;a++)o[t[a]]=pe.css(e,t[a],!1,i);return o}return void 0===n?pe.css(e,t):pe.style(e,t,n)},e,t,1<arguments.length)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(e){return'boolean'==typeof e?e?this.show():this.hide():this.each(function(){Be(this)?pe(this).show():pe(this).hide()})}}),pe.Tween=q,q.prototype={constructor:q,init:function(e,t,n,o,a,i){this.elem=e,this.prop=n,this.easing=a||pe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=i||(pe.cssNumber[n]?'':'px')},cur:function(){var e=q.propHooks[this.prop];return e&&e.get?e.get(this):q.propHooks._default.get(this)},run:function(e){var t=q.propHooks[this.prop],n;return this.pos=this.options.duration?n=pe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):n=e,this.now=(this.end-this.start)*n+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),t&&t.set?t.set(this):q.propHooks._default.set(this),this}},q.prototype.init.prototype=q.prototype,q.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=pe.css(e.elem,e.prop,''),t&&'auto'!==t?t:0)},set:function(e){pe.fx.step[e.prop]?pe.fx.step[e.prop](e):1===e.elem.nodeType&&(null!=e.elem.style[pe.cssProps[e.prop]]||pe.cssHooks[e.prop])?pe.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},q.propHooks.scrollTop=q.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},pe.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2},_default:'swing'},pe.fx=q.prototype.init,pe.fx.step={};var lt=/^(?:toggle|show|hide)$/,pt=/queueHooks$/,ct,ht;pe.Animation=pe.extend(X,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return m(n.elem,e,Oe.exec(t),n),n}]},tweener:function(e,t){pe.isFunction(e)?(t=e,e=['*']):e=e.match(Se);for(var n=0,o=e.length,a;n<o;n++)a=e[n],X.tweeners[a]=X.tweeners[a]||[],X.tweeners[a].unshift(t)},prefilters:[function(e,t,n){var o=this,a={},i=e.style,d=e.nodeType&&Be(e),r=Le.get(e,'fxshow'),s,l,p,c,h,u,g,m;for(s in n.queue||(h=pe._queueHooks(e,'fx'),null==h.unqueued&&(h.unqueued=0,u=h.empty.fire,h.empty.fire=function(){h.unqueued||u()}),h.unqueued++,o.always(function(){o.always(function(){h.unqueued--,pe.queue(e,'fx').length||h.empty.fire()})})),1===e.nodeType&&('height'in t||'width'in t)&&(n.overflow=[i.overflow,i.overflowX,i.overflowY],g=pe.css(e,'display'),m='none'===g?Le.get(e,'olddisplay')||R(e.nodeName):g,'inline'===m&&'none'===pe.css(e,'float')&&(i.display='inline-block')),n.overflow&&(i.overflow='hidden',o.always(function(){i.overflow=n.overflow[0],i.overflowX=n.overflow[1],i.overflowY=n.overflow[2]})),t)if(l=t[s],lt.exec(l)){if(delete t[s],p=p||'toggle'===l,l===(d?'hide':'show'))if('show'===l&&r&&void 0!==r[s])d=!0;else continue;a[s]=r&&r[s]||pe.style(e,s)}else g=void 0;if(!pe.isEmptyObject(a))for(s in r?'hidden'in r&&(d=r.hidden):r=Le.access(e,'fxshow',{}),p&&(r.hidden=!d),d?pe(e).show():o.done(function(){pe(e).hide()}),o.done(function(){for(var t in Le.remove(e,'fxshow'),a)pe.style(e,t,a[t])}),a)c=W(d?r[s]:0,s,o),s in r||(r[s]=c.start,d&&(c.end=c.start,c.start='width'===s||'height'===s?1:0));else'inline'===('none'===g?R(e.nodeName):g)&&(i.display=g)}],prefilter:function(e,t){t?X.prefilters.unshift(e):X.prefilters.push(e)}}),pe.speed=function(e,t,n){var o=e&&'object'==typeof e?pe.extend({},e):{complete:n||!n&&t||pe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!pe.isFunction(t)&&t};return o.duration=pe.fx.off?0:'number'==typeof o.duration?o.duration:o.duration in pe.fx.speeds?pe.fx.speeds[o.duration]:pe.fx.speeds._default,(null==o.queue||!0===o.queue)&&(o.queue='fx'),o.old=o.complete,o.complete=function(){pe.isFunction(o.old)&&o.old.call(this),o.queue&&pe.dequeue(this,o.queue)},o},pe.fn.extend({fadeTo:function(e,t,n,o){return this.filter(Be).css('opacity',0).show().end().animate({opacity:t},e,n,o)},animate:function(e,t,n,o){var a=pe.isEmptyObject(e),i=pe.speed(t,n,o),d=function(){var t=X(this,pe.extend({},e),i);(a||Le.get(this,'finish'))&&t.stop(!0)};return d.finish=d,a||!1===i.queue?this.each(d):this.queue(i.queue,d)},stop:function(e,t,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return'string'!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||'fx',[]),this.each(function(){var t=!0,a=null!=e&&e+'queueHooks',i=pe.timers,d=Le.get(this);if(a)d[a]&&d[a].stop&&o(d[a]);else for(a in d)d[a]&&d[a].stop&&pt.test(a)&&o(d[a]);for(a=i.length;a--;)i[a].elem===this&&(null==e||i[a].queue===e)&&(i[a].anim.stop(n),t=!1,i.splice(a,1));(t||!n)&&pe.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||'fx'),this.each(function(){var t=Le.get(this),n=t[e+'queue'],o=t[e+'queueHooks'],a=pe.timers,i=n?n.length:0,d;for(t.finish=!0,pe.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),d=a.length;d--;)a[d].elem===this&&a[d].queue===e&&(a[d].anim.stop(!0),a.splice(d,1));for(d=0;d<i;d++)n[d]&&n[d].finish&&n[d].finish.call(this);delete t.finish})}}),pe.each(['toggle','show','hide'],function(e,t){var n=pe.fn[t];pe.fn[t]=function(e,o,a){return null==e||'boolean'==typeof e?n.apply(this,arguments):this.animate(H(t,!0),e,o,a)}}),pe.each({slideDown:H('show'),slideUp:H('hide'),slideToggle:H('toggle'),fadeIn:{opacity:'show'},fadeOut:{opacity:'hide'},fadeToggle:{opacity:'toggle'}},function(e,t){pe.fn[e]=function(e,n,o){return this.animate(t,e,n,o)}}),pe.timers=[],pe.fx.tick=function(){var e=0,t=pe.timers,n;for(ct=pe.now();e<t.length;e++)n=t[e],n()||t[e]!==n||t.splice(e--,1);t.length||pe.fx.stop(),ct=void 0},pe.fx.timer=function(e){pe.timers.push(e),e()?pe.fx.start():pe.timers.pop()},pe.fx.interval=13,pe.fx.start=function(){ht||(ht=d.setInterval(pe.fx.tick,pe.fx.interval))},pe.fx.stop=function(){d.clearInterval(ht),ht=null},pe.fx.speeds={slow:600,fast:200,_default:400},pe.fn.delay=function(e,t){return e=pe.fx?pe.fx.speeds[e]||e:e,t=t||'fx',this.queue(t,function(t,n){var o=d.setTimeout(t,e);n.stop=function(){d.clearTimeout(o)}})},function(){var e=ee.createElement('input'),t=ee.createElement('select'),n=t.appendChild(ee.createElement('option'));e.type='checkbox',se.checkOn=''!==e.value,se.optSelected=n.selected,t.disabled=!0,se.optDisabled=!n.disabled,e=ee.createElement('input'),e.value='t',e.type='radio',se.radioValue='t'===e.value}();var ut=pe.expr.attrHandle,gt;pe.fn.extend({attr:function(e,t){return Ne(this,pe.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){pe.removeAttr(this,e)})}}),pe.extend({attr:function(e,t,n){var o=e.nodeType,a,i;if(3!==o&&8!==o&&2!==o)return'undefined'==typeof e.getAttribute?pe.prop(e,t,n):(1===o&&pe.isXMLDoc(e)||(t=t.toLowerCase(),i=pe.attrHooks[t]||(pe.expr.match.bool.test(t)?gt:void 0)),void 0!==n)?null===n?void pe.removeAttr(e,t):i&&'set'in i&&void 0!==(a=i.set(e,n,t))?a:(e.setAttribute(t,n+''),n):i&&'get'in i&&null!==(a=i.get(e,t))?a:(a=pe.find.attr(e,t),null==a?void 0:a)},attrHooks:{type:{set:function(e,t){if(!se.radioValue&&'radio'===t&&pe.nodeName(e,'input')){var n=e.value;return e.setAttribute('type',t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n=0,o=t&&t.match(Se),a,i;if(o&&1===e.nodeType)for(;a=o[n++];)i=pe.propFix[a]||a,pe.expr.match.bool.test(a)&&(e[i]=!1),e.removeAttribute(a)}}),gt={set:function(e,t,n){return!1===t?pe.removeAttr(e,n):e.setAttribute(n,n),n}},pe.each(pe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ut[t]||pe.find.attr;ut[t]=function(e,t,o){var a,i;return o||(i=ut[t],ut[t]=a,a=null==n(e,t,o)?null:t.toLowerCase(),ut[t]=i),a}});var mt=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;pe.fn.extend({prop:function(e,t){return Ne(this,pe.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[pe.propFix[e]||e]})}}),pe.extend({prop:function(e,t,n){var o=e.nodeType,a,i;if(3!==o&&8!==o&&2!==o)return 1===o&&pe.isXMLDoc(e)||(t=pe.propFix[t]||t,i=pe.propHooks[t]),void 0===n?i&&'get'in i&&null!==(a=i.get(e,t))?a:e[t]:i&&'set'in i&&void 0!==(a=i.set(e,n,t))?a:e[t]=n},propHooks:{tabIndex:{get:function(e){var t=pe.find.attr(e,'tabindex');return t?parseInt(t,10):mt.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:'htmlFor',class:'className'}}),se.optSelected||(pe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),pe.each(['tabIndex','readOnly','maxLength','cellSpacing','cellPadding','rowSpan','colSpan','useMap','frameBorder','contentEditable'],function(){pe.propFix[this.toLowerCase()]=this});var yt=/[\t\r\n\f]/g;pe.fn.extend({addClass:function(e){var t=0,n,o,a,i,d,r,s;if(pe.isFunction(e))return this.each(function(t){pe(this).addClass(e.call(this,t,V(this)))});if('string'==typeof e&&e)for(n=e.match(Se)||[];o=this[t++];)if(i=V(o),a=1===o.nodeType&&(' '+i+' ').replace(yt,' '),a){for(r=0;d=n[r++];)0>a.indexOf(' '+d+' ')&&(a+=d+' ');s=pe.trim(a),i!==s&&o.setAttribute('class',s)}return this},removeClass:function(e){var t=0,n,o,a,i,d,r,s;if(pe.isFunction(e))return this.each(function(t){pe(this).removeClass(e.call(this,t,V(this)))});if(!arguments.length)return this.attr('class','');if('string'==typeof e&&e)for(n=e.match(Se)||[];o=this[t++];)if(i=V(o),a=1===o.nodeType&&(' '+i+' ').replace(yt,' '),a){for(r=0;d=n[r++];)for(;-1<a.indexOf(' '+d+' ');)a=a.replace(' '+d+' ',' ');s=pe.trim(a),i!==s&&o.setAttribute('class',s)}return this},toggleClass:function(e,t){var n=typeof e;return'boolean'==typeof t&&'string'==n?t?this.addClass(e):this.removeClass(e):pe.isFunction(e)?this.each(function(n){pe(this).toggleClass(e.call(this,n,V(this),t),t)}):this.each(function(){var t,o,a,i;if('string'==n)for(o=0,a=pe(this),i=e.match(Se)||[];t=i[o++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else(void 0===e||'boolean'==n)&&(t=V(this),t&&Le.set(this,'__className__',t),this.setAttribute&&this.setAttribute('class',t||!1===e?'':Le.get(this,'__className__')||''))})},hasClass:function(e){var t=0,n,o;for(n=' '+e+' ';o=this[t++];)if(1===o.nodeType&&-1<(' '+V(o)+' ').replace(yt,' ').indexOf(n))return!0;return!1}});var xt=/\r/g,vt=/[\x20\t\r\n\f]+/g;pe.fn.extend({val:function(e){var t=this[0],n,o,a;return arguments.length?(a=pe.isFunction(e),this.each(function(t){var o;1!==this.nodeType||(o=a?e.call(this,t,pe(this).val()):e,null==o?o='':'number'==typeof o?o+='':pe.isArray(o)&&(o=pe.map(o,function(e){return null==e?'':e+''})),n=pe.valHooks[this.type]||pe.valHooks[this.nodeName.toLowerCase()],(!n||!('set'in n)||void 0===n.set(this,o,'value'))&&(this.value=o))})):t?(n=pe.valHooks[t.type]||pe.valHooks[t.nodeName.toLowerCase()],n&&'get'in n&&void 0!==(o=n.get(t,'value')))?o:(o=t.value,'string'==typeof o?o.replace(xt,''):null==o?'':o):void 0}}),pe.extend({valHooks:{option:{get:function(e){var t=pe.find.attr(e,'value');return null==t?pe.trim(pe.text(e)).replace(vt,' '):t}},select:{get:function(e){for(var t=e.options,n=e.selectedIndex,o='select-one'===e.type||0>n,a=o?null:[],d=o?n+1:t.length,r=0>n?d:o?n:0,i,s;r<d;r++)if(s=t[r],(s.selected||r===n)&&(se.optDisabled?!s.disabled:null===s.getAttribute('disabled'))&&(!s.parentNode.disabled||!pe.nodeName(s.parentNode,'optgroup'))){if(i=pe(s).val(),o)return i;a.push(i)}return a},set:function(e,t){for(var n=e.options,o=pe.makeArray(t),a=n.length,i,d;a--;)d=n[a],(d.selected=-1<pe.inArray(pe.valHooks.option.get(d),o))&&(i=!0);return i||(e.selectedIndex=-1),o}}}}),pe.each(['radio','checkbox'],function(){pe.valHooks[this]={set:function(e,t){if(pe.isArray(t))return e.checked=-1<pe.inArray(pe(e).val(),t)}},se.checkOn||(pe.valHooks[this].get=function(e){return null===e.getAttribute('value')?'on':e.value})});var bt=/^(?:focusinfocus|focusoutblur)$/;pe.extend(pe.event,{trigger:function(e,t,n,o){var a=[n||ee],r=re.call(e,'type')?e.type:e,s=re.call(e,'namespace')?e.namespace.split('.'):[],l,i,p,c,h,u,g;if((i=p=n=n||ee,3!==n.nodeType&&8!==n.nodeType)&&!bt.test(r+pe.event.triggered)&&(-1<r.indexOf('.')&&(s=r.split('.'),r=s.shift(),s.sort()),h=0>r.indexOf(':')&&'on'+r,e=e[pe.expando]?e:new pe.Event(r,'object'==typeof e&&e),e.isTrigger=o?2:3,e.namespace=s.join('.'),e.rnamespace=e.namespace?new RegExp('(^|\\.)'+s.join('\\.(?:.*\\.|)')+'(\\.|$)'):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:pe.makeArray(t,[e]),g=pe.event.special[r]||{},o||!g.trigger||!1!==g.trigger.apply(n,t))){if(!o&&!g.noBubble&&!pe.isWindow(n)){for(c=g.delegateType||r,bt.test(c+r)||(i=i.parentNode);i;i=i.parentNode)a.push(i),p=i;p===(n.ownerDocument||ee)&&a.push(p.defaultView||p.parentWindow||d)}for(l=0;(i=a[l++])&&!e.isPropagationStopped();)e.type=1<l?c:g.bindType||r,u=(Le.get(i,'events')||{})[e.type]&&Le.get(i,'handle'),u&&u.apply(i,t),u=h&&i[h],u&&u.apply&&Ae(i)&&(e.result=u.apply(i,t),!1===e.result&&e.preventDefault());return e.type=r,o||e.isDefaultPrevented()||g._default&&!1!==g._default.apply(a.pop(),t)||!Ae(n)||!h||!pe.isFunction(n[r])||pe.isWindow(n)||(p=n[h],p&&(n[h]=null),pe.event.triggered=r,n[r](),pe.event.triggered=void 0,p&&(n[h]=p)),e.result}},simulate:function(t,n,o){var a=pe.extend(new pe.Event,o,{type:t,isSimulated:!0});pe.event.trigger(a,null,n)}}),pe.fn.extend({trigger:function(e,t){return this.each(function(){pe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return pe.event.trigger(e,t,n,!0)}}),pe.each(['blur','focus','focusin','focusout','load','resize','scroll','unload','click','dblclick','mousedown','mouseup','mousemove','mouseover','mouseout','mouseenter','mouseleave','change','select','submit','keydown','keypress','keyup','error','contextmenu'],function(e,t){pe.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}}),pe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),se.focusin='onfocusin'in d,se.focusin||pe.each({focus:'focusin',blur:'focusout'},function(e,t){var n=function(e){pe.event.simulate(t,e.target,pe.event.fix(e))};pe.event.special[t]={setup:function(){var o=this.ownerDocument||this,a=Le.access(o,t);a||o.addEventListener(e,n,!0),Le.access(o,t,(a||0)+1)},teardown:function(){var o=this.ownerDocument||this,a=Le.access(o,t)-1;a?Le.access(o,t,a):(o.removeEventListener(e,n,!0),Le.remove(o,t))}}});var wt=d.location,kt=pe.now(),Tt=/\?/;pe.parseJSON=function(e){return JSON.parse(e+'')},pe.parseXML=function(e){var t;if(!e||'string'!=typeof e)return null;try{t=new d.DOMParser().parseFromString(e,'text/xml')}catch(n){t=void 0}return(!t||t.getElementsByTagName('parsererror').length)&&pe.error('Invalid XML: '+e),t};var Ct=/#.*$/,Et=/([?&])_=[^&]*/,St=/^(.*?):[ \t]*([^\r\n]*)$/mg,It=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nt=/^(?:GET|HEAD)$/,At=/^\/\//,Lt={},Rt={},jt='*/'.concat('*'),Pt=ee.createElement('a');Pt.href=wt.href,pe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:'GET',isLocal:It.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:'application/x-www-form-urlencoded; charset=UTF-8',accepts:{"*":jt,text:'text/plain',html:'text/html',xml:'application/xml, text/xml',json:'application/json, text/javascript'},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:'responseXML',text:'responseText',json:'responseJSON'},converters:{"* text":String,"text html":!0,"text json":pe.parseJSON,"text xml":pe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?K(K(e,pe.ajaxSettings),t):K(pe.ajaxSettings,e)},ajaxPrefilter:z(Lt),ajaxTransport:z(Rt),ajax:function(e,t){function n(e,t,n,i){var c=t,h,g,v,w,T;2==u||(u=2,b&&d.clearTimeout(b),f=void 0,x=i||'',m.readyState=0<e?4:0,h=200<=e&&300>e||304===e,n&&(w=$(o,m,n)),w=G(o,w,m,h),h?(o.ifModified&&(T=m.getResponseHeader('Last-Modified'),T&&(pe.lastModified[y]=T),T=m.getResponseHeader('etag'),T&&(pe.etag[y]=T)),204===e||'HEAD'===o.type?c='nocontent':304===e?c='notmodified':(c=w.state,g=w.data,v=w.error,h=!v)):(v=c,(e||!c)&&(c='error',0>e&&(e=0))),m.status=e,m.statusText=(t||c)+'',h?s.resolveWith(a,[g,c,m]):s.rejectWith(a,[m,c,v]),m.statusCode(p),p=void 0,k&&r.trigger(h?'ajaxSuccess':'ajaxError',[m,o,h?g:v]),l.fireWith(a,[m,c]),k&&(r.trigger('ajaxComplete',[m,o]),! --pe.active&&pe.event.trigger('ajaxStop')))}'object'==typeof e&&(t=e,e=void 0),t=t||{};var o=pe.ajaxSetup({},t),a=o.context||o,r=o.context&&(a.nodeType||a.jquery)?pe(a):pe.event,s=pe.Deferred(),l=pe.Callbacks('once memory'),p=o.statusCode||{},c={},h={},u=0,g='canceled',m={readyState:0,getResponseHeader:function(e){var t;if(2==u){if(!v)for(v={};t=St.exec(x);)v[t[1].toLowerCase()]=t[2];t=v[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2==u?x:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return u||(e=h[n]=h[n]||e,c[e]=t),this},overrideMimeType:function(e){return u||(o.mimeType=e),this},statusCode:function(e){if(e)if(2>u)for(var t in e)p[t]=[p[t],e[t]];else m.always(e[m.status]);return this},abort:function(e){var t=e||g;return f&&f.abort(t),n(0,t),this}},f,y,x,v,b,w,k,T;if(s.promise(m).complete=l.add,m.success=m.done,m.error=m.fail,o.url=((e||o.url||wt.href)+'').replace(Ct,'').replace(At,wt.protocol+'//'),o.type=t.method||t.type||o.method||o.type,o.dataTypes=pe.trim(o.dataType||'*').toLowerCase().match(Se)||[''],null==o.crossDomain){w=ee.createElement('a');try{w.href=o.url,w.href=w.href,o.crossDomain=Pt.protocol+'//'+Pt.host!=w.protocol+'//'+w.host}catch(t){o.crossDomain=!0}}if(o.data&&o.processData&&'string'!=typeof o.data&&(o.data=pe.param(o.data,o.traditional)),U(Lt,o,t,m),2==u)return m;for(T in k=pe.event&&o.global,k&&0==pe.active++&&pe.event.trigger('ajaxStart'),o.type=o.type.toUpperCase(),o.hasContent=!Nt.test(o.type),y=o.url,o.hasContent||(o.data&&(y=o.url+=(Tt.test(y)?'&':'?')+o.data,delete o.data),!1===o.cache&&(o.url=Et.test(y)?y.replace(Et,'$1_='+kt++):y+(Tt.test(y)?'&':'?')+'_='+kt++)),o.ifModified&&(pe.lastModified[y]&&m.setRequestHeader('If-Modified-Since',pe.lastModified[y]),pe.etag[y]&&m.setRequestHeader('If-None-Match',pe.etag[y])),(o.data&&o.hasContent&&!1!==o.contentType||t.contentType)&&m.setRequestHeader('Content-Type',o.contentType),m.setRequestHeader('Accept',o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+('*'===o.dataTypes[0]?'':', '+jt+'; q=0.01'):o.accepts['*']),o.headers)m.setRequestHeader(T,o.headers[T]);if(o.beforeSend&&(!1===o.beforeSend.call(a,m,o)||2==u))return m.abort();for(T in g='abort',{success:1,error:1,complete:1})m[T](o[T]);if(f=U(Rt,o,t,m),!f)n(-1,'No Transport');else{if(m.readyState=1,k&&r.trigger('ajaxSend',[m,o]),2==u)return m;o.async&&0<o.timeout&&(b=d.setTimeout(function(){m.abort('timeout')},o.timeout));try{u=1,f.send(c,n)}catch(t){if(2>u)n(-1,t);else throw t}}return m},getJSON:function(e,t,n){return pe.get(e,t,n,'json')},getScript:function(e,t){return pe.get(e,void 0,t,'script')}}),pe.each(['get','post'],function(e,t){pe[t]=function(e,n,o,a){return pe.isFunction(n)&&(a=a||o,o=n,n=void 0),pe.ajax(pe.extend({url:e,type:t,dataType:a,data:n,success:o},pe.isPlainObject(e)&&e))}}),pe._evalUrl=function(e){return pe.ajax({url:e,type:'GET',dataType:'script',async:!1,global:!1,throws:!0})},pe.fn.extend({wrapAll:function(e){var t;return pe.isFunction(e)?this.each(function(t){pe(this).wrapAll(e.call(this,t))}):(this[0]&&(t=pe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return pe.isFunction(e)?this.each(function(t){pe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=pe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=pe.isFunction(e);return this.each(function(n){pe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){pe.nodeName(this,'body')||pe(this).replaceWith(this.childNodes)}).end()}}),pe.expr.filters.hidden=function(e){return!pe.expr.filters.visible(e)},pe.expr.filters.visible=function(e){return 0<e.offsetWidth||0<e.offsetHeight||0<e.getClientRects().length};var Dt=/%20/g,Ot=/\[\]$/,Ft=/\r?\n/g,Bt=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;pe.param=function(e,t){var n=[],o=function(e,t){t=pe.isFunction(t)?t():null==t?'':t,n[n.length]=encodeURIComponent(e)+'='+encodeURIComponent(t)},a;if(void 0===t&&(t=pe.ajaxSettings&&pe.ajaxSettings.traditional),pe.isArray(e)||e.jquery&&!pe.isPlainObject(e))pe.each(e,function(){o(this.name,this.value)});else for(a in e)Q(a,e[a],t,o);return n.join('&').replace(Dt,'+')},pe.fn.extend({serialize:function(){return pe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=pe.prop(this,'elements');return e?pe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!pe(this).is(':disabled')&&Mt.test(this.nodeName)&&!Bt.test(e)&&(this.checked||!Me.test(e))}).map(function(e,t){var n=pe(this).val();return null==n?null:pe.isArray(n)?pe.map(n,function(e){return{name:t.name,value:e.replace(Ft,'\r\n')}}):{name:t.name,value:n.replace(Ft,'\r\n')}}).get()}}),pe.ajaxSettings.xhr=function(){try{return new d.XMLHttpRequest}catch(t){}};var qt={0:200,1223:204},_t=pe.ajaxSettings.xhr();se.cors=!!_t&&'withCredentials'in _t,se.ajax=_t=!!_t,pe.ajaxTransport(function(e){var t,n;if(se.cors||_t&&!e.crossDomain)return{send:function(o,a){var r=e.xhr(),s;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)r[s]=e.xhrFields[s];for(s in e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||o['X-Requested-With']||(o['X-Requested-With']='XMLHttpRequest'),o)r.setRequestHeader(s,o[s]);t=function(e){return function(){t&&(t=n=r.onload=r.onerror=r.onabort=r.onreadystatechange=null,'abort'===e?r.abort():'error'===e?'number'==typeof r.status?a(r.status,r.statusText):a(0,'error'):a(qt[r.status]||r.status,r.statusText,'text'!==(r.responseType||'text')||'string'!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=t(),n=r.onerror=t('error'),void 0===r.onabort?r.onreadystatechange=function(){4===r.readyState&&d.setTimeout(function(){t&&n()})}:r.onabort=n,t=t('abort');try{r.send(e.hasContent&&e.data||null)}catch(n){if(t)throw n}},abort:function(){t&&t()}}}),pe.ajaxSetup({accepts:{script:'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript'},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return pe.globalEval(e),e}}}),pe.ajaxPrefilter('script',function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type='GET')}),pe.ajaxTransport('script',function(e){if(e.crossDomain){var t,n;return{send:function(o,a){t=pe('<script>').prop({charset:e.scriptCharset,src:e.url}).on('load error',n=function(e){t.remove(),n=null,e&&a('error'===e.type?404:200,e.type)}),ee.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Ht=[],Wt=/(=)\?(?=&|$)|\?\?/;pe.ajaxSetup({jsonp:'callback',jsonpCallback:function(){var e=Ht.pop()||pe.expando+'_'+kt++;return this[e]=!0,e}}),pe.ajaxPrefilter('json jsonp',function(e,t,n){var o=!1!==e.jsonp&&(Wt.test(e.url)?'url':'string'==typeof e.data&&0===(e.contentType||'').indexOf('application/x-www-form-urlencoded')&&Wt.test(e.data)&&'data'),a,i,r;if(o||'jsonp'===e.dataTypes[0])return a=e.jsonpCallback=pe.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(Wt,'$1'+a):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?'&':'?')+e.jsonp+'='+a),e.converters['script json']=function(){return r||pe.error(a+' was not called'),r[0]},e.dataTypes[0]='json',i=d[a],d[a]=function(){r=arguments},n.always(function(){void 0===i?pe(d).removeProp(a):d[a]=i,e[a]&&(e.jsonpCallback=t.jsonpCallback,Ht.push(a)),r&&pe.isFunction(i)&&i(r[0]),r=i=void 0}),'script'}),pe.parseHTML=function(e,t,n){if(!e||'string'!=typeof e)return null;'boolean'==typeof t&&(n=t,t=!1),t=t||ee;var o=ve.exec(e),a=!n&&[];return o?[t.createElement(o[1])]:(o=x([e],t,a),a&&a.length&&pe(a).remove(),pe.merge([],o.childNodes))};var Yt=pe.fn.load;pe.fn.load=function(e,t,n){if('string'!=typeof e&&Yt)return Yt.apply(this,arguments);var o=this,a=e.indexOf(' '),i,d,r;return-1<a&&(i=pe.trim(e.slice(a)),e=e.slice(0,a)),pe.isFunction(t)?(n=t,t=void 0):t&&'object'==typeof t&&(d='POST'),0<o.length&&pe.ajax({url:e,type:d||'GET',dataType:'html',data:t}).done(function(e){r=arguments,o.html(i?pe('<div>').append(pe.parseHTML(e)).find(i):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,r||[e.responseText,t,e])})}),this},pe.each(['ajaxStart','ajaxStop','ajaxComplete','ajaxError','ajaxSuccess','ajaxSend'],function(e,t){pe.fn[t]=function(e){return this.on(t,e)}}),pe.expr.filters.animated=function(e){return pe.grep(pe.timers,function(t){return e===t.elem}).length},pe.offset={setOffset:function(e,t,n){var o=pe.css(e,'position'),a=pe(e),i={},d,r,s,l,p,c,h;'static'===o&&(e.style.position='relative'),p=a.offset(),s=pe.css(e,'top'),c=pe.css(e,'left'),h=('absolute'===o||'fixed'===o)&&-1<(s+c).indexOf('auto'),h?(d=a.position(),l=d.top,r=d.left):(l=parseFloat(s)||0,r=parseFloat(c)||0),pe.isFunction(t)&&(t=t.call(e,n,pe.extend({},p))),null!=t.top&&(i.top=t.top-p.top+l),null!=t.left&&(i.left=t.left-p.left+r),'using'in t?t.using.call(e,i):a.css(i)}},pe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){pe.offset.setOffset(this,e,t)});var t=this[0],n={top:0,left:0},o=t&&t.ownerDocument,a,i;if(o)return(a=o.documentElement,!pe.contains(a,t))?n:(n=t.getBoundingClientRect(),i=J(o),{top:n.top+i.pageYOffset-a.clientTop,left:n.left+i.pageXOffset-a.clientLeft})},position:function(){if(this[0]){var e=this[0],t={top:0,left:0},n,o;return'fixed'===pe.css(e,'position')?o=e.getBoundingClientRect():(n=this.offsetParent(),o=this.offset(),!pe.nodeName(n[0],'html')&&(t=n.offset()),t.top+=pe.css(n[0],'borderTopWidth',!0),t.left+=pe.css(n[0],'borderLeftWidth',!0)),{top:o.top-t.top-pe.css(e,'marginTop',!0),left:o.left-t.left-pe.css(e,'marginLeft',!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&'static'===pe.css(e,'position');)e=e.offsetParent;return e||nt})}}),pe.each({scrollLeft:'pageXOffset',scrollTop:'pageYOffset'},function(e,t){var n='pageYOffset'===t;pe.fn[e]=function(o){return Ne(this,function(e,o,a){var i=J(e);return void 0===a?i?i[t]:e[o]:void(i?i.scrollTo(n?i.pageXOffset:a,n?a:i.pageYOffset):e[o]=a)},e,o,arguments.length)}}),pe.each(['top','left'],function(e,t){pe.cssHooks[t]=P(se.pixelPosition,function(e,n){if(n)return n=j(e,t),Ze.test(n)?pe(e).position()[t]+'px':n})}),pe.each({Height:'height',Width:'width'},function(e,t){pe.each({padding:'inner'+e,content:t,"":'outer'+e},function(n,a){pe.fn[a]=function(a,i){var d=arguments.length&&(n||'boolean'!=typeof a),r=n||(!0===a||!0===i?'margin':'border');return Ne(this,function(t,n,a){var i;return pe.isWindow(t)?t.document.documentElement['client'+e]:9===t.nodeType?(i=t.documentElement,o(t.body['scroll'+e],i['scroll'+e],t.body['offset'+e],i['offset'+e],i['client'+e])):void 0===a?pe.css(t,n,r):pe.style(t,n,a,r)},t,d?a:void 0,d,null)}})}),pe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,'**'):this.off(t,e||'**',n)},size:function(){return this.length}}),pe.fn.andSelf=pe.fn.addBack,a=[],i=function(){return pe}.apply(t,a),!(void 0!==i&&(e.exports=i));var Xt=d.jQuery,Vt=d.$;return pe.noConflict=function(e){return d.$===pe&&(d.$=Vt),e&&d.jQuery===pe&&(d.jQuery=Xt),pe},r||(d.jQuery=d.$=pe),pe})},function(e,t,n){const o=n(1);e.exports=function(e){'use strict';return o(document.createElementNS('http://www.w3.org/2000/svg',e||'svg'))}},function(e,t,n){const o=n(0),a=n(12),i=n(41),d=n(4);e.exports=function(e){'use strict';const t=this,n=o.extend({},e),r=function(e,t){let n=t.slice(0),o=e;for(;0<n.length;){if(o=o[n[0]],void 0===o)return;n=n.slice(1)}return o},s=function(e,t,n){const o=r(e,t);return void 0===o?n:o};t.getFontForStyles=function(e){const n=t.attributeValue(['node'],e,['text','font','weight'],'semibold'),o=t.attributeValue(['node'],e,['text','font','size'],i.nodeTheme.font.size),a=t.attributeValue(['node'],e,['text','font','lineSpacing'],i.nodeTheme.font.lineSpacing);return{size:o,weight:n,lineGap:a}},t.getNodeMargin=function(e){return t.attributeValue(['node'],e,['text','margin'],i.nodeTheme.margin)},t.name=e&&e.name,t.blockParentConnectorOverride=e&&e.blockParentConnectorOverride,t.attributeValue=function(e,t,a,i){const d=r(n,e);let l={};return d?(t&&t.length?t.slice(0).reverse().forEach(function(e){l=o.extend(l,d[e])}):l=o.extend({},d),s(l,a,i)):i},t.nodeStyles=function(e,t){const n=['level_'+e,'default'];return t&&t.group&&(n.unshift('attr_group'),('string'==typeof t.group||'number'==typeof t.group)&&n.unshift('attr_group_'+t.group)),n},t.nodeTheme=function(e){let t={};const d=r(n,['node']),s=o.extend({},i.nodeTheme);return d?(e.slice(0).reverse().forEach(function(e){t=o.extend(t,d[e])}),s.margin=r(t,['text','margin'])||s.margin,s.font=o.extend({},s.font,r(t,['text','font'])),s.text=o.extend({},s.text,r(t,['text'])),s.borderType=r(t,['border','type'])||s.borderType,s.backgroundColor=function(){const e=r(t,['background']);return e?a(e):r(t,['backgroundColor'])}()||s.backgroundColor,s.cornerRadius=r(t,['cornerRadius'])||s.cornerRadius,s.lineColor=r(t,['border','line','color'])||s.lineColor,s):(s.font=o.extend({},s.font),s.text=o.extend({},s.text),s)},t.connectorControlPoint=function(e,t){const a='horizontal'===e?i.connectorControlPoint.horizontal:i.connectorControlPoint.default,d=t&&r(n,['connector',t,'controlPoint',e]);return d&&o.extend({},d)||{width:0,height:a}},t.connectorTheme=function(e,a,d){const s=t.attributeValue(['node'],a,['connections','style'],'default'),l=d&&t.attributeValue(['node'],d,['connections','childstyle'],!1),p=r(n,['connector',s]),c=l&&r(n,['connector',l]),h=l&&l+'.'+s,u=h&&r(n,['connector',h]),g=t.connectorControlPoint(e||'horizontal',u&&h||c&&l||s||'default'),m=o.extend({},i.connectorTheme),f=o.extend({},u||c||p||m);return f.label||(f.label=m.label),f.controlPoint=g,f.line=f.line||m.line,f},t.linkTheme=function(e){const t=r(n,['link',e||'default']),a=d.link.default;return o.extend({},a,t)},n&&n.node&&n.node.forEach&&(n.nodeArray=n.node,n.node={},n.nodeArray.forEach(function(e){n.node[e.name]=e}),delete n.nodeArray),t.noAnimations=()=>!!n.noAnimations,t.getLayoutConnectorAttributes=(e)=>{const a=t.attributeValue(['node'],e,['connections','style'],'default'),d=o.extend({},i.connectorTheme),s=r(n,['connector',a])||d,l={};return s&&s.line&&(l.parentConnector={color:s.line.color}),l},t.cleanPersistedAttributes=(e)=>{return e&&e.parentConnector&&e.parentConnector.themeAutoColor&&(e.parentConnector.themeAutoColor===e.parentConnector.color&&delete e.parentConnector.color,delete e.parentConnector.themeAutoColor,o.isEmpty(e.parentConnector)&&delete e.parentConnector),e},t.getPersistedAttributes=(e,a,s)=>{const l=t.attributeValue(['node'],['level_'+a,'default'],['connections','style'],'default'),p=o.extend({},i.connectorTheme),c=r(n,['connector',l])||p,h=(()=>{const e=n.autoColors||[d.connector.default.line.color],t=s%e.length;return e[t]})(),u={attr:o.pick(o.extend({},e),['parentConnector']),removed:[]};return c&&c.line&&c.line.color==='theme-auto-color'?u.attr=o.extend({parentConnector:{color:h,themeAutoColor:h}},u.attr):u.attr.parentConnector&&u.attr.parentConnector.themeAutoColor&&(u.attr.parentConnector=o.extend({},u.attr.parentConnector),u.attr.parentConnector.themeAutoColor===u.attr.parentConnector.color&&delete u.attr.parentConnector.color,delete u.attr.parentConnector.themeAutoColor,o.isEmpty(u.attr.parentConnector)&&(u.removed.push('parentConnector'),delete u.attr.parentConnector)),u}}},function(e){e.exports={name:'MindMup Default',node:[{name:'default',cornerRadius:10,backgroundColor:'#E0E0E0',border:{type:'surround',line:{color:'#707070',width:1}},shadow:[{color:'#070707',opacity:0.4,offset:{width:2,height:2},radius:2}],text:{margin:5,maxWidth:146,alignment:'center',color:'#4F4F4F',lightColor:'#EEEEEE',darkColor:'#000000',font:{lineSpacing:2.5,size:9,weight:'bold'}},connections:{default:{h:'center',v:'center'},from:{horizontal:{h:'nearest-inset',v:'center'}},to:{h:'nearest',v:'center'}},decorations:{height:20,edge:'top',overlap:!0,position:'end'}},{name:'level_1',backgroundColor:'#22AAE0'},{name:'activated',border:{type:'surround',line:{color:'#22AAE0',width:2,style:'dashed'}}},{name:'selected',shadow:[{color:'#000000',opacity:0.9,offset:{width:2,height:2},radius:2}]},{name:'collapsed',shadow:[{color:'#888888',offset:{width:0,height:1},radius:0},{color:'#FFFFFF',offset:{width:0,height:3},radius:0},{color:'#888888',offset:{width:0,height:4},radius:0},{color:'#FFFFFF',offset:{width:0,height:6},radius:0},{color:'#888888',offset:{width:0,height:7},radius:0}]},{name:'collapsed.selected',shadow:[{color:'#FFFFFF',offset:{width:0,height:1},radius:0},{color:'#888888',offset:{width:0,height:3},radius:0},{color:'#FFFFFF',offset:{width:0,height:6},radius:0},{color:'#555555',offset:{width:0,height:7},radius:0},{color:'#FFFFFF',offset:{width:0,height:10},radius:0},{color:'#333333',offset:{width:0,height:11},radius:0}]}],connector:{default:{type:'quadratic',label:{position:{ratio:0.5},backgroundColor:'transparent',borderColor:'transparent',text:{color:'#4F4F4F',font:{size:9,sizePx:12,weight:'normal'}}},controlPoint:{above:{width:0,height:1.75},below:{width:0,height:1.75},horizontal:{width:0,height:1}},line:{color:'#707070',width:1}}},link:{default:{line:{color:'red',lineStyle:'dashed',width:1},label:{position:{ratio:0.5},backgroundColor:'#FFFFFF',borderColor:'#FFFFFF',text:{color:'#4F4F4F',font:{size:9,sizePx:12,weight:'normal'}}}}}}},function(e,t,n){const o=n(1);o.fn.getBox=function(){'use strict';const e=this&&this[0];return!!e&&{top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}}},function(e){e.exports=function(e){'use strict';let t=[];return e.addEventListener=function(e,n,o){e.split(' ').forEach(function(e){e&&t.push({type:e,listener:n,priority:o||0})})},e.listeners=function(e){return t.filter(function(t){return t.type===e}).map(function(e){return e.listener})},e.removeEventListener=function(e,n){t=t.filter(function(e){return e.listener!==n})},e.dispatchEvent=function(e){const n=Array.prototype.slice.call(arguments,1);t.filter(function(t){return t.type===e}).sort(function(e,t){return t.priority-e.priority}).some(function(t){try{return!1===t.listener.apply(void 0,n)}catch(n){console.log('dispatchEvent failed',n,t)}})},e}},function(e){e.exports=function(e){'use strict';return e.replace(/[^A-Za-z0-9_-]/g,'_')}},function(e,t,n){var o=Math.round;const a=n(1),i=n(73),d=function(t){'use strict';a(this).trigger(a.Event('mm:start-dragging',{relatedTarget:this,gesture:t.gesture})),t.stopPropagation(),t.preventDefault(),t.gesture&&(t.gesture.stopPropagation(),t.gesture.preventDefault())},r=function(t){'use strict';a(this).trigger(a.Event('mm:start-dragging-shadow',{relatedTarget:this,gesture:t.gesture})),t.stopPropagation(),t.preventDefault(),t.gesture&&(t.gesture.stopPropagation(),t.gesture.preventDefault())};a.fn.simpleDraggableContainer=function(){'use strict';let t,n;const e=this,d=function(e){if(t&&e.gesture){const i={top:o(parseInt(n.top,10)+e.gesture.deltaY),left:o(parseInt(n.left,10)+e.gesture.deltaX)};return t.css(i).trigger(a.Event('mm:drag',{currentPosition:i,gesture:e.gesture})),e.gesture&&e.gesture.preventDefault(),!1}},r=function(o){const e=t;'shadow'===e.attr('mapjs-drag-role')?e.trigger(a.Event('mm:cancel-dragging',{gesture:o.gesture})):e.animate(n,{complete:function(){e.trigger(a.Event('mm:cancel-dragging',{gesture:o.gesture}))},progress:function(){e.trigger('mm:drag')}})};return i(this,{drag_min_distance:2}),this.on('mm:start-dragging',function(e){t||(t=a(e.relatedTarget),n={top:t.css('top'),left:t.css('left')},a(this).on('drag',d))}).on('mm:start-dragging-shadow',function(o){const i=a(o.relatedTarget);t||(t=function(){const t=i.clone().addClass('drag-shadow').appendTo(e).offset(i.offset()).data(i.data()).attr('mapjs-drag-role','shadow'),n=i.parent().data('scale')||1;return 0!==n&&t.css({transform:'scale('+n+')',"transform-origin":'top left'}),t}(),n={top:t.css('top'),left:t.css('left')},t.on('mm:stop-dragging mm:cancel-dragging',function(t){this.remove(),t.stopPropagation(),t.stopImmediatePropagation();const e=a.Event(t.type,{gesture:t.gesture,finalPosition:t.finalPosition});i.trigger(e)}).on('mm:drag',function(t){i.trigger(t)}),a(this).on('drag',d))}).on('dragend',function(n){if(a(this).off('drag',d),t){const e=a.Event('mm:stop-dragging',{gesture:n.gesture,finalPosition:t.offset()});t.trigger(e),!1===e.result&&r(n),t=void 0}}).on('mouseleave',function(n){t&&(a(this).off('drag',d),r(n),t=void 0)}).attr('data-drag-role','container')},a.fn.simpleDraggable=function(e){'use strict';return e&&e.disable?a(this).off('dragstart',d):a(this).on('dragstart',d)},a.fn.shadowDraggable=function(e){'use strict';return e&&e.disable?a(this).off('dragstart',r):a(this).on('dragstart',r)}},function(e,t,n){const o=n(1);n(5),o.fn.getDataBox=function(){'use strict';const e=this.data();return e&&e.width&&e.height?{top:e.y,left:e.x,width:e.width,height:e.height}:this.getBox()}},function(e){e.exports=new function(){'use strict';const e=this,t=/(https?:\/\/|www\.)[\w-]+(\.[\w-]+)+([\w\(\)\u0080-\u00FF.,!@?^=%&amp;:\/~+#-]*[\w\(\)\u0080-\u00FF!@?^=%&amp;\/~+#-])?/i,n=function(e){return e?'/'===e[0]?e:/^[a-z]+:\/\//i.test(e)?e:'http://'+e:''};e.containsLink=function(e){return t.test(e)},e.getLink=function(e){const o=e&&e.match(t);return o&&o[0]?n(o[0]):o},e.stripLink=function(e){return e?e.replace(t,'').trim():''},e.formatLinks=function(t){return t?t.replace(e.getPattern(),(e)=>`<a target="_blank" href="${n(e)}">${e}</a>`):''},e.getPattern=function(){return new RegExp(t,'gi')},e.hrefUrl=n}},function(e,t,n){var o=Math.round;const a=n(0),i=n(12);e.exports=function(){'use strict';const e=this,t=function(e){return e+'px'},n={cornerRadius:'border-radius',"text.color":'color',"text.margin":'padding',background:'background-color',backgroundColor:'background-color',border:'border',shadow:'box-shadow',"text.font":'font',"text.alignment":'text-align'},d=function(e){return e&&e.weight?{light:'200',"semi-bold":'600'}[e.weight]||e.weight:'bold'},r=function(e){const t=e&&e.size||12,n=e&&e.lineSpacing||3;return t+'pt/'+((t+n)/t).toFixed(2)},s={cornerRadius:t,"text.margin":t,background:i,border:function(e){return e.line?e.line.width+'px '+(e.line.style||'solid')+' '+e.line.color+';margin:'+-1*e.line.width+'px':'0'},shadow:function(e){const t=[];return 1===e.length&&'transparent'===e[0].color?'none':(e.forEach(function(e){t.push(e.offset.width+'px '+e.offset.height+'px '+e.radius+'px '+i(e))}),t.join(','))},"text.font":function(e){return'normal normal '+d(e)+' '+r(e)+' NotoSans, "Helvetica Neue", Roboto, Helvetica, Arial, sans-serif'}},l=function(e){let t,i;const d=[],r=function(e,o){a.each(e,function(e,l){const p=(o||'')+l;n[p]?(t=s[p]||a.identity,i=t(e),i&&(d.push(n[p]),d.push(':'),d.push(i),d.push(';'))):a.isObject(e)&&r(e,p+'.')})},l=function(e,t){t.text&&(t.text.color&&(d.push(e),d.push('.mapjs-node-light{color:'),d.push(t.text.color),d.push(';}')),t.text.lightColor&&(d.push(e),d.push('.mapjs-node-dark{color:'),d.push(t.text.lightColor),d.push(';}')),t.text.darkColor&&(d.push(e),d.push('.mapjs-node-white{color:'),d.push(t.text.darkColor),d.push(';}')))},p=function(e,t){const n=t.text&&t.text.maxWidth;n&&(d.push(e),d.push(' span {'),d.push('max-width:'),d.push(n),d.push('px;}'))},c=function(e,t){const n=t.decorations,a=t.text&&t.text.margin||0;n&&(d.push(e),d.push(' .mapjs-decorations{position:absolute;'),'top'===n.edge||'bottom'===n.edge?('end'===n.position?d.push('right:0;'):'start'===n.position?d.push('left:0;'):d.push('left:0;width:100%;text-align:center;'),d.push(n.edge),d.push(':-'),d.push(n.overlap?o(n.height/2)+a:n.height),d.push('px;')):('left'===n.edge||'right'===n.edge)&&(d.push('left'===n.edge?'right':'left'),d.push(':100%;'),'end'===n.position?d.push('bottom:0;'):'start'===n.position?d.push('top:0;'):(d.push('top:calc(50% - '),d.push(o(n.height/2)),d.push('px);'))),d.push('}'))};return e.forEach(function(e){let t='.mapjs-node';'default'!==e.name&&(t=t+'.'+e.name.replace(/\s/g,'_')),d.push(t),d.push('{'),r(e),d.push('}'),l(t,e),c(t,e),p(t,e)}),d.join('')};e.process=function(e){let t='';return e.node&&(t=l(e.node)),{css:t}},e.cssFont=s['text.font']}},function(e,t,n){const o=n(13);e.exports=function(e){'use strict';return e.color&&0!==e.opacity?e.opacity?'rgba('+o(e.color).join(',')+','+e.opacity+')':e.color:'transparent'}},function(e,t,n){const o=n(0),a=new RegExp(/^rgba?\(([^,\s]+)[,\s]*([^,\s]+)[,\s]*([^,\s\()]+).*$/),i=function(e){'use strict';let t;if(a.test(e)&&(t=e.match(a),4===t.length))return o.map(t.slice(1),function(e){return parseInt(e)})},d=function(e){'use strict';const t=e.toString(16).match(/[a-f0-9]{6}/i);let n,o,a,i;if(t)return n=parseInt(t[0],16),o=255&n>>16,a=255&n>>8,i=255&n,[o,a,i]};e.exports=function(e){'use strict';return i(e)||d(e)||[0,0,0]}},function(e,t,n){const o=n(0);e.exports=function(e){'use strict';return function(){const t=function(e){let n;e.style&&(e.attr={},n=e.style.collapsed,delete e.style.collapsed,e.attr.style=e.style,n&&(e.attr.collapsed=n),delete e.style),e.ideas&&o.each(e.ideas,t)};e.formatVersion&&2<=e.formatVersion||(t(e),e.formatVersion=2)}(),function(){e.formatVersion&&3<=e.formatVersion||(function(){const t=['theme','measurements-config','storyboards','progress-statuses'],n=e&&e.attr||{},a=o.pick(n,t),i=o.omit(n,t),d=e&&e.ideas,r={id:e.id,title:e.title,attr:i};d&&(r.ideas=d),e.id='root',e.ideas={1:r},delete e.title,e.attr=a}(),e.formatVersion=3)}(),e}},function(e){'use strict';e.exports=function(e,n,o){var a=e*n,i=t*e,r=i-(i-e),s=e-r,l=t*n,d=l-(l-n),p=n-d,c=s*p-(a-r*d-s*d-r*p);return o?(o[0]=c,o[1]=a,o):[c,a]};var t=134217729},function(e,t,n){const o=n(0);e.exports=function(e){'use strict';return e.attr&&e.attr.group&&o.isEmpty(e.ideas)}},function(e,t,n){const o=n(0);e.exports=function(e,t){'use strict';const n=t&&t.level,a=t&&t.theme;return{title:e.title,width:e.attr&&e.attr.style&&e.attr.style.width,theme:a&&a.name,icon:e.attr&&e.attr.icon&&o.pick(e.attr.icon,'width','height','position'),collapsed:e.attr&&e.attr.collapsed,note:!!(e.attr&&e.attr.note),fontMultiplier:e.attr&&e.attr.style&&e.attr.style.fontMultiplier,styles:a&&a.nodeStyles(e.level||n,e.attr),level:e.level||n}}},function(e,t,n){const o=n(7);e.exports=function(e){'use strict';return o('node_'+e)}},function(e,t,n){const o=n(0);e.exports=function(e){'use strict';const t=o.omit(e,'left','top');return t.transform='translate('+e.left+'px,'+e.top+'px)',t}},function(e,t,n){var o=Math.round;const a=n(2),i=function(e,t,n){'use strict';n=n||'text';let o=e.find(n+'.mapjs-connector-text');return t?(0===o.length&&(o=a(n).attr('class','mapjs-connector-text'),o.appendTo(e)),o):(o.remove(),!1)};e.exports=function(e,t,n,a){'use strict';const d=i(e,n,'rect'),r=i(e,n),s=r&&r[0],l=d&&d[0];let p=!1;return!!s&&(s.style.stroke='none',s.style.fill=a.text.color,s.style.fontSize=a.text.font.sizePx+'px',s.style.fontWeight=a.text.font.weight,s.style.dominantBaseline='hanging',r.text(n.trim()),p=s.getClientRects()[0],s.setAttribute('x',o(t.x-p.width/2)),s.setAttribute('y',o(t.y-p.height)),l.setAttribute('x',o(t.x-p.width/2)),l.setAttribute('y',o(t.y-p.height-2)),l.setAttribute('height',o(p.height)),l.setAttribute('width',o(p.width)),l.style.fill=a.backgroundColor,l.style.stroke=a.borderColor,r)}},function(e){e.exports=function(e,t,n,o){'use strict';return o.position.ratio?n.getPointAtLength(n.getTotalLength()*o.position.ratio):{x:t.left+t.width/2-e.position.left,y:t.top-e.position.top-o.position.aboveEnd}}},function(e,t,n){const o=n(7);e.exports=function(e){'use strict';return o('connector_'+e.from+'_'+e.to)}},function(e,t,n){const o=n(7);e.exports=function(e){'use strict';return o('link_'+e.ideaIdFrom+'_'+e.ideaIdTo)}},function(e,t,n){const o=n(1),a=n(25),i=n(0),d=function(e){'use strict';const t=o('#container'),n='ontouchstart'in document.documentElement,i=new a.MapModel([]),d=a.observable({}),r=function(e){const t=e.theme||a.defaultTheme,n=t&&new a.ThemeProcessor().process(t).css;return!!n&&(window.themeCSS||o('<style id="themeCSS" type="text/css"></style>').appendTo('head').text(n),!0)},s=function(e){t.empty().domMapWidget(a.observable({}),i,n);const o=e.theme||a.defaultTheme,s=new a.Theme(o),l=a.content(e);new a.DomMapController(i,t.find('[data-mapjs-role=stage]'),n,!1,()=>s,{stageMargin:{top:50,left:50,bottom:50,right:50}}),i.setEditingEnabled(!1),r(e),d.dispatchEvent('mapLoaded','internal',l),i.setIdea(l),e.labels&&i.setLabelGenerator(()=>e.labels,'atlas'),i.focusAndSelect(l.getDefaultRootId())};o('.attachment').hide(),i.addEventListener('decorationActionRequested',function(e,n){if('note'===n){const n=i.getIdea().getAttrById(e,'note');n&&n.text&&(o('#attachment').empty(),o('#attachment').html(a.formatNoteToHtml(n.text)).addClass('note'),t.hide(),o('.attachment').show())}}),t.on('attachment-link-created',(n)=>{const e=n.nodeId,a=i.getIdea().findSubIdeaById(n.nodeId),d=o(n.target),r=a.attr&&a.attr.attachment,s=function(e){return e&&('application/pdf'===e||/^image\//.test(e)||/^text\//.test(e))},l=r&&function(e){if('application/vnd.google.drive.attachment'===e.contentType)return e.content.url||e.content.embedUrl;return e.remoteUrl?e.content:void 0}(r);r&&(l?d.attr({target:'_blank',href:l}):d.click(function(n){r.dataUriEncoded?(o('#attachment').empty().removeClass('note'),s(r.contentType)?(o('<iframe>').attr('src',r.content).appendTo('#attachment'),t.hide(),o('.attachment').show()):o(document).nodeWithId(e).find('.mapjs-attachment').attr({download:r.name,href:r.content,target:'_blank'})):(o('#attachment').html(r.content),t.hide(),o('.attachment').show()),n.preventDefault()}))}),o('.close.attachment').click(function(){o('.attachment').hide(),o('#attachment').removeClass('note'),t.show()}),document.fonts&&document.fonts.ready&&document.fonts.ready.then?document.fonts.ready.then(function(){e&&s(e),o('modalcontainer').addClass('hidden')}):(e&&s(e),o('modalcontainer').addClass('hidden'))};e.exports=function(){'use strict';const e=document.getElementById('map-contents').innerHTML,t=e.replace(/&#x3D;/g,'='),n=i.unescape(t),o=JSON.parse(n);d(o)}},function(e,t,n){n(26),n(27),n(29),n(30),e.exports={MapModel:n(31),content:n(38),observable:n(6),DomMapController:n(39),ThemeProcessor:n(11),Theme:n(3),defaultTheme:n(4),formatNoteToHtml:n(103),version:4}},function(e,t,n){const o=n(1),a=n(11);o.fn.themeCssWidget=function(e,t){'use strict';if(!e)throw'invalid-args';const n=o(this),i=t&&t.themeProcessor||new a;return e.addEventListener('themeJSONChanged',(e)=>n.text(i.process(e).css)),n}},function(e,t,n){const o=n(1),a=n(0),i=n(2);n(28),o.fn.scrollWhenDragging=function(e){'use strict';return this.each(function(){const t=o(this);let n;t.on('dragstart',function(){e()&&(n={top:t.scrollTop(),left:t.scrollLeft()})}).on('drag',function(o){o.gesture&&n&&(t.scrollTop(n.top-o.gesture.deltaY),t.scrollLeft(n.left-o.gesture.deltaX))}).on('dragend',function(){n=void 0})})},o.fn.domMapWidget=function(e,t,n,d,r){'use strict';const s={return:'insertDown',"shift+return":'insertUp',"shift+tab":'insertLeft',"tab insert":'insertRight',"del backspace":'removeSubIdea',left:'selectNodeLeft',up:'selectNodeUp',right:'selectNodeRight',"shift+right":'activateNodeRight',"shift+left":'activateNodeLeft',"meta+right ctrl+right":'moveRight',"meta+left ctrl+left":'moveLeft',"meta+up ctrl+up":'moveUp',"meta+down ctrl+down":'moveDown',"shift+up":'activateNodeUp',"shift+down":'activateNodeDown',down:'selectNodeDown',"space f2":'editNode',f:'toggleCollapse',"u meta+z ctrl+z":'undo',"Esc 0 meta+0 ctrl+0":'resetView',"r meta+shift+z ctrl+shift+z meta+y ctrl+y":'redo',"meta+plus ctrl+plus z":'scaleUp',"meta+minus ctrl+minus shift+z":'scaleDown',Esc:'cancelCurrentAction'},l={"[":'activateChildren',"{":'activateNodeAndChildren',"=":'activateSiblingNodes',".":'activateSelectedNode',"/":'toggleCollapse',a:'openAttachment',i:'editIcon'},p=this;let c=!0;return t.addEventListener('inputEnabledChanged',function(e,t){c=e,e&&!t&&p.focus()}),this.each(function(){const p=o(this),e=i().css({position:'absolute',top:0,left:0}).attr({"data-mapjs-role":'svg-container',class:'mapjs-draw-container'}),h=o('<div>').css({position:'relative'}).attr('data-mapjs-role','stage').appendTo(p).data({offsetX:p.innerWidth()/2,offsetY:p.innerHeight()/2,width:p.innerWidth()-20,height:p.innerHeight()-20,scale:1}).append(e).updateStage();let u=!1;p.css('overflow','auto').attr('tabindex',1),t.getInputEnabled()&&(d||p).simpleDraggableContainer(),n?p.on('doubletap',function(e){if(t.requestContextMenu(e.gesture.center.pageX,e.gesture.center.pageY))return e.preventDefault(),e.gesture.preventDefault(),!1}).on('pinch',function(e){let n;e&&e.gesture&&e.gesture.scale&&(e.preventDefault(),e.gesture.preventDefault(),n=e.gesture.scale,u&&(n/=u),0.05>Math.abs(n-1)||(u=e.gesture.scale,t.scale('touch',n,{x:e.gesture.center.pageX-h.data('offsetX'),y:e.gesture.center.pageY-h.data('offsetY')})))}).on('gestureend',function(){u=!1}):(p.scrollWhenDragging(t.getInputEnabled),p.on('mousedown',function(t){t.target!==p[0]&&p.css('overflow','hidden')}),o(document).on('mouseup',function(){'auto'!==p.css('overflow')&&p.css('overflow','auto')})),a.each(s,function(e,n){p.keydown(n,function(n){c&&(n.stopImmediatePropagation(),n.preventDefault(),t[e]('keyboard'))})}),n||o(window).on('resize',function(){t.resetView()}),o(window).on('orientationchange',function(){r?t.centerOnNode(t.getSelectedNodeId()):t.resetView()}),o(document).on('keydown',function(n){const e={61:'scaleUp',173:'scaleDown',"U+003D":'scaleUp',"U+002D":'scaleDown'};let o;n&&!n.altKey&&(n.ctrlKey||n.metaKey)&&(n.originalEvent&&n.originalEvent.keyIdentifier?o=e[n.originalEvent.keyIdentifier]:'MozPrintableKey'===n.key&&(o=e[n.which]),o&&c&&(n.preventDefault(),t[o]('keyboard')))}).on('wheel mousewheel',function(t){const e=t.originalEvent.deltaX||-1*t.originalEvent.wheelDeltaX;0>e&&0===p.scrollLeft()&&t.preventDefault(),0<e&&0==p[0].scrollWidth-p.width()-p.scrollLeft()&&t.preventDefault()}),p.on('keypress',function(e){if(c&&!/INPUT|TEXTAREA/.test(e&&e.target&&e.target.tagName)){const n=e.charCode||e.keyCode,o=String.fromCharCode(n),a=l[o];a?(e.preventDefault(),t[a]('keyboard')):9>=+o&&1<=+o&&(e.preventDefault(),t.activateLevel('keyboard',+o+1))}})})}},function(e,t,n){var o=n(1);(function(e){function t(t){if('string'==typeof t.data&&(t.data={keys:t.data}),t.data&&t.data.keys&&'string'==typeof t.data.keys){var n=t.handler,o=t.data.keys.toLowerCase().split(' ');t.handler=function(t){if(!(this!==t.target&&(e.hotkeys.options.filterInputAcceptingElements&&e.hotkeys.textInputTypes.test(t.target.nodeName)||e.hotkeys.options.filterContentEditable&&e(t.target).attr('contenteditable')||e.hotkeys.options.filterTextInputs&&-1<e.inArray(t.target.type,e.hotkeys.textAcceptingInputTypes)))){var a='keypress'!==t.type&&e.hotkeys.specialKeys[t.which],d=String.fromCharCode(t.which).toLowerCase(),r='',s={};e.each(['alt','ctrl','shift'],function(e,n){t[n+'Key']&&a!==n&&(r+=n+'+')}),t.metaKey&&!t.ctrlKey&&'meta'!==a&&(r+='meta+'),t.metaKey&&'meta'!==a&&-1<r.indexOf('alt+ctrl+shift+')&&(r=r.replace('alt+ctrl+shift+','hyper+')),a?s[r+a]=!0:(s[r+d]=!0,s[r+e.hotkeys.shiftNums[d]]=!0,'shift+'===r&&(s[e.hotkeys.shiftNums[d]]=!0));for(var p=0,i=o.length;p<i;p++)if(s[o[p]])return n.apply(this,arguments)}}}}e.hotkeys={version:'0.2.0',specialKeys:{8:'backspace',9:'tab',10:'return',13:'return',16:'shift',17:'ctrl',18:'alt',19:'pause',20:'capslock',27:'esc',32:'space',33:'pageup',34:'pagedown',35:'end',36:'home',37:'left',38:'up',39:'right',40:'down',45:'insert',46:'del',59:';',61:'=',96:'0',97:'1',98:'2',99:'3',100:'4',101:'5',102:'6',103:'7',104:'8',105:'9',106:'*',107:'+',109:'-',110:'.',111:'/',112:'f1',113:'f2',114:'f3',115:'f4',116:'f5',117:'f6',118:'f7',119:'f8',120:'f9',121:'f10',122:'f11',123:'f12',144:'numlock',145:'scroll',173:'-',186:';',187:'=',188:',',189:'-',190:'.',191:'/',192:'`',219:'[',220:'\\',221:']',222:'\''},shiftNums:{0:')',1:'!',2:'@',3:'#',4:'$',5:'%',6:'^',7:'&',8:'*',9:'(',"`":'~',"-":'_',"=":'+',";":': ',"'":'"',",":'<',".":'>',"/":'?',"\\":'|'},textAcceptingInputTypes:['text','password','number','email','url','range','date','month','week','time','datetime','datetime-local','search','color','tel'],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:!0,filterTextInputs:!0,filterContentEditable:!0}},e.each(['keydown','keyup','keypress'],function(){e.event.special[this]={add:t}})})(o||this.jQuery||window.jQuery)},function(e,t,n){const o=n(1);o.fn.mapToolbarWidget=function(e){'use strict';const t=['insertIntermediate','scaleUp','scaleDown','addSubIdea','editNode','removeSubIdea','toggleCollapse','addSiblingIdea','undo','redo','resetView','openAttachment','toggleAddLinkMode','activateChildren','activateNodeAndChildren','activateSiblingNodes','editIcon','insertRoot','makeSelectedNodeRoot'],n=['updateStyle'];return this.each(function(){const a=o(this);let i=!1;e.addEventListener('nodeSelectionChanged',function(){i=!0,a.find('.updateStyle[data-mm-target-property]').val(function(){return e.getSelectedStyle(o(this).data('mm-target-property'))}).change(),i=!1}),e.addEventListener('addLinkModeToggled',function(){a.find('.toggleAddLinkMode').toggleClass('active')}),t.forEach(function(t){a.find('.'+t).click(function(){e[t]&&e[t]('toolbar')})}),n.forEach(function(t){a.find('.'+t).change(function(){if(!i){const n=o(this);n.data('mm-target-property')&&e[t]('toolbar',n.data('mm-target-property'),n.val())}})})})}},function(e,t,n){const o=n(1);o.fn.linkEditWidget=function(e){'use strict';return this.each(function(){const t=o(this),n=t.find('.color'),a=t.find('.lineStyle'),i=t.find('.arrow');let d,r,s;e.addEventListener('linkSelected',function(e,o,l){d=e,t.show(),r=r||t.width(),s=s||t.height(),t.css({top:o.y-0.5*s-15+'px',left:o.x-0.5*r-15+'px'}),n.val(l.color).change(),a.val(l.lineStyle),i[l.arrow?'addClass':'removeClass']('active')}),e.addEventListener('mapMoveRequested',function(){t.hide()}),t.find('.delete').click(function(){e.removeLink('mouse',d.ideaIdFrom,d.ideaIdTo),t.hide()}),n.change(function(){e.updateLinkStyle('mouse',d.ideaIdFrom,d.ideaIdTo,'color',o(this).val())}),a.find('a').click(function(){e.updateLinkStyle('mouse',d.ideaIdFrom,d.ideaIdTo,'lineStyle',o(this).text())}),i.click(function(){e.updateLinkStyle('mouse',d.ideaIdFrom,d.ideaIdTo,'arrow',!i.hasClass('active'))}),t.mouseleave(t.hide.bind(t))})}},function(e,t,n){var o=Math.pow,a=Math.abs,i=Math.round,d=Math.min,r=Math.max;const s=n(0),l=n(32),p=n(6);e.exports=function(e,t,c){'use strict';let h=!0,u=!0,g=!1,m=!1,f=[],v,y,x,b,w,k,T;const C=this,E=c&&c.autoThemedIdeaUtils||n(34),S=c&&c.reorderMargin||20,I=c&&c.layoutModel||new l({nodes:{},connectors:{}}),N=(e,t,n,o)=>{const a=g&&g();return E.addSubIdea(v,a,e,t,n,o)},A=(e,t)=>{const n=g&&g();return E.insertIntermediateMultiple(v,n,e,t)},L=(e,t)=>{const n=g&&g();return E.changeParent(v,n,e,t)},R=function(e){const t=s.clone(f);f=0===e.length?[T]:e,C.dispatchEvent('activatedNodesChanged',s.difference(f,t),s.difference(t,f))},j=function(e){const t=x&&x(v);t&&s.each(e.nodes,function(e,n){(t[n]||0===t[n])&&(e.label=t[n])})},P=function(e,t){const n=s.min(e,function(e){return o(e.x+e.width/2-t.x-t.width/2,2)+o(e.y+e.height/2-t.y-t.height/2,2)});return n&&n.id},D=function(e,t){let n;const o=I.getLayout(),a=o.theme!==e.theme;C.dispatchEvent('layoutChangeStarting',s.size(e.nodes)-s.size(o.nodes)),j(e),s.each(o.connectors,function(t,n){const o=e.connectors&&e.connectors[n];o&&o.from===t.from&&o.to===t.to||C.dispatchEvent('connectorRemoved',t)}),s.each(o.links,function(t,n){const o=e.links&&e.links[n];o||C.dispatchEvent('linkRemoved',t)}),s.each(o.nodes,function(n,o){const a=e.nodes[o];let i;a||(o==T&&C.selectNode(P(e.nodes,n)),i=s.reject(f,function(t){return t==o}),i.length!==f.length&&R(i),C.dispatchEvent('nodeRemoved',n,o,t))}),s.each(e.nodes,function(e,n){const i=o.nodes[n];i?((e.x!==i.x||e.y!==i.y)&&C.dispatchEvent('nodeMoved',e,t),(e.width!==i.width||e.height!==i.height||e.level!==i.level||!s.isEqual(e.attr||{},i.attr||{})||a)&&C.dispatchEvent('nodeAttrChanged',e,t),e.title!==i.title&&C.dispatchEvent('nodeTitleChanged',e,t),e.label!==i.label&&C.dispatchEvent('nodeLabelChanged',e,t)):C.dispatchEvent('nodeCreated',e,t)}),s.each(e.connectors,function(e,n){const a=o.connectors[n];a&&!s.isEqual(a.attr||{},e.attr||{})&&C.dispatchEvent('connectorAttrChanged',e),a&&e.from===a.from&&e.to===a.to||C.dispatchEvent('connectorCreated',e,t)}),s.each(e.links,function(e,n){const a=o.links&&o.links[n];a?!s.isEqual(e.attr||{},a&&a.attr||{})&&C.dispatchEvent('linkAttrChanged',e,t):C.dispatchEvent('linkCreated',e,t)}),a&&(n={themeChanged:!0}),I.setLayout(e),C.isInCollapse||C.dispatchEvent('layoutChangeComplete',n)},O=function(e){b=T,w=f.slice(0),C.selectNode(e)},F=function(e){O(e),C.editNode(!1,!0,!0)},B=function(){return T||v.getDefaultRootId()},M=function(e,t,n){m||(b=!1,w=!1,C.rebuildRequired(n))},q=function(){return v.findSubIdeaById(T)||v},_=function(e,t){const n=v.findSubIdeaById(t)||v;n.getAttr('collapsed')&&v.updateAttr(t,'collapsed',!1)},H=function(e,t,n){const o=v.findSubIdeaById(t)||v;let a;return _(e,t),a=n?N(t,n):N(t),'top-down'===I.getOrientation()&&0>o.findChildRankById(a)&&v.flip(a),a},W=function(e){const t=e&&I.getNode(e);t&&v.updateAttr(e,'position',[t.x,t.y,1])},Y=function(e,t){const n=t&&I.getNode(t);n&&v.updateAttr(e,'position',[n.x+n.width+2*S,n.y,1])},X=function(e,t){t?C.dispatchEvent('analytic','mapModel',e,t):C.dispatchEvent('analytic','mapModel',e)};p(this),C.pause=function(){m=!0},C.resume=function(){m=!1,C.rebuildRequired()},C.getIdea=function(){return v},C.isEditingEnabled=function(){return u},C.getCurrentLayout=function(){return I.getLayout()},C.analytic=X,C.getCurrentlySelectedIdeaId=B,C.rebuildRequired=function(e){v&&(I.getLayout().theme!==(v.attr&&v.attr.theme)&&C.dispatchEvent('themeChanged',v.attr&&v.attr.theme),D(C.reactivate(k(v)),e))},this.setIdea=function(e,t){const n=T;if(!k)throw new Error('layout calculator not set');v&&(v.removeEventListener('changed',M),m=!1,R([]),C.dispatchEvent('nodeSelectionChanged',T,!1),T=void 0),v=e,v.addEventListener('changed',M),M(),t&&v.findSubIdeaById(n)?C.selectNode(n,!0):(C.selectNode(v.getDefaultRootId(),!0),C.dispatchEvent('mapViewResetRequested'))},this.setEditingEnabled=function(e){u=e},this.getEditingEnabled=function(){return u},this.setInputEnabled=function(e,t){h!==e&&(h=e,C.dispatchEvent('inputEnabledChanged',e,!!t))},this.getInputEnabled=function(){return h},this.selectNode=function(e,t,n){(t||h&&(e!==T||!C.isActivated(e)))&&(T&&C.dispatchEvent('nodeSelectionChanged',T,!1),T=e,n?C.activateNode('internal',e):R([e]),C.dispatchEvent('nodeSelectionChanged',e,!0))},this.clickNode=function(e,t){const n=t&&t.button&&-1!==t.button;t&&t.altKey?C.toggleLink('mouse',e):t&&t.shiftKey?C.toggleActivationOnNode('mouse',e):y&&!n?(this.toggleLink('mouse',e),this.toggleAddLinkMode()):(this.selectNode(e),n&&-1!==n&&h&&C.dispatchEvent('contextMenuRequested',e,t.layerX,t.layerY))},this.findIdeaById=function(e){return v.id==e?v:v.findSubIdeaById(e)},this.getSelectedStyle=function(e){return this.getStyleForId(T,e)},this.getStyleForId=function(e,t){const n=I.getNode(e);return n&&n.attr&&n.attr.style&&n.attr.style[t]},this.toggleCollapse=function(e){const t=q();let n;n=C.isActivated(t.id)&&0<s.size(t.ideas)?t.getAttr('collapsed'):C.everyActivatedIs(function(e){const t=C.findIdeaById(e);return t&&0<s.size(t.ideas)?t.getAttr('collapsed'):!0}),this.collapse(e,!n)},this.collapse=function(e,t){const n=B(),o=function(){return I.getNode(n)},a=o();let i=!1;X('collapse:'+t,e),C.isInCollapse=!0,h&&C.applyToActivated(function(e){const n=C.findIdeaById(e);n&&(!t||n.ideas&&0<s.size(n.ideas))&&v.updateAttr(e,'collapsed',t)}),i=o(),a&&i&&function(e,t,n){(t||n)&&s.each(e,function(e){e.x+=t,e.y+=n,C.dispatchEvent('nodeMoved',e,'scroll')})}(I.getLayout().nodes,a.x-i.x,a.y-i.y),C.isInCollapse=!1,C.dispatchEvent('layoutChangeComplete')},this.updateStyle=function(e,t,n){return!!u&&void(h&&(X('updateStyle:'+t,e),C.applyToActivated(function(e){C.getStyleForId(e,t)!=n&&v.mergeAttrProperty(e,'style',t,n)})))},this.updateLinkStyle=function(e,t,n,o,a){const i=s.extend({},v.getLinkAttr(t,n,'style'));return!!u&&void(h&&(X('updateLinkStyle:'+o,e),i[o]=a,v.updateLinkAttr(t,n,'style',i)))},this.addSubIdea=function(e,t,n){const o=t||T;let a;return!!u&&void(X('addSubIdea',e),h&&(v.batch(function(){a=H(e,o,n)}),a&&(n?O(a):F(a))))},C.addGroupSubidea=function(e,t){const n=t&&t.parentId,o=t&&t.group||!0,a=n||T;let i,d;return!!u&&void(X('addGroupSubidea',e),h&&(v.batch(function(){i=H(e,a,'group'),i&&(v.updateAttr(i,'contentLocked',!0),v.updateAttr(i,'group',o),d=N(i))}),d&&F(d)))},this.insertIntermediateGroup=function(e,t){const n=[],o=t&&t.group||!0;return!!u&&(!h||v.isRootNode(T)?!1:void(X('insertIntermediate',e),C.applyToActivated(function(e){n.push(e)}),A(n,{title:'group',attr:{group:o,contentLocked:!0}})))},this.insertIntermediate=function(e){const t=[];let n=!1;return!!u&&!!h&&void(X('insertIntermediate',e),C.applyToActivated(function(e){t.push(e)}),n=A(t),n&&F(n))},this.flip=function(e){const t=I.getNode(T);return!!u&&(X('flip',e),!h||v.isRootNode(T)?!1:t&&2===t.level&&v.flip(T))},this.addSiblingIdeaBefore=function(e){let t,n,o,a;return!!u&&(X('addSiblingIdeaBefore',e),!!h&&void(n=v.isRootNode(T)?v:v.findParent(T),v.batch(function(){n!==v&&_(e,n.id),t=N(n.id),t&&(n===v?Y(t,T):(o=n.findChildRankById(T),a=n.findChildRankById(t),0>o*a&&v.flip(t),v.positionBefore(t,T)))}),t&&F(t)))},this.addSiblingIdea=function(e,t,n){let o,a,i,d,r;const s=t||T;return!!u&&void(X('addSiblingIdea',e),h&&(i=v.isRootNode(s)?v:v.findParent(s),v.batch(function(){i!==v&&_(e,i.id),o=n?N(i.id,n):N(i.id),o&&(i===v?Y(o,T):(a=v.nextSiblingId(s),d=i.findChildRankById(s),r=i.findChildRankById(o),0>d*r&&v.flip(o),a&&v.positionBefore(o,a)))}),o&&(n?O(o):F(o))))},this.removeSubIdea=function(e){let t;return!!u&&(X('removeSubIdea',e),h&&C.applyToActivated(function(e){t=v.removeSubIdea(e)}),t)},this.updateTitle=function(e,t,n){n?v.initialiseTitle(e,t):v.updateTitle(e,t)},this.editNode=function(t,n,o){const a=q(),i=a.title;return!!u&&(t&&X('editNode',t),!!h&&(a.attr&&a.attr.contentLocked?!1:void(s.include(e,i)&&(n=!0),C.dispatchEvent('nodeEditRequested',T,n,!!o))))},this.editIcon=function(e){return!!u&&(e&&X('editIcon',e),!!h&&void C.dispatchEvent('nodeIconEditRequested',T))},this.scaleUp=function(e){C.scale(e,1.25)},this.scaleDown=function(e){C.scale(e,0.8)},this.scale=function(e,t,n){h&&(C.dispatchEvent('mapScaleChanged',t,n),X(1>t?'scaleDown':'scaleUp',e))},this.move=function(e,t,n){h&&(C.dispatchEvent('mapMoveRequested',t,n),X('move',e))},this.resetView=function(e){const t=I.getNode(T),n=t&&t.rootId||v&&v.getDefaultRootId();!n||h&&(X('resetView',e),C.selectNode(n),C.dispatchEvent('mapViewResetRequested'))},this.decorationAction=function(e,t,n){X('decorationAction',e),C.dispatchEvent('decorationActionRequested',t,n)},this.openAttachment=function(e,t){X('openAttachment',e),t=t||T;const n=I.getNode(t),o=n&&n.attr&&n.attr.attachment;n&&C.dispatchEvent('attachmentOpened',t,o)},this.setAttachment=function(e,t,n){const o=!!(n&&n.content);return!!u&&void(X('setAttachment',e),v.updateAttr(t,'attachment',o&&n))},this.toggleLink=function(e,t){const n=s.find(v.links,function(e){return e.ideaIdFrom+''===t+''&&e.ideaIdTo+''===T+''||e.ideaIdTo+''===t+''&&e.ideaIdFrom+''===T+''});n?C.removeLink(e,n.ideaIdFrom,n.ideaIdTo):C.addLink(e,t)},this.addLink=function(e,t){return!!u&&void(X('addLink',e),v.addLink(T,t))},this.selectLink=function(e,t,n){return!!u&&(X('selectLink',e),!!t&&void C.dispatchEvent('linkSelected',t,n,v.getLinkAttr(t.ideaIdFrom,t.ideaIdTo,'style')))},this.selectConnector=function(e,t,n){return!!u&&(X('selectConnector',e),!!t&&void C.dispatchEvent('connectorSelected',t.to,n,v.getAttrById(t.to,'parentConnector')))},this.removeLink=function(e,t,n){return!!u&&void(X('removeLink',e),v.removeLink(t,n))},this.toggleAddLinkMode=function(e){return!!u&&!!h&&void(X('toggleAddLinkMode',e),y=!y,C.dispatchEvent('addLinkModeToggled',y))},this.cancelCurrentAction=function(e){return!!h&&!!u&&void(y&&this.toggleAddLinkMode(e))},C.undo=function(e){const t=b,n=w;return!!u&&void(X('undo',e),h&&(v.undo(),t&&C.selectNode(t),n&&R(n)))},C.redo=function(e){return!!u&&void(X('redo',e),h&&v.redo())},C.moveRelative=function(e,t){let n;return!!u&&void(X('moveRelative',e),h&&('top-down'===I.getOrientation()&&(n={ignoreRankSide:!0}),v.moveRelative(T,t,n)))},C.contextForNode=function(e){const t=C.findIdeaById(e),n=t&&t.ideas&&0<s.size(t.ideas),o=s.size(v.ideas),a=v.hasSiblings(e),i=t&&t.attr&&t.attr.style&&t.attr.style.width,d=t&&t.attr&&t.attr.position,r=t&&t.getAttr('collapsed'),l=v.isRootNode(e);if(t)return{hasChildren:!!n,hasSiblings:!!a,hasPreferredWidth:!!i,hasPreferredPosition:!!d,notRoot:!l,notLastRoot:!l||1<o,canUndo:v.canUndo(),canRedo:v.canRedo(),canCollapse:n&&!r,canExpand:n&&r}},C.getIcon=function(e){const t=I.getNode(e||T);return!!t&&t.attr&&t.attr.icon},C.setIcon=function(e,t,n,o,a,i,d){let r=!1,l;return!!u&&(X('setIcon',e),i=i||T,r=C.findIdeaById(i),!!r&&void(t?(l={url:t,width:n,height:o,position:a},d&&(l.metaData=d),v.updateAttr(i,'icon',l)):(v.updateAttr(i,'icon',!1),!r.title&&0===s.size(r.ideas)&&v.removeSubIdea(i))))},C.insertUp=function(e){'standard'===I.getOrientation()?C.addSiblingIdeaBefore(e):C.insertIntermediate(e)},C.insertDown=function(e){'standard'===I.getOrientation()?C.addSiblingIdea(e):C.addSubIdea(e)},C.insertLeft=function(e){'standard'===I.getOrientation()?C.insertIntermediate(e):C.addSiblingIdeaBefore(e)},C.insertRight=function(e){'standard'===I.getOrientation()?C.addSubIdea(e):C.addSiblingIdea(e)},C.moveUp=function(e){'standard'===I.getOrientation()&&C.moveRelative(e,-1)},C.moveDown=function(e){'standard'===I.getOrientation()&&C.moveRelative(e,1)},C.moveLeft=function(e){'standard'===I.getOrientation()?C.flip(e):C.moveRelative(e,-1)},C.moveRight=function(e){'standard'===I.getOrientation()?C.flip(e):C.moveRelative(e,1)},C.getSelectedNodeId=function(){return B()},C.centerOnNode=function(e){I.getNode(e)||(v.startBatch(),s.each(v.calculatePath(e),function(e){v.updateAttr(e.id,'collapsed',!1)}),v.endBatch()),C.dispatchEvent('nodeFocusRequested',e),C.selectNode(e)},C.search=function(e){const t=[];return e=e.toLocaleLowerCase(),v.traverse(function(n){n.title&&0<=n.title.toLocaleLowerCase().indexOf(e)&&t.push({id:n.id,title:n.title})}),t},function(){const e=function(e,t,n,o){if(h){X(t,e);const a=I['nodeId'+o](T);a&&n.apply(C,[a])}},t={};['Left','Right','Up','Down'].forEach(function(n){t[n]=function(t,o,a){e(t,o,a,n)}}),C.getActivatedNodeIds=function(){return f.slice(0)},C.activateSiblingNodes=function(e){const t=v.findParent(T),n=t&&t.ideas&&s.map(t.ideas,function(e){return e.id});X('activateSiblingNodes',e);n&&R(n)},C.activateNodeAndChildren=function(e){const t=B(),n=v.getSubTreeIds(t);X('activateNodeAndChildren',e),n.push(t),R(n)},s.each(['Left','Right','Up','Down'],function(e){C['activateNode'+e]=function(n){t[e](n,'activateNode'+e,function(e){C.selectNode(e,!1,!0)})},C['selectNode'+e]=function(n){t[e](n,'selectNode'+e,C.selectNode)}}),C.toggleActivationOnNode=function(e,t){X('toggleActivated',e),C.isActivated(t)?R(s.without(f,t)):R([t].concat(f))},C.activateNode=function(e,t){X('activateNode',e),C.isActivated(t)||(f.push(t),C.dispatchEvent('activatedNodesChanged',[t],[]))},C.activateChildren=function(e){const t=q();X('activateChildren',e);!t||s.isEmpty(t.ideas)||t.getAttr('collapsed')||R(v.getSubTreeIds(t.id))},C.activateSelectedNode=function(e){X('activateSelectedNode',e),R([B()])},C.isActivated=function(e){return s.find(f,function(t){return e==t})},C.applyToActivated=function(e){v.batch(function(){s.each(f,e)})},C.everyActivatedIs=function(e){return s.every(f,e)},C.activateLevel=function(e,t){const n=s.map(s.filter(I.getLayout().nodes,function(e){return e.level==t}),function(e){return e.id});X('activateLevel',e),s.isEmpty(n)||R(n)},C.reactivate=function(e){return s.each(e.nodes,function(e){s.contains(f,e.id)&&(e.activated=!0)}),e}}(),C.getNodeIdAtPosition=function(e,t){const n=s.find(I.getLayout().nodes,function(n){return e>=n.x&&t>=n.y&&e<=n.x+n.width&&t<=n.y+n.height});return n&&n.id},C.autoPosition=function(e){return v.updateAttr(e,'position',!1)},C.standardPositionNodeAt=function(e,t,n,o){let a=!1;const i=I.getNode(I.getNode(e).rootId),d=v.findParent(e),r=I.getNode(d.id),l=I.getNode(e),p=I.getNode(e),c=function(){return 2>=p.level||0<(p.x-r.x)*(t-r.x)},h=function(){return s.isEmpty(d.ideas)?0:s.max(s.map(d.ideas,function(t){return t.id!==e&&t.attr&&t.attr.position&&t.attr.position[2]||0}))||0};return v.startBatch(),l&&2===l.level&&(a=function(t,n,o){const a=t.x<n.x&&o<t.x,i=t.x>n.x&&t.x<o;return(a||i)&&v.flip(e)}(i,p,t)),!o&&c()&&C.autoPosition(e),1<p.level&&(a=v.positionBefore(e,function(){let t={id:null,y:Infinity};return s.each(v.sameSideSiblingIds(e),function(e){const o=I.getNode(e);n<o.y&&o.y<t.y&&(t=o)}),t}().id)||a),o&&c()&&(1===p.level?a=function(){return v.updateAttr(e,'position',[t,n,h()+1])}():a=function(){let o;return o=t<r.x?r.x-t-p.width+r.width:t-r.x,X('nodeManuallyPositioned'),v.updateAttr(e,'position',[o,n-r.y,h()+1])}()||a),v.endBatch(),a},C.topDownPositionNodeAt=function(e,t,n,o){let i,d,r;const l=v.findParent(e),p=I.getNode(e),c=function(){return v.updateAttr(e,'position',[t,n,1])};return o?function(){return 2>p.level}()?c():v.batch(function(){return L(e,'root'),c()}):!!l&&(s.each(l.ideas,function(n){const o=I.getNode(n.id);n.id===e||(t<o.x&&(!d||a(t-o.x)<a(t-I.getNode(d.id).x))&&(d=n),t>o.x+o.width&&(!r||a(t-o.x)<a(t-I.getNode(r.id).x))&&(r=n))}),v.batch(function(){const t=!!(d&&d.id&&0>v.findChildRankById(d.id)),n=t?r:d,o=t&&0<v.findChildRankById(e);C.autoPosition(e),o&&v.flip(e),i=v.positionBefore(e,n&&n.id)}),i)},C.positionNodeAt=function(e,t,n,o){return'standard'===I.getOrientation()?C.standardPositionNodeAt(e,t,n,o):C.topDownPositionNodeAt(e,t,n,o)},C.dropNode=function(e,t,n){let o;const a=v.findParent(e);return t!==e&&(n?(o=v.clone(e),o&&v.paste(t,o),!1):t===a.id?C.autoPosition(e):L(e,t))},C.setLayoutCalculator=function(e){k=e},C.setThemeSource=function(e){g=e},C.dropImage=function(e,t,n,o,a,r){const s=function(o,a){const s=d(t,300)/t,l=d(n,300)/n,p=d(s,l),c=v.getAttrById(o,'icon');C.setIcon('drag and drop',e,i(t*p),i(n*p),c&&c.position||a,o,r)},l=C.getNodeIdAtPosition(o,a);return l?s(l,'left'):void function(){v.startBatch();const e=N(T);s(e,'center'),v.endBatch(),C.selectNode(e)}()},C.setLabelGenerator=function(e,t){x=e,C.dispatchEvent('labelGeneratorChange',t,!!e),C.rebuildRequired()},C.getStandardReorderBoundary=function(e){const t=I.getNode(e);return 1!==t.level&&function(e){let t;const n=[],o=I.getNode(e),a=I.getNode(o&&o.rootId),i=function(e,t){return e&&t&&e.x>=t.x},d=v.findParent(e),r=I.getNode(d.id),l=i(o,a)?'left':'right',p=i(o,a)?'right':'left',c=function(e,t){const n=s.map(e,function(e){return e.y}),a=s.map(e,function(e){return e.y+e.height}),i={minY:s.min(n)-S-o.height,maxY:s.max(a)+S,margin:S};return i.edge=t,i.x='left'===t?r.x+r.width+S:r.x-S,i},h=function(e){const t={minY:r.y-S-o.height,maxY:r.y+r.height+S,margin:S};return t.edge=e,t.x='left'===e?r.x+r.width+S:r.x-S,t},u=s.map(v.sameSideSiblingIds(e),function(e){return I.getNode(e)});return s.isEmpty(u)||n.push(c(u,l)),n.push(h(l)),2===o.level&&(t=function(){let e=s.map(d.ideas,function(e){return I.getNode(e.id)});return e=s.without(e,o),s.isEmpty(u)||(e=s.difference(e,u)),e}(),!s.isEmpty(t)&&n.push(c(t,p)),n.push(h(p))),n}(e)},C.getTopDownReorderBoundary=function(e){const t=I.getNode(e),n=v.findParent(e),o=10;let a=Infinity,i=-Infinity,l=-Infinity,p=!1;return n?(s.each(n.ideas,function(t){const n=I.getNode(t.id);n&&t.id!==e&&(p=!0,a=d(n.x,a),i=r(n.x+n.width,i),l=r(n.y+n.height,l))}),p?[{minY:t.y-t.height-o,maxY:l+o,minX:a-t.width-o,maxX:i+o,edge:'top'}]:[]):[]},C.getReorderBoundary=function(e){return'standard'===I.getOrientation()?C.getStandardReorderBoundary(e):C.getTopDownReorderBoundary(e)},C.focusAndSelect=function(e){C.selectNode(e),C.dispatchEvent('nodeFocusRequested',e)},C.requestContextMenu=function(e,t){return h&&u&&(C.dispatchEvent('contextMenuRequested',T,e,t),!0)},C.makeSelectedNodeRoot=function(){const e=C.getSelectedNodeId(),t=e&&I.getNode(e),n=t&&t.rootId;return!e||v.isRootNode(e)?!1:h&&u?v.batch(function(){const t=L(e,'root');return'top-down'===I.getOrientation()&&(!v.getAttrById(n,'position')&&W(n),W(e)),t}):void 0},C.setNodeWidth=function(e,t,n){v.mergeAttrProperty(t,'style','width',n)},C.unsetSelectedNodeWidth=function(e){return!!u&&void(X('unsetSelectedNodeWidth',e),C.applyToActivated(function(e){v.mergeAttrProperty(e,'style','width',!1)}))},C.unsetSelectedNodePosition=function(e){return!!u&&void(X('unsetSelectedNodePosition',e),C.applyToActivated(C.autoPosition))},C.insertRoot=function(e,t){const n=function(){return t?N(v.id,t):N(v.id)};if(!u)return!1;if(X('addRootNode',e),h){let e=!1;v.batch(function(){e=n(),Y(e,C.getSelectedNodeId())}),e&&(t?O(e):F(e))}},C.lineLabelClicked=function(e){C.dispatchEvent('lineLabelClicked',e)}}},function(e,t,n){var o=Math.pow,a=Math.abs,i=Math.round,d=Math.min,r=Math.floor,s=Math.max;const l=n(0),p=n(33);e.exports=function(e){'use strict';let t;const n=this,c={coneRatio:0.5,majorAxisRatio:3},h=function(e){const n=t&&l.values(t.nodes),o=n&&l.filter(n,e);return n&&o.length&&o},u=function(e,t){return h(function(n){const o=n.y+n.height-(e.y+e.height),d=e.x-a(o*t),r=e.x+e.width+a(o*t);return n.id===e.id||n.y<=i(e.y+0.5*e.height)?!1:void 0!==t&&(n.x>r||n.x+n.width<d)?!1:!0})},g=function(e,t){return h(function(n){const o=n.x+n.width-(e.x+e.width),d=e.y-a(o*t),r=e.y+e.height+a(o*t);return n.id===e.id||n.x<=i(e.x+0.5*e.width)?!1:void 0!==t&&(n.y>r||n.y+n.height<d)?!1:!0})},m=function(e,t){return h(function(n){const o=n.y-e.y,d=e.x-a(o*t),r=e.x+e.width+a(o*t);return n.id===e.id||n.y+n.height>=i(e.y+0.5*e.height)?!1:void 0!==t&&(n.x>r||n.x+n.width<d)?!1:!0})},f=function(e,t){return h(function(n){const o=n.x-e.x,d=e.y-a(o*t),r=e.y+e.height+a(o*t);return n.id===e.id||n.x+n.width>=i(e.x+0.5*e.width)?!1:void 0!==t&&(n.y>r||n.y+n.height<d)?!1:!0})},y=function(e,t,n,a){const r={x:i(e.x+0.5*e.width),y:i(e.y+0.5*e.height)},s=function(e,t){const i=n*(e.x-t.x),d=a*(e.y-t.y);return o(i,2)+o(d,2)};return!!t&&(1===t.length?t[0]:l.min(t,function(e){const t=[s(e,r),s({x:e.x+e.width,y:e.y+e.height},r),s({x:e.x+e.width,y:e.y},r),s({x:e.x,y:e.y+e.height},r),s({x:i(e.x+0.5*e.width),y:i(e.y+0.5*e.height)},r)];return l.min(t)}))},x=(e,t,o,i)=>{if('standard'===n.getOrientation()){const n=t.filter((t)=>e.parentId&&e.parentId===t.parentId);if(n.length)return l.min(n,(t)=>a(t.y-e.y))}return y(e,t,o,i)};n.getNode=function(e){return t&&t.nodes&&t.nodes[e]},n.isRootNode=function(e){return t&&t.nodes&&t.nodes[e]&&1===t.nodes[e].level},n.getNodeBox=function(e){return p(n.getNode(e))},n.setLayout=function(n){t=n||e},n.getLayout=function(){return t||e},n.nodeIdLeft=function(e){const t=n.getNode(e),o=t&&(f(t,c.coneRatio)||f(t)),a=o&&y(t,o,1,c.majorAxisRatio);return a&&a.id},n.nodeIdRight=function(e){const t=n.getNode(e),o=t&&(g(t,c.coneRatio)||g(t)),a=o&&y(t,o,1,c.majorAxisRatio);return a&&a.id},n.nodeIdUp=function(e){const t=n.getNode(e),o=t&&(m(t,c.coneRatio)||m(t)),a=o&&x(t,o,c.majorAxisRatio,1);return a&&a.id},n.nodeIdDown=function(e){const t=n.getNode(e),o=t&&(u(t,c.coneRatio)||u(t)),a=o&&x(t,o,c.majorAxisRatio,1);return a&&a.id},n.getOrientation=function(){return t&&t.orientation||'standard'},n.layoutBounds=function(){let e,n,o,a;return!l.isEmpty(t.nodes)&&(l.each(t.nodes,function(t){e?(e=d(t.x,e),n=d(t.y,n),o=s(t.x+t.width,o),a=s(t.y+t.height,a)):(e=t.x,n=t.y,o=t.x+t.width,a=t.y+t.height)}),{minX:e,minY:n,maxX:o,maxY:a,width:o-e,height:a-n})},n.clipRectTransform=function(e,t){let o=t&&t.scale||1;const a=n.getNode(e),i=n.layoutBounds(),s=t&&t.padding||0,l={x:a.x+a.width/2,y:a.y+a.height/2};return t&&t.clipRect?{x:t.clipRect.width/2-l.x,y:t.clipRect.height/2-l.y,width:t.clipRect.width,height:t.clipRect.height,scale:o}:t&&t.page?(o=d((t.page.width-2*s)/i.width,(t.page.height-2*s)/i.height),{x:-1*i.minX+r(0.5*(t.page.width/o-i.width)),y:-1*i.minY+r(0.5*(t.page.height/o-i.height)),width:t.page.width,height:t.page.height,scale:o}):{x:-1*i.minX+r(s/o),y:-1*i.minY+r(s/o),width:i.width*o+2*s,height:i.height*o+2*s,scale:o}}}},function(e){e.exports=function(e){'use strict';return!!e&&{left:e.x,top:e.y,width:e.width,height:e.height,level:e.level,styles:e.styles||['default']}}},function(e,t,n){const o=n(35),a=n(0),i=n(36),d=(e,t,n,o,a)=>{'use strict';const i=n&&t.getPersistedAttributes(n.attr,o,a)||{};i.removed.forEach((t)=>e.updateAttr(n.id,t,!1)),Object.keys(i.attr).forEach((t)=>{e.updateAttr(n.id,t,i.attr[t])})},r=(e,t,n,o,a)=>{'use strict';if(0<o&&d(e,t,n,o,a),n.ideas){let a=0;Object.keys(n.ideas).forEach((i)=>{r(e,t,n.ideas[i],o+1,a),a+=1})}};e.exports={addSubIdea:(e,t,n,i,d,r)=>{'use strict';if(!t)return e.addSubIdea(n,i,d,r);const s=o(e,n),l=n&&e.findSubIdeaById(n),p=l&&l.ideas&&Object.keys(l.ideas).length||0,c=t.getPersistedAttributes(r,s+1,p).attr,h=!a.isEmpty(c)&&c||void 0;return e.addSubIdea(n,i,d,h)},changeParent:(e,t,n,a)=>{'use strict';if(!t)return e.changeParent(n,a);let i;const r=e.findSubIdeaById(a),s=r&&r.ideas&&Object.keys(r.ideas).length||0,l=o(e,a);return e.batch(()=>{e.changeParent(n,a);const o=e.findSubIdeaById(n);d(e,t,o,l+1,s);let i=0;o.ideas&&Object.keys(o.ideas).forEach((n)=>{d(e,t,o.ideas[n],l+2,i),i+=1})}),i},insertIntermediateMultiple:(e,t,n,i)=>{'use strict';if(!t)return e.insertIntermediateMultiple(n,i);const r=a.extend({},i),s=t&&n&&n[0],l=s&&e.findSubIdeaById(s),p=s&&o(e,s),c=l&&l.attr||{},h=e.sameSideSiblingIds(s),u=h&&h.length||0,g=t.getPersistedAttributes(c,p,u).attr;r.attr=a.extend({},r.attr,g);let m;return e.batch(()=>{m=e.insertIntermediateMultiple(n,r);let o=0;n.forEach((n)=>{const a=e.findSubIdeaById(n);d(e,t,a,p+1,o),o+=1})}),m},pasteMultiple:(e,t,n,a)=>{'use strict';if(!t)return e.pasteMultiple(n,a);const d=o(e,n),s=e.findSubIdeaById(n),l=s.ideas&&Object.keys(s.ideas).length||0;a.forEach((e)=>{i(e,(e)=>t.cleanPersistedAttributes(e.attr))});let p=!1,c=l;return e.batch(()=>{return p=e.pasteMultiple(n,a),p&&p.length&&p.forEach((n)=>{const o=e.findSubIdeaById(n);r(e,t,o,d+1,c),c+=1}),p}),p},recalcIdeasAutoNodeAttrs:r}},function(e,t,n){const o=n(0);e.exports=function e(t,n,a){'use strict';if(!t)throw'invalid-args';if(t.id==n)return a||0;if(n){a=a||1;const i=o.find(t.ideas,function(e){return e.id==n});return i?a:o.reduce(t.ideas,function(t,o){return t||e(o,n,a+1)},void 0)}}},function(e,t,n){const o=n(37);e.exports=function e(t,n,a,i){'use strict';const d=!i&&(!t.formatVersion||3>t.formatVersion);i=i||(d?1:0),!a&&(d||i)&&n(t,i),o(t).forEach(function(t){e(t,n,a,i+1)}),a&&(d||i)&&n(t,i)}},function(e){var t=Math.abs;const n=function(e){'use strict';return 0<=e},o=function(e){'use strict';return!n(e)},a=function(e,n){'use strict';return t(e)-t(n)},i=function(e){'use strict';const t=Object.keys(e.ideas).map(parseFloat),i=t.filter(n).sort(a).concat(t.filter(o).sort(a));return i.map(function(t){return e.ideas[t]})};e.exports=function(e){'use strict';return e.ideas?i(e):[]}},function(e,t,n){var o=Math.abs;const a=n(0),i=n(6),d=n(14);e.exports=function(t,e){'use strict';let n={},r=!1,s;const l=function(){s=void 0},p=function e(n){return n=n||t,n.ideas?a.reduce(n.ideas,function(t,n){return Math.max(t,e(n))},parseInt(n.id,10)||0):parseInt(n.id,10)||0},c=function(t){return t=t||e,s||(s=p()),s+=1,t?s+'.'+t:s},h=function(e,n){const o=e.id===t.id;return e.id?l():e.id=c(n),e.ideas&&a.each(e.ideas,function(t,i){!o&&t.attr&&t.attr.group&&a.isEmpty(t.ideas)?delete e.ideas[i]:e.ideas[parseFloat(i)]=h(t,n)}),e.title||(e.title=''),e.containsDirectChild=e.findChildRankById=function(t){return parseFloat(a.reduce(e.ideas,function(e,n,o){return n.id==t?o:e},void 0))},e.findSubIdeaById=function(t){const n=a.find(e.ideas,function(e){return e.id==t});return n||a.reduce(e.ideas,function(e,n){return e||n.findSubIdeaById(t)},void 0)},e.isEmptyGroup=function(){return!t.isRootNode(e.id)&&e.attr&&e.attr.group&&a.isEmpty(e.ideas)},e.find=function(t){const n=t(e)?[a.pick(e,'id','title')]:[];return 0===a.size(e.ideas)?n:a.reduce(e.ideas,function(e,n){return a.union(e,n.find(t))},n)},e.getAttr=function(t){return e.attr&&e.attr[t]&&a.clone(e.attr[t])},e.sortedSubIdeas=function(){const t=[],n=e.ideas&&a.groupBy(a.map(a.keys(e.ideas),parseFloat),function(e){return 0<e}),o=n&&a.sortBy(n[!0],Math.abs).concat(a.sortBy(n[!1],Math.abs));return e.ideas?(a.each(o,function(n){t.push(e.ideas[n])}),t):[]},e.traverse=function(n,o){o||e===t||n(e),a.each(e.sortedSubIdeas(),function(e){e.traverse(n,o)}),o&&e!==t&&n(e)},e},u=function(e,t){let n=[];return(t=t||1,0===a.size(e))?0:(n=a.keys(e),n.push(0),a.max(a.map(n,parseFloat),function(e){return e*t}))},g=function(e){return!!a.find(t.ideas,function(t){return t.id===e})},m=function(e){let t=0,n=0,o=1;return g(e.id)&&(n=a.countBy(e.ideas,function(e,t){return 0>t}),(n['true']||0)<n['false']&&(o=-1)),t=u(e.ideas,o)+o,t},f=function(e,t){let n=0;return e.ideas=e.ideas||{},n=m(e),e.ideas[n]=t,n},y=function(e){return t.id==e?t:t.findSubIdeaById(e)},x=function(e,t){return a(a.map(a.keys(e.ideas),parseFloat)).reject(function(e){return 0>e*t})},v=function(e){return 0>e?-1:1},b={},w={},k={},T=function(e,n,o){o?t.dispatchEvent('changed',e,n,o):t.dispatchEvent('changed',e,n)},C=function(e,n,o,a){const i={eventMethod:e,eventArgs:n,undoFunction:o};return k[a]?void k[a].push(i):void(!b[a]&&(b[a]=[]),b[a].push(i),r?t.dispatchEvent('changed','redo',void 0,a):(T(e,n,a),w[a]=[]))},E=function(e,n,o,a){return'batch'!==e&&!k[a]&&b&&b[a]&&0!==b[a].length?void function(){const i=b[a].pop();'batch'===i.eventMethod?b[a].push({eventMethod:'batch',eventArgs:i.eventArgs.concat([[e].concat(n)]),undoFunction:function(){o(),i.undoFunction()}}):b[a].push({eventMethod:'batch',eventArgs:[[i.eventMethod].concat(i.eventArgs)].concat([[e].concat(n)]),undoFunction:function(){o(),i.undoFunction()}}),r?t.dispatchEvent('changed','redo',void 0,a):(T(e,n,a),w[a]=[])}():void C(e,n,o,a)},S=function(e,t,n){return e.ideas[t]=e.ideas[n],delete e.ideas[n],function(){return e.ideas[n]||!e.ideas[t]?!1:void(e.ideas[n]=e.ideas[t],delete e.ideas[t])}},I=function(e){const t=(e+'').indexOf('.');return 0<t&&e.substr(t+1)},N={},A='/xxxxxxxx-yxxx-yxxx-yxxx-xxxxxxxxxxxx/'.replace(/[xy]/g,function(e){const t=0|16*Math.random(),n='x'===e?t:8|3&t;return n.toString(16)})+(e||''),L=function(e,t,n){const o=e&&a.extend({},e.attr);if(!e)return!1;if(e.attr=a.extend({},e.attr),!n||'false'===n||a.isObject(n)&&a.isEmpty(n)){if(!e.attr[t])return!1;delete e.attr[t]}else{if(a.isEqual(e.attr[t],n))return!1;e.attr[t]=JSON.parse(JSON.stringify(n))}return 0===a.size(e.attr)&&delete e.attr,function(){e.attr=o}},R=function(e,n){return a.find(t.links,function(t){return t.ideaIdFrom===e&&t.ideaIdTo===n||t.ideaIdFrom===n&&t.ideaIdTo===e})},j=function(e,t){const n=y(e),o=y(t),i=n&&o&&(a.find(n.ideas,function(e){return e.id===t})||a.find(o.ideas,function(t){return t.id===e}));return e!==t&&!!n&&!!o&&!i},P=function(e,n){return a.find(t.links,function(t){return t.ideaIdFrom==e&&t.ideaIdTo==n})};return t.setConfiguration=function(e){n=e||{}},t.getSessionKey=function(){return e},t.nextSiblingId=function(e){const n=t.findParent(e),i=n&&n.findChildRankById(e),d=i&&x(n,i),r=d&&a.reject(d,function(e){return o(e)<=o(i)});return!!n&&0!==r.length&&n.ideas[a.min(r,Math.abs)].id},t.sameSideSiblingIds=function(e){const n=t.findParent(e),o=n.findChildRankById(e);return a.without(a.map(a.pick(n.ideas,x(n,o)),function(e){return e.id}),e)},t.getAttrById=function(e,t){const n=y(e);return n&&n.getAttr(t)},t.previousSiblingId=function(e){const n=t.findParent(e),i=n&&n.findChildRankById(e),d=i&&x(n,i),r=d&&a.reject(d,function(e){return o(e)>=o(i)});return!!n&&0!==r.length&&n.ideas[a.max(r,Math.abs)].id},t.clone=function(e){const n=e&&e!=t.id&&t.findSubIdeaById(e)||t;return JSON.parse(JSON.stringify(n))},t.cloneMultiple=function(e){return a.map(e,t.clone)},t.calculatePath=function(e,n,o){return t.isRootNode(e)?[]:(n=n||[t],o=o||t,o.containsDirectChild(e)?n:a.reduce(o.ideas,function(o,a){return o||t.calculatePath(e,[a].concat(n),a)},!1))},t.getSubTreeIds=function(e){const n=[],o=function(e){return a.isEmpty(e.ideas)?[]:void a.each(e.sortedSubIdeas(),function(e){o(e),n.push(e.id)})};return o(t.findSubIdeaById(e)||t),n},t.findParent=function(e,n){return n=n||t,!t.isRootNode(e)&&(n.containsDirectChild(e)?n:a.reduce(n.ideas,function(n,o){return n||t.findParent(e,o)},!1))},t.isBatchActive=function(t){return!!k[t||e]},t.startBatch=function(n){t.endBatch(n),k[n||e]=[]},t.discardBatch=function(t){k[t||e]=void 0},t.endBatch=function(t){const n=t||e,o=k[n];k[n]=void 0,a.isEmpty(o)||(1===a.size(o)?C(o[0].eventMethod,o[0].eventArgs,o[0].undoFunction,n):function(){const e=a.map(o,function(e){return[e.eventMethod].concat(e.eventArgs)}),t=a.sortBy(a.map(o,function(e){return e.undoFunction}),function(e,t){return-1*t});C('batch',e,function(){a.each(t,function(e){e()})},n)}())},t.execCommand=function(n,o,i){return!!N[n]&&N[n].apply(t,[i||e].concat(a.toArray(o)))},t.batch=function(e){const n=t.isBatchActive();let o;n||t.startBatch();try{o=e()}catch(o){throw n||t.discardBatch(),o}return n||t.endBatch(),o},N.batch=function(e){t.startBatch(e);try{a.each(a.toArray(arguments).slice(1),function(n){t.execCommand(n[0],n.slice(1),e)})}finally{t.endBatch(e)}},t.pasteMultiple=function(e,n){return t.batch(function(){return a.map(n,function(n){return t.paste(e,n)})})},t.paste=function(){return t.execCommand('paste',arguments)},N.paste=function(e,o,i,d){const r=o==t.id?t:t.findSubIdeaById(o),p=function(e){const t=a.omit(e,'ideas','id','attr');let o=1,i,d;return t.attr=a.omit(e.attr,n.nonClonedAttributes),a.isEmpty(t.attr)&&delete t.attr,e.ideas&&(i=a.groupBy(a.map(a.keys(e.ideas),parseFloat),function(e){return 0<e}),d=a.sortBy(i[!0],Math.abs).concat(a.sortBy(i[!1],Math.abs)),t.ideas={},a.each(d,function(n){t.ideas[o++]=p(e.ideas[n])})),t};let c=0,u;return(d&&(s=parseInt(d,10)-1),u=i&&(i.title||i.attr)&&h(p(i),I(d)),r&&u)&&(c=f(r,u),d&&l(),L(u,'position'),C('paste',[o,i,u.id],function(){delete r.ideas[c]},e),u.id)},t.flip=function(){return t.execCommand('flip',arguments)},N.flip=function(e,n){const o=t.findParent(n),a=o&&t.isRootNode(o.id)&&o.findChildRankById(n);return!!a&&(function(){const t=u(o.ideas,-1*v(a)),i=t-10*v(a),d=S(o,i,a);C('flip',[n],d,e)}(),!0)},t.initialiseTitle=function(){return t.execCommand('initialiseTitle',arguments)},N.initialiseTitle=function(e,t,n){const o=y(t),a=o&&o.title;return!!o&&a!==n&&(o.title=n,E('initialiseTitle',[t,n],function(){o.title=a},e),!0)},t.updateTitle=function(){return t.execCommand('updateTitle',arguments)},N.updateTitle=function(e,t,n){const o=y(t),a=o&&o.title;return!!o&&a!==n&&(o.title=n,C('updateTitle',[t,n],function(){o.title=a},e),!0)},t.addSubIdea=function(){return t.execCommand('addSubIdea',arguments)},N.addSubIdea=function(e,t,n,o,a){const i=y(t),d=()=>{const e={title:n,id:o};return a&&(e.attr=a),e};return!!i&&(o&&y(o)?!1:function(){const o=h(d()),r=f(i,o);return C('addSubIdea',[t,n,o.id,a],function(){delete i.ideas[r]},e),o.id}())},t.removeMultiple=function(e){let n=!1;return t.startBatch(),n=a.map(e,t.removeSubIdea),t.endBatch(),n},t.removeSubIdea=function(){return t.execCommand('removeSubIdea',arguments)},N.removeSubIdea=function(e,n){return!!function(){return!t.isRootNode(n)||1<a.size(t.ideas)}()&&function(){const o=t.findParent(n)||t,i=o&&o.findChildRankById(n),d=o&&o.ideas[i],r=t.links,s={};return!!i&&(d.traverse((e)=>s[e.id]=!0),delete o.ideas[i],t.links=a.reject(t.links,function(e){return s[e.ideaIdFrom]||s[e.ideaIdTo]}),C('removeSubIdea',[n],function(){o.ideas[i]=d,t.links=r},e),!0)}()},t.insertIntermediateMultiple=function(e,n){return t.batch(function(){const o=t.insertIntermediate(e[0],n&&n.title);return n&&n.attr&&Object.keys(n.attr).forEach(function(e){t.updateAttr(o,e,n.attr[e])}),a.each(e.slice(1),function(e){t.changeParent(e,o)}),o})},t.insertIntermediate=function(){return t.execCommand('insertIntermediate',arguments)},N.insertIntermediate=function(e,n,o,a,i){const d=t.isRootNode(n)?t:t.findParent(n),r=d&&d.findChildRankById(n);return!!function(){return t.id!=n&&!!d&&(a&&y(a)?!1:!!r)}()&&function(){const t=d.ideas[r],s=h((()=>{const e={title:o,id:a};return i&&(e.attr=i),e})());return d.ideas[r]=s,s.ideas={1:t},C('insertIntermediate',[n,o,s.id,i],function(){d.ideas[r]=t},e),s.id}()},t.changeParent=function(){return t.execCommand('changeParent',arguments)},N.changeParent=function(e,n,o){const a=y(o),i=t.findSubIdeaById(n),d=t.isRootNode(n)?t:t.findParent(n);return!!function(){return n!=o&&!!a&&!!i&&!i.findSubIdeaById(o)&&!a.containsDirectChild(n)&&!!d}()&&(function(){const t=d.findChildRankById(n),r=f(a,i),s=i.getAttr('position');L(i,'position'),delete d.ideas[t],C('changeParent',[n,o],function(){L(i,'position',s),d.ideas[t]=i,delete a.ideas[r]},e)}(),!0)},t.mergeAttrProperty=function(e,n,o,i){let d=t.getAttrById(e,n)||{};return i?d[o]=i:delete d[o],a.isEmpty(d)&&(d=!1),t.updateAttr(e,n,d)},t.updateAttr=function(){return t.execCommand('updateAttr',arguments)},N.updateAttr=function(e,t,n,o){const a=y(t),i=L(a,n,o);return i&&C('updateAttr',[t,n,o],i,e),!!i},t.getOrderedSiblingRanks=function(e,n){const o=t.findParent(e),i=o&&o.findChildRankById(e);return!!i&&(n&&n.ignoreRankSide?a.sortBy(a.map(a.keys(o.ideas),parseFloat)):a.sortBy(x(o,i),Math.abs))},t.moveRelative=function(e,n,o){const a=t.findParent(e),i=a&&a.findChildRankById(e),d=t.getOrderedSiblingRanks(e,o),r=d&&d.indexOf(i),s=function(){let e=r+(0<n?n+1:n);return o&&o.ignoreRankSide&&(0>i?(e=r+(0>n?n-1:n),0<d[e]&&++e):0>d[e]&&--e),e}(),l=0<=s&&d&&d.length&&d[s],p=l&&a&&a.ideas[l];let c=!1;return!function(){return!!a&&(o&&o.ignoreRankSide&&0>i?s>d.length-1:0>s)}()&&(t.startBatch(),o&&o.ignoreRankSide&&l&&p&&0>l*i&&t.flip(e),c=t.positionBefore(e,p&&p.id,a),t.endBatch(),c)},t.positionBefore=function(){return t.execCommand('positionBefore',arguments)},N.positionBefore=function(e,n,i,d){let r,s,l,p,c,h,g;const m=d||t.findParent(n),f=m&&m.findChildRankById(n);if(!m)return!1;if(n==i)return!1;if(r=0,i){if(s=m.findChildRankById(i),!s)return!1;if(l=x(m,s),p=a.reject(a.sortBy(l,Math.abs),function(e){return o(e)>=o(s)}),c=0<p.length?a.max(p,Math.abs):0,c==f)return!1;r=c+(s-c)/2}else{if(h=u(m.ideas,0>f?-1:1),h==f)return!1;r=h+10*(0>f?-1:1)}return r!=f&&(g=S(m,r,f),C('positionBefore',[n,i],g,e),!0)},t.addLink=function(){return t.execCommand('addLink',arguments)},N.addLink=function(e,n,o){return!!j(n,o)&&!R(n,o)&&(t.links=t.links||[],t.links.push({ideaIdFrom:n,ideaIdTo:o,attr:{style:{color:'#707070',lineStyle:'solid',arrow:'to'}}}),C('addLink',[n,o],function(){t.links.pop()},e),!0)},t.removeLink=function(){return t.execCommand('removeLink',arguments)},N.removeLink=function(e,n,o){for(let d=0,i;t.links&&d<t.links.length;){if(i=t.links[d],i.ideaIdFrom===n&&i.ideaIdTo===o)return t.links.splice(d,1),C('removeLink',[n,o],function(){t.links.push(a.clone(i))},e),!0;d+=1}return!1},t.getLinkAttr=function(e,t,n){const o=P(e,t);return o&&o.attr&&o.attr[n]&&o.attr[n]},t.updateLinkAttr=function(){return t.execCommand('updateLinkAttr',arguments)},N.updateLinkAttr=function(e,t,n,o,a){const i=P(t,n),d=L(i,o,a);return d&&C('updateLinkAttr',[t,n,o,a],d,e),!!d},t.canUndo=function(){return!!(b[e]&&0<b[e].length)},t.canRedo=function(){return!!(w[e]&&0<w[e].length)},t.undo=function(){return t.execCommand('undo',arguments)},N.undo=function(e){let n=!1;return t.endBatch(),n=b[e]&&b[e].pop(),n&&n.undoFunction&&(n.undoFunction(),w[e]||(w[e]=[]),w[e].push(n),t.dispatchEvent('changed','undo',[],e),!0)},t.redo=function(){return t.execCommand('redo',arguments)},N.redo=function(e){let n=!1;return t.endBatch(),n=w[e]&&w[e].pop(),!!n&&(r=!0,t.execCommand(n.eventMethod,n.eventArgs,e),r=!1,!0)},t.storeResource=function(){return t.execCommand('storeResource',arguments)},N.storeResource=function(n,o,i){const d=function(){const n=a.keys(t.resources),o=e?a.filter(n,RegExp.prototype.test.bind(new RegExp('\\/'+e+'$'))):n,i=a.map(o,function(e){return parseInt(e,10)});return a.isEmpty(i)?0:a.max(i)},r=function(){const e=d()+1;return e+A};return function(){if(!i&&t.resources)return a.find(a.keys(t.resources),function(e){return t.resources[e]===o})}()||function(){const e=i||r();return t.resources=t.resources||{},t.resources[e]=o,t.dispatchEvent('resourceStored',o,e,n),e}()},t.getResource=function(e){return t.resources&&t.resources[e]},t.hasSiblings=function(e){const n=t.findParent(e);return!t.isRootNode(e)&&n&&1<a.size(n.ideas)},t.isRootNode=function(e){return g(e)},t.getDefaultRootId=function(){const e=t&&a.values(t.ideas);return e&&e.length&&e[0].id},d(t),i(t),h(t),t}},function(e,t,n){var o=Math.round;const a=n(1),i=n(0),d=n(40),r=n(17);n(72),n(8),n(74),n(75),n(81),n(84),n(85),n(90),n(91),n(92),n(93),n(94),n(98),n(99),n(100),n(101),n(102),e.exports=function(e,t,n,s,p,l){'use strict';let c=l&&l.stageMargin,h=l&&l.stageVisibilityMargin,u=!1,g=a(),m=a(),f;const y=this,v=t.parent(),x={duration:400,queue:'nodeQueue',easing:'linear'},b=e.isEditingEnabled()?t.createReorderBounds():a('<div>'),w=a('<div>').addClass('mapjs-node').css({position:'absolute',visibility:'hidden'}),k=function(){return f?f:(f={left:v.scrollLeft(),top:v.scrollTop(),innerWidth:v.innerWidth(),innerHeight:v.innerHeight()},f)},T=function(e,n){const o=t.data(),a=k();return{x:o.scale*(e+o.offsetX)-a.left,y:o.scale*(n+o.offsetY)-a.top}},C=function(e,n){const o=t.data(),a=k();return{x:(a.left+e)/o.scale-o.offsetX,y:(a.top+n)/o.scale-o.offsetY}},E=function(){const e=a(this);e.css({left:e.data('x'),top:e.data('y')}).trigger('mapjs:move')},S=function(){const e=a(this);e.clearQueue(x.queue).animate({left:e.data('x'),top:e.data('y'),opacity:1},i.extend({complete:function(){e.css('opacity',''),e.each(E)}},x)).trigger('mapjs:animatemove')},I=function(e,n){const o=t.data();let a=!1;e<-1*o.offsetX&&(o.width=o.width-o.offsetX-e,o.offsetX=-1*e,a=!0),n<-1*o.offsetY&&(o.height=o.height-o.offsetY-n,o.offsetY=-1*n,a=!0),e>o.width-o.offsetX&&(o.width=o.offsetX+e,a=!0),n>o.height-o.offsetY&&(o.height=o.offsetY+n,a=!0),a&&t.updateStage()},N=function(){return a(this).each(function(){const e=a(this).data(),t=c||{top:0,left:0,bottom:0,right:0};I(e.x-t.left,e.y-t.top),I(e.x+e.width+t.right,e.y+e.height+t.bottom)})},A=function(e,n,a){const i=t.data(),d={x:o(v.innerWidth()/2),y:o(v.innerHeight()/2)},r=h||{top:0,left:0,bottom:0,right:0};let s=!1,l=!1;I(e-d.x/i.scale,n-d.y/i.scale),I(e+d.x/i.scale-r.left,n+d.y/i.scale-r.top),s=i.scale*(e+i.offsetX)-d.x,l=i.scale*(n+i.offsetY)-d.y,v.finish(),a?v.animate({scrollLeft:s,scrollTop:l},{duration:400}):(v.scrollLeft(s),v.scrollTop(l))},L=function(e,n){const a=t.nodeWithId(e).data(),i=o(a.x+a.width/2),d=o(a.y+a.height/2);A(i,d,n)},R=function(){return C(o(v.innerWidth()/2),o(v.innerHeight()/2))},j=function(e){if(e&&0!==e.length){v.finish();const t=e.data(),n=T(t.x,t.y),o=T(t.x+t.width,t.y+t.height),a={},d=h||{top:10,left:10,bottom:10,right:10};0>n.x-d.left?a.scrollLeft=v.scrollLeft()+n.x-d.left:o.x+d.right>v.innerWidth()&&(a.scrollLeft=v.scrollLeft()+o.x-v.innerWidth()+d.right),0>n.y-d.top?a.scrollTop=v.scrollTop()+n.y-d.top:o.y+d.bottom>v.innerHeight()&&(a.scrollTop=v.scrollTop()+o.y-v.innerHeight()+d.bottom),i.isEmpty(a)||v.animate(a,{duration:100})}},P=function(e){const t=e&&e.gesture&&e.gesture.center||e,n=v.offset();let o;if(t&&(o={x:t.pageX-n.left,y:t.pageY-n.top},0<=o.x&&o.x<=v.innerWidth()&&0<=o.y&&o.y<=v.innerHeight()))return o},D=function(e){const t=P(e);if(t)return C(t.x,t.y)},O=function(){(u||!1==u)&&(a('.mapjs-node').removeClass('droppable'),u=void 0)},F=function(e){t.nodeWithId(e).addClass('droppable'),u=e},B=function(e,t){return!i.isEmpty(e)&&!!t&&i.find(e,function(e){let n=t.x;return'right'===e.edge&&(n+=t.width),e.x&&e.margin?Math.abs(n-e.x)<2*e.margin&&t.y<e.maxY&&t.y>e.minY:t.y<e.maxY&&t.y>e.minY&&t.x<e.maxX&&t.x>e.minX})},M=function(){return'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"></svg>'};y.setStageMargin=function(e){c=e},y.setStageVisibilityMargin=function(e){h=e},y.dimensionProvider=function(e,n){let o=!1,a=t.nodeWithId(e.id);return a&&0<a.length&&i.isEqual(a.data('nodeCacheMark'),r(e,{level:n,theme:p()}))?i.pick(a.data(),'width','height','textWidth'):(a=w,a.appendTo('body').updateNodeContent(e,{resourceTranslator:M,level:n,theme:p()}),o={width:a.outerWidth(!0),textWidth:a.find('[data-mapjs-role="title"]').outerWidth(!0),height:a.outerHeight(!0)},a.detach(),o)},e.setLayoutCalculator(function(e){return d(e,y.dimensionProvider,{theme:p()})}),v.on('scroll',function(){f=void 0}),e.addEventListener('nodeCreated',function(o){let a;const i=t.createNode(o).queueFadeIn(x).updateNodeContent(o,{resourceTranslator:s,theme:p()}).nodeResizeWidget(o.id,e,D).on('tap',function(t){const n=t.gesture&&t.gesture.srcEvent||t;n.button&&-1!==n.button||(e.clickNode(o.id,n),t&&t.stopPropagation(),t&&t.gesture&&t.gesture.stopPropagation())}).on('doubletap',function(t){return t&&(t.stopPropagation(),t.gesture&&t.gesture.stopPropagation()),e.isEditingEnabled()?void e.editNode('mouse'):void e.toggleCollapse('mouse')}).on('attachment-click',function(){e.openAttachment('mouse',o.id)}).on('decoration-click',function(t,n){e.decorationAction('mouse',o.id,n)}).each(N).each(E).on('mm:start-dragging mm:start-dragging-shadow',function(t){t&&t.relatedTarget===this&&(e.selectNode(o.id),a=e.getReorderBoundary(o.id),i.addClass('dragging'))}).on('mm:drag',function(t){const n=D(t),d=t.currentPosition&&D({pageX:t.currentPosition.left,pageY:t.currentPosition.top}),r=t&&t.gesture&&t.gesture.srcEvent&&t.gesture.srcEvent.shiftKey,s=n&&e.getNodeIdAtPosition(n.x,n.y);let l;return n?void(r||s||!d?b.hide():(d.width=i.outerWidth(),d.height=i.outerHeight(),l=B(a,d),b.updateReorderBounds(l,d,n)),s&&s!==o.id?s!==u&&(O(),s&&F(s)):O()):void O()}).on('contextmenu',function(t){if(e.selectNode(o.id),e.requestContextMenu(t.pageX,t.pageY))return t.preventDefault(),!1}).on('mm:stop-dragging',function(t){i.removeClass('dragging'),b.hide();let n,d;const r=t&&t.gesture&&t.gesture.srcEvent&&t.gesture.srcEvent.shiftKey,s=D(t),l=s&&e.getNodeIdAtPosition(s.x,s.y),p=t.finalPosition&&D({pageX:t.finalPosition.left,pageY:t.finalPosition.top});if(O(),!!s)return l&&l!==o.id?n=e.dropNode(o.id,l,!!r):(p.width=i.outerWidth(),p.height=i.outerHeight(),d=!!r||!B(a,p),n=d?e.positionNodeAt(o.id,p.x,p.y,d):e.positionNodeAt(o.id,s.x,s.y,d)),n}).on('mm:cancel-dragging',function(){O(),i.removeClass('dragging'),b.hide()}).on('mm:resize',function(t){e.setNodeWidth('mouse',o.id,t.nodeWidth)});n&&i.on('hold',function(t){const n=t.gesture&&t.gesture.srcEvent||t;if(e.clickNode(o.id,n),e.requestContextMenu(t.gesture.center.pageX,t.gesture.center.pageY))return t.preventDefault(),t.gesture&&(t.gesture.preventDefault(),t.gesture.stopPropagation()),!1}),i.css('min-width',i.css('width')),e.isEditingEnabled()&&i.shadowDraggable()}),e.addEventListener('nodeSelectionChanged',function(e,n){const o=t.nodeWithId(e);n?(o.addClass('selected'),j(o)):o.removeClass('selected')}),e.addEventListener('nodeRemoved',function(e){t.nodeWithId(e.id).queueFadeOut(x)}),e.addEventListener('nodeMoved',function(e){const n=k(),a=t.nodeWithId(e.id).data({x:o(e.x),y:o(e.y),width:o(e.width),height:o(e.height)}).each(N),i=T(o(e.x),o(e.y)),d=T(o(e.x+e.width),o(e.y+e.height));0>d.x||0>d.y||i.x>n.innerWidth||i.y>n.innerHeight?a.each(E):a.each(S)}),e.addEventListener('nodeTitleChanged nodeAttrChanged nodeLabelChanged',function(e){t.nodeWithId(e.id).updateNodeContent(e,{resourceTranslator:s,theme:p()}).each(N)}),e.addEventListener('connectorCreated',function(n){const o=t.find('[data-mapjs-role=svg-container]').createConnector(n).updateConnector({canUseData:!0,theme:p()});t.nodeWithId(n.from).add(t.nodeWithId(n.to)).on('mapjs:move',function(){o.updateConnector({canUseData:!0,theme:p()})}).on('mapjs:resize',function(){o.updateConnector({canUseData:!0,theme:p()})}).on('mm:drag',function(){o.updateConnector({theme:p()})}).on('mapjs:animatemove',function(){g=g.add(o)}),o.on('tap',function(t){const o=p();o&&o.blockParentConnectorOverride||(t.target&&'text'===t.target.tagName?e.lineLabelClicked(n):e.selectConnector('mouse',n,t&&t.gesture&&t.gesture.center&&{x:t.gesture.center.pageX,y:t.gesture.center.pageY})),t.gesture&&t.gesture.stopPropagation&&t.gesture.stopPropagation(),t.stopPropagation()})}),e.addEventListener('connectorRemoved',function(e){t.findLine(e).remove()}),e.addEventListener('linkCreated',function(n){const o=t.find('[data-mapjs-role=svg-container]').createLink(n).updateLink({theme:p()});o.on('tap',function(t){t.target&&'text'===t.target.tagName?e.lineLabelClicked(n):e.selectLink('mouse',n,{x:t.gesture.center.pageX,y:t.gesture.center.pageY}),t.stopPropagation(),t.gesture.stopPropagation()}),t.nodeWithId(n.ideaIdFrom).add(t.nodeWithId(n.ideaIdTo)).on('mapjs:move mm:drag',function(){o.updateLink({theme:p()})}).on('mapjs:animatemove',function(){m=m.add(o)})}),e.addEventListener('linkRemoved',function(e){t.findLine(e).remove()}),e.addEventListener('mapScaleChanged',function(e){const n=t.data('scale'),o=Math.max(Math.min(n*e,5),0.2),a=R();n===o||(t.data('scale',o).updateStage(),A(a.x,a.y))}),e.addEventListener('nodeVisibilityRequested',function(n){const o=n||e.getCurrentlySelectedIdeaId(),a=t.nodeWithId(o);a&&(j(a),v.finish())}),e.addEventListener('nodeFocusRequested',function(e){1!==t.data('scale')&&t.data('scale',1).updateStage(),L(e,!0)}),e.addEventListener('mapViewResetRequested',function(){t.data({scale:1,height:0,width:0,offsetX:0,offsetY:0}).updateStage(),t.children().andSelf().finish(x.queue),a(t).find('.mapjs-node').each(N),a(t).find('[data-mapjs-role=connector]').updateConnector({canUseData:!0,theme:p()}),a(t).find('[data-mapjs-role=link]').updateLink({theme:p()}),L(e.getCurrentlySelectedIdeaId()),v.focus()}),e.addEventListener('layoutChangeStarting',function(){f=void 0,t.children().finish(x.queue),t.finish(x.queue)}),e.addEventListener('layoutChangeComplete',function(n){let o=a(),d=a();const r=p();l&&l.noAnimations||n&&n.themeChanged||r.noAnimations()?(t.children().andSelf().finish(x.queue),a(t).find('[data-mapjs-role=connector]').updateConnector({canUseData:!0,theme:r}),a(t).find('[data-mapjs-role=link]').updateLink({theme:r,canUseData:!0})):(g.each(function(){a(this).animateConnectorToPosition(x,2)||(o=o.add(this))}),m.each(function(){a(this).animateConnectorToPosition(x,2)||(d=d.add(this))}),t.animate({opacity:1},i.extend({progress:function(){o.updateConnector({theme:r}),d.updateLink({theme:r})},complete:function(){o.updateConnector({canUseData:!0,theme:r}),d.updateLink({theme:r,canUseData:!0})}},x)),t.children().dequeue(x.queue),t.dequeue(x.queue)),g=a(),m=a(),j(t.nodeWithId(e.getCurrentlySelectedIdeaId()))}),l&&l.inlineEditingDisabled||e.addEventListener('nodeEditRequested',function(n,o,a){const i=t.nodeWithId(n);e.setInputEnabled(!1),v.finish(),i.editNode(o).done(function(t){e.setInputEnabled(!0),e.updateTitle(n,t,a),i.focus()}).fail(function(){e.setInputEnabled(!0),a&&e.undo('internal'),i.focus()})}),e.addEventListener('addLinkModeToggled',function(e){e?t.addClass('mapjs-add-link'):t.removeClass('mapjs-add-link')}),e.addEventListener('linkAttrChanged',function(e){t.findLine(e).data('attr',e.attr&&e.attr.style||{}).updateLink({theme:p()})}),e.addEventListener('connectorAttrChanged',function(e){t.findLine(e).data('attr',e.attr||!1).updateConnector({canUseData:!0,theme:p()})}),e.addEventListener('activatedNodesChanged',function(e,n){i.each(e,function(e){t.nodeWithId(e).addClass('activated')}),i.each(n,function(e){t.nodeWithId(e).removeClass('activated')})})}},function(e,t,n){const o=n(14),a=n(3),i=n(43),d=n(44),r=n(45),s=n(61),l={standard:n(63),"top-down":n(66)},p=function(e,t,n,o){'use strict';return s.setThemeAttributes(e,n),{orientation:o,nodes:e,connectors:i(t,e,n),links:d(t,e),theme:t.attr&&t.attr.theme}};e.exports=function(e,t,n){'use strict';const i=n&&n.layouts||l,d=n&&n.theme||new a({}),s=new r,c=d.attributeValue(['layout'],[],['spacing'],{h:20,v:20}),h=d.attributeValue(['layout'],[],['orientation'],'standard'),u=i[h]||i.standard;return e=o(e),Object.keys(e.ideas).forEach(function(n){const o=e.ideas[n],a=u(o,t,{h:c.h||c,v:c.v||c});s.appendRootNodeLayout(a,o)}),p(s.getCombinedLayout(10),e,d,h)}},function(e,t,n){const o=n(4),a=n(42),i=o.node[0],d=o.connector.default;e.exports=a({nodeTheme:{margin:i.text.margin,font:i.text.font,maxWidth:i.text.maxWidth,backgroundColor:i.backgroundColor,borderType:i.border.type,cornerRadius:i.cornerRadius,lineColor:i.border.line.color,text:{color:i.text.color,lightColor:i.text.lightColor,darkColor:i.text.darkColor}},connectorControlPoint:{horizontal:d.controlPoint.horizontal.height,default:d.controlPoint.above.height},connectorTheme:{type:d.type,label:d.label,line:d.line}})},function(e){const t=(e,t)=>{'use strict';return('object'==typeof e[t]||'function'==typeof e[t])&&!Object.isFrozen(e[t])},n=function(e){'use strict';return Object.freeze(e),Object.getOwnPropertyNames(e).forEach((o)=>{e.hasOwnProperty(o)&&null!==e[o]&&t(e,o)&&n(e[o])}),e};e.exports=n},function(e,t,n){const o=n(0);e.exports=function(e,t,n){'use strict';const a={},i=!(n&&n.blockParentConnectorOverride),d=function(n,r,s){if(s){const d=t[n.id];if(!d)return;r!==e.id&&(a[n.id]={type:'connector',from:r,to:n.id},i&&d.attr&&d.attr.parentConnector&&(a[n.id].attr=o.clone(d.attr.parentConnector)))}n.ideas&&Object.keys(n.ideas).forEach(function(e){d(n.ideas[e],n.id,!0)})};return d(e),a}},function(e,t,n){const o=n(0);e.exports=function(e,t){'use strict';const n={};return o.each(e.links,function(e){t[e.ideaIdFrom]&&t[e.ideaIdTo]&&(n[e.ideaIdFrom+'_'+e.ideaIdTo]={type:'link',ideaIdFrom:e.ideaIdFrom,ideaIdTo:e.ideaIdTo,attr:o.clone(e.attr)})}),n}},function(e,t,n){var o=Math.pow;const a=n(0),i=n(46);e.exports=function(){'use strict';const e=this,t=function(e,t){a.each(e.rootLayout,function(n){n.x+=t.x,n.y+=t.y,n.rootId=e.rootIdea.id})},n=function(e){const t=e&&e.attr&&e.attr.position||[0,0,0];return{x:t[0],y:t[1],priority:t[2]}},d=function(e,t){const n={rootIdea:t,rootNode:e[t.id],rootLayout:e};return n},r=function(e){return n(e).priority},s=function(e){const t=n(e.rootIdea);return t&&t.priority&&e.rootNode?{x:t.x+e.rootNode.width/2,y:t.y+e.rootNode.height/2}:{x:0,y:0}},l=[],p=[];e.appendRootNodeLayout=function(e,t){const n=d(e,t);r(t)?l.push(n):p.push(n)},e.getCombinedLayout=function(e){let d=[],r={};const c=l.length&&a.max(l,function(e){return n(e.rootIdea).priority}),h={x:0,y:0},u=a.sortBy(l,function(e){const t=s(e);return o(t.x-h.x,2)+o(t.y-h.y,2)}),g=[],m=l.length+p.length,f=1<m,y=function(n){let o,r,l;const p=s(n),c=i.roundVector([p.x,p.y]);l=f&&i.translatePoly(i.tolayoutPolygonHull(n.rootLayout,e),c),!n||a.contains(g,n)||(g.length?function(){let e=i.unitVector([p.x-h.x,p.y-h.y]);0===e[0]&&0===e[1]&&(e=[1,0]),r=i.translatePolyToNotOverlap(l,d,c,e,c),o={x:r.translation[0],y:r.translation[1]},l=r.translatedPoly}():o=p,t(n,o),g.push(n),f&&(d=d.concat(l)))};if(!e)throw'invalid-args';return c&&y(c),u.forEach(y),p.forEach(y),g.forEach(function(e){r=a.extend(r,e.rootLayout)}),r}}},function(e,t,n){var o=Math.pow,a=Math.round,i=Math.min,d=Math.max;const r=n(0),s=n(47),l=n(55),p=function(e,t){'use strict';return e[0]*t[0]+e[1]*t[1]},c=function(e){'use strict';return{regions:e,inverted:!1}},h=function(e,t){'use strict';return e&&t&&2===e.length&&2===t.length&&e[0]===t[0]&&e[1]===t[1]},u=function(e,t){'use strict';return e&&t&&e.length===t.length&&r.filter(e,function(e){return r.filter(t,function(t){return h(e,t)}).length}).length===e.length},g=function(e,t){'use strict';return!(e.length>t.length)&&function(){return r.filter(e,function(e){return r.filter(t,function(t){return u(e,t)}).length})}().length===e.length},m=function(e,t){'use strict';const n=c(t),o=r.find(e,function(e){const o=c([e]),a=s.intersect(n,o);return g(t,a.regions)});return o&&o.length&&o},f=function(e,t){'use strict';const n=c(e),o=c(t),a=s.intersect(n,o),i=g(e,a.regions),d=i&&!g(a.regions,t),l=d&&m(t,a.regions);return l?l:r.flatten(a.regions,!0)},y=function(e,t,n){'use strict';const o=[e[0]-t[0],e[1]-t[1]],a=p(n,o),i=p(n,n),d=[t[0]+a*n[0]/i,t[1]+a*n[1]/i];if(!n[0]&&!n[1])throw'invalid-args';return d},x=function(e,t,n,a){'use strict';const i=function(e){const a=e[0]-t[0],i=e[1]-t[1],d=function(){return 0==a?0===n[1]?1:i/n[1]:0===n[0]?1:a/n[0]}(),r=0<=d?1:-1,s=r*(o(a,2)+o(i,2));return s},d=r.filter(e,function(e){return a?0>i(e):0<=i(e)});return r.sortBy(d,i)},v=function(e,t){'use strict';const n=[];return r.each(e,function(e){const o=a(e.x-t),i=a(e.x+e.width+t),d=a(e.y-t),r=a(e.y+e.height+t);n.push([o,d]),n.push([o,r]),n.push([i,r]),n.push([i,d])}),n},b=function(e){'use strict';return[a(e[0]),a(e[1])]},w=function(e,t){'use strict';const n=e[0]+t[0],o=e[1]+t[1];if(isNaN(n)||isNaN(o))throw'invalid-args';return[n,o]},k=function(e,t){'use strict';const n=e[0]-t[0],o=e[1]-t[1];if(isNaN(n)||isNaN(o))throw'invalid-args';return[n,o]},T=function(e,t){'use strict';return e.map(function(e){return e.map(function(e){return b(w(e,t))})})},C=function(e,t,n){'use strict';const o=r.flatten(e,!0),a=o.map(function(e){return y(e,t,n)}),i=x(a,t,n,!0);return i.length&&i[0]},E=function(e,t,n,o){'use strict';const a=f(e,t),i=a.map(function(e){return y(e,n,o)}),d=x(i,n,o);return d.length&&d.pop()},S=function(e,t,n){'use strict';const o=C(e,t,n),a=o&&b(k(t,o));return!!o&&{translation:a,translatedPoly:T(e,a)}},I=function(e,t,n,o,a,i){'use strict';const d=C(e,n,o)||n,r=E(e,t,d,o);let s;return i=i||0,a=a||[0,0],r&&(s=S(e,r,o),s&&(a=w(a,s.translation),n=w(n,s.translation),100>i))?I(s.translatedPoly,t,n,o,a,i+1):{translation:a,translatedPoly:e}};e.exports={tolayoutPolygonRect:function(e,t){'use strict';let n=0,o=0,a=0,s=0;return r.each(e,function(e){n=i(n,e.x),o=d(o,e.x+e.width),a=i(a,e.y),s=d(s,e.y+e.width)}),n-=t,o+=t,a-=t,s+=t,[[b([n,a]),b([o,a]),b([o,s]),b([n,s])]]},tolayoutPolygonHull:function(e,t){'use strict';const n=v(e,t),o=l(n),a=r.map(o,function(e){return n[e]});return[a]},furthestIntersectionPoint:E,projectPointOnLineVector:y,orderPointsOnVector:x,firstProjectedPolyPointOnVector:C,translatePoly:T,addVectors:w,subtractVectors:k,translatePolyToIntersecton:S,translatePolyToNotOverlap:I,unitVector:function(e){'use strict';const t=Math.sqrt(o(e[0],2)+o(e[1],2));return 0===t?[0,0]:[e[0]/t,e[1]/t]},roundVector:b,polygonIntersectionPoints:f,shapeContainingIntersection:m}},function(e,t,n){function o(e,t,n){var o=h.segments(e),a=h.segments(t),i=h.combine(o,a),d=n(i);return h.polygon(d)}/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var a=n(48),i=n(49),d=n(50),r=n(52),s=n(53),l=n(54),p=!1,c=i(),h;h={buildLog:function(e){return!0===e?p=a():!1===e&&(p=!1),!1!==p&&p.list},epsilon:function(e){return c.epsilon(e)},segments:function(e){var t=d(!0,c,p);return e.regions.forEach(t.addRegion),{segments:t.calculate(e.inverted),inverted:e.inverted}},combine:function(e,t){var n=d(!1,c,p);return{combined:n.calculate(e.segments,e.inverted,t.segments,t.inverted),inverted1:e.inverted,inverted2:t.inverted}},selectUnion:function(e){return{segments:s.union(e.combined,p),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:s.intersect(e.combined,p),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:s.difference(e.combined,p),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:s.differenceRev(e.combined,p),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:s.xor(e.combined,p),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:r(e.segments,c,p),inverted:e.inverted}},polygonFromGeoJSON:function(e){return l.toPolygon(h,e)},polygonToGeoJSON:function(e){return l.fromPolygon(h,c,e)},union:function(e,t){return o(e,t,h.selectUnion)},intersect:function(e,t){return o(e,t,h.selectIntersect)},difference:function(e,t){return o(e,t,h.selectDifference)},differenceRev:function(e,t){return o(e,t,h.selectDifferenceRev)},xor:function(e,t){return o(e,t,h.selectXor)}},'object'==typeof window&&(window.PolyBool=h),e.exports=h},function(e){e.exports=function(){function e(e,t){return o.list.push({type:e,data:t?JSON.parse(JSON.stringify(t)):void 0}),o}var t=0,n=!1,o;return o={list:[],segmentId:function(){return t++},checkIntersection:function(t,n){return e('check',{seg1:t,seg2:n})},segmentChop:function(t,n){return e('div_seg',{seg:t,pt:n}),e('chop',{seg:t,pt:n})},statusRemove:function(t){return e('pop_seg',{seg:t})},segmentUpdate:function(t){return e('seg_update',{seg:t})},segmentNew:function(t,n){return e('new_seg',{seg:t,primary:n})},segmentRemove:function(t){return e('rem_seg',{seg:t})},tempStatus:function(t,n,o){return e('temp_status',{seg:t,above:n,below:o})},rewind:function(t){return e('rewind',{seg:t})},status:function(t,n,o){return e('status',{seg:t,above:n,below:o})},vert:function(t){return t===n?o:(n=t,e('vert',{x:t}))},log:function(t){return'string'!=typeof t&&(t=JSON.stringify(t,!1,'  ')),e('log',{txt:t})},reset:function(){return e('reset')},selected:function(t){return e('selected',{segs:t})},chainStart:function(t){return e('chain_start',{seg:t})},chainRemoveHead:function(t,n){return e('chain_rem_head',{index:t,pt:n})},chainRemoveTail:function(t,n){return e('chain_rem_tail',{index:t,pt:n})},chainNew:function(t,n){return e('chain_new',{pt1:t,pt2:n})},chainMatch:function(t){return e('chain_match',{index:t})},chainClose:function(t){return e('chain_close',{index:t})},chainAddHead:function(t,n){return e('chain_add_head',{index:t,pt:n})},chainAddTail:function(t,n){return e('chain_add_tail',{index:t,pt:n})},chainConnect:function(t,n){return e('chain_con',{index1:t,index2:n})},chainReverse:function(t){return e('chain_rev',{index:t})},chainJoin:function(t,n){return e('chain_join',{index1:t,index2:n})},done:function(){return e('done')}},o}},function(e){var t=Math.abs;e.exports=function(e){'number'!=typeof e&&(e=1e-10);var n={epsilon:function(t){return'number'==typeof t&&(e=t),e},pointAboveOrOnLine:function(t,n,o){var a=n[0],i=n[1],d=o[0],r=o[1],s=t[0],l=t[1];return(d-a)*(l-i)-(r-i)*(s-a)>=-e},pointBetween:function(t,n,o){var a=t[1]-n[1],i=o[0]-n[0],d=t[0]-n[0],r=o[1]-n[1],s=d*i+a*r;if(s<e)return!1;return!(s-(i*i+r*r)>-e)},pointsSameX:function(n,o){return t(n[0]-o[0])<e},pointsSameY:function(n,o){return t(n[1]-o[1])<e},pointsSame:function(e,t){return n.pointsSameX(e,t)&&n.pointsSameY(e,t)},pointsCompare:function(e,t){return n.pointsSameX(e,t)?n.pointsSameY(e,t)?0:e[1]<t[1]?-1:1:e[0]<t[0]?-1:1},pointsCollinear:function(n,o,a){var i=n[0]-o[0],d=n[1]-o[1],r=o[0]-a[0],s=o[1]-a[1];return t(i*s-r*d)<e},linesIntersect:function(n,o,a,i){var d=o[0]-n[0],r=o[1]-n[1],s=i[0]-a[0],l=i[1]-a[1],p=d*l-r*s;if(t(p)<e)return!1;var c=n[0]-a[0],h=n[1]-a[1],u=(s*h-l*c)/p,g=(d*h-r*c)/p,m={alongA:0,alongB:0,pt:[n[0]+u*d,n[1]+u*r]};return m.alongA=u<=-e?-2:u<e?-1:u-1<=-e?0:u-1<e?1:2,m.alongB=g<=-e?-2:g<e?-1:g-1<=-e?0:g-1<e?1:2,m},pointInsideRegion:function(t,n){for(var o=t[0],a=t[1],d=n[n.length-1][0],r=n[n.length-1][1],s=!1,l=0;l<n.length;l++){var i=n[l][0],p=n[l][1];p-a>e!=r-a>e&&(d-i)*(a-p)/(r-p)+i-o>e&&(s=!s),d=i,r=p}return s}};return n}},function(e,t,n){var o=n(51);e.exports=function(e,t,n){function a(e,t){return{id:n?n.segmentId():-1,start:e,end:t,myFill:{above:null,below:null},otherFill:null}}function i(e,t,o){return{id:n?n.segmentId():-1,start:e,end:t,myFill:{above:o.myFill.above,below:o.myFill.below},otherFill:null}}function d(e,n,o,a,i,d){var r=t.pointsCompare(n,i);return 0===r?t.pointsSame(o,d)?0:e===a?t.pointAboveOrOnLine(o,a?i:d,a?d:i)?1:-1:e?1:-1:r}function r(e,t){g.insertBefore(e,function(n){var o=d(e.isStart,e.pt,t,n.isStart,n.pt,n.other.pt);return 0>o})}function s(e,t){var n=o.node({isStart:!0,pt:e.start,seg:e,primary:t,other:null,status:null});return r(n,e.end),n}function l(e,t,n){var a=o.node({isStart:!1,pt:t.end,seg:t,primary:n,other:e,status:null});e.other=a,r(a,e.pt)}function p(e,t){var n=s(e,t);return l(n,e,t),n}function c(e,t){n&&n.segmentChop(e.seg,t),e.other.remove(),e.seg.end=t,e.other.pt=t,r(e.other,e.pt)}function h(e,t){var n=i(t,e.seg.end,e.seg);return c(e,t),p(n,e.primary)}function u(a,i){function d(e,n){var o=e.seg.start,a=e.seg.end,i=n.seg.start,d=n.seg.end;return t.pointsCollinear(o,i,d)?t.pointsCollinear(a,i,d)?1:t.pointAboveOrOnLine(a,i,d)?1:-1:t.pointAboveOrOnLine(o,i,d)?1:-1}function r(e){return p.findTransition(function(t){var n=d(e,t.ev);return 0<n})}function l(e,o){var a=e.seg,d=o.seg,r=a.start,s=a.end,l=d.start,p=d.end;n&&n.checkIntersection(a,d);var c=t.linesIntersect(r,s,l,p);if(!1===c){if(!t.pointsCollinear(r,s,l))return!1;if(t.pointsSame(r,p)||t.pointsSame(s,l))return!1;var i=t.pointsSame(r,l),u=t.pointsSame(s,p);if(i&&u)return o;var g=!i&&t.pointBetween(r,l,p),m=!u&&t.pointBetween(s,l,p);if(i)return m?h(o,s):h(e,p),o;g&&(u||(m?h(o,s):h(e,p)),h(o,r))}else 0===c.alongA&&(-1===c.alongB?h(e,l):0===c.alongB?h(e,c.pt):1===c.alongB&&h(e,p)),0===c.alongB&&(-1===c.alongA?h(o,r):0===c.alongA?h(o,c.pt):1===c.alongA&&h(o,s));return!1}for(var p=o.create(),c=[],u;!g.isEmpty();){if(u=g.getHead(),n&&n.vert(u.pt[0]),u.isStart){n&&n.segmentNew(u.seg,u.primary);var m=r(u),f=m.before?m.before.ev:null,y=m.after?m.after.ev:null;n&&n.tempStatus(u.seg,!!f&&f.seg,!!y&&y.seg);var x=function(){if(f){var e=l(u,f);if(e)return e}return!!y&&l(u,y)}();if(x){if(e){var v;v=null===u.seg.myFill.below||u.seg.myFill.above!==u.seg.myFill.below,v&&(x.seg.myFill.above=!x.seg.myFill.above)}else x.seg.otherFill=u.seg.myFill;n&&n.segmentUpdate(x.seg),u.other.remove(),u.remove()}if(g.getHead()!==u){n&&n.rewind(u.seg);continue}if(e){var v;v=null===u.seg.myFill.below||u.seg.myFill.above!==u.seg.myFill.below,u.seg.myFill.below=y?y.seg.myFill.above:a,u.seg.myFill.above=v?!u.seg.myFill.below:u.seg.myFill.below}else if(null===u.seg.otherFill){var b;b=y?u.primary===y.primary?y.seg.otherFill.above:y.seg.myFill.above:u.primary?i:a,u.seg.otherFill={above:b,below:b}}n&&n.status(u.seg,!!f&&f.seg,!!y&&y.seg),u.other.status=m.insert(o.node({ev:u}))}else{var w=u.status;if(null===w)throw new Error('PolyBool: Zero-length segment detected; your epsilon is probably too small or too large');if(p.exists(w.prev)&&p.exists(w.next)&&l(w.prev.ev,w.next.ev),n&&n.statusRemove(w.ev.seg),w.remove(),!u.primary){var k=u.seg.myFill;u.seg.myFill=u.seg.otherFill,u.seg.otherFill=k}c.push(u.seg)}g.getHead().remove()}return n&&n.done(),c}var g=o.create();return e?{addRegion:function(e){for(var n=e[e.length-1],o=0,i;o<e.length;o++){i=n,n=e[o];var d=t.pointsCompare(i,n);0===d||p(a(0>d?i:n,0>d?n:i),!0)}},calculate:function(e){return u(e,!1)}}:{calculate:function(e,t,n,o){return e.forEach(function(e){p(i(e.start,e.end,e),!0)}),n.forEach(function(e){p(i(e.start,e.end,e),!1)}),u(t,o)}}}},function(e){e.exports={create:function(){var e={root:{root:!0,next:null},exists:function(t){return null===t||t===e.root?!1:!0},isEmpty:function(){return null===e.root.next},getHead:function(){return e.root.next},insertBefore:function(t,n){for(var o=e.root,a=e.root.next;null!==a;){if(n(a))return t.prev=a.prev,t.next=a,a.prev.next=t,void(a.prev=t);o=a,a=a.next}o.next=t,t.prev=o,t.next=null},findTransition:function(t){for(var n=e.root,o=e.root.next;null!==o&&!t(o);)n=o,o=o.next;return{before:n===e.root?null:n,after:o,insert:function(e){return e.prev=n,e.next=o,n.next=e,null!==o&&(o.prev=e),e}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}}},function(e){e.exports=function(e,t,n){var o=[],a=[];return e.forEach(function(e){function d(e,t,n){return(u.index=e,u.matches_head=t,u.matches_pt1=n,u===c)?(u=h,!1):(u=null,!0)}function r(e){n&&n.chainReverse(e),o[e].reverse()}function s(e,a){var i=o[e],d=o[a],r=i[i.length-1],s=i[i.length-2],l=d[0],p=d[1];t.pointsCollinear(s,r,l)&&(n&&n.chainRemoveTail(e,r),i.pop(),r=s),t.pointsCollinear(r,l,p)&&(n&&n.chainRemoveHead(a,l),d.shift()),n&&n.chainJoin(e,a),o[e]=i.concat(d),o.splice(a,1)}var l=e.start,p=e.end;if(t.pointsSame(l,p))return void console.warn('PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large');n&&n.chainStart(e);for(var c={index:0,matches_head:!1,matches_pt1:!1},h={index:0,matches_head:!1,matches_pt1:!1},u=c,g=0;g<o.length;g++){var i=o[g],m=i[0],f=i[1],y=i[i.length-1],x=i[i.length-2];if(t.pointsSame(m,l)){if(d(g,!0,!0))break;}else if(t.pointsSame(m,p)){if(d(g,!0,!1))break;}else if(t.pointsSame(y,l)){if(d(g,!1,!0))break;}else if(t.pointsSame(y,p)&&d(g,!1,!1))break}if(u===c)return o.push([l,p]),void(n&&n.chainNew(l,p));if(u===h){n&&n.chainMatch(c.index);var v=c.index,b=c.matches_pt1?p:l,w=c.matches_head,i=o[v],k=w?i[0]:i[i.length-1],T=w?i[1]:i[i.length-2],C=w?i[i.length-1]:i[0],E=w?i[i.length-2]:i[1];return(t.pointsCollinear(T,k,b)&&(w?(n&&n.chainRemoveHead(c.index,b),i.shift()):(n&&n.chainRemoveTail(c.index,b),i.pop()),k=T),t.pointsSame(C,b))?(o.splice(v,1),t.pointsCollinear(E,C,k)&&(w?(n&&n.chainRemoveTail(c.index,k),i.pop()):(n&&n.chainRemoveHead(c.index,k),i.shift())),n&&n.chainClose(c.index),void a.push(i)):void(w?(n&&n.chainAddHead(c.index,b),i.unshift(b)):(n&&n.chainAddTail(c.index,b),i.push(b)))}var I=c.index,N=h.index;n&&n.chainConnect(I,N);var S=o[I].length<o[N].length;c.matches_head?h.matches_head?S?(r(I),s(I,N)):(r(N),s(N,I)):s(N,I):h.matches_head?s(I,N):S?(r(I),s(N,I)):(r(N),s(I,N))}),a}},function(e){function t(e,t,n){var o=[];return e.forEach(function(e){var a=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);0!==t[a]&&o.push({id:n?n.segmentId():-1,start:e.start,end:e.end,myFill:{above:1===t[a],below:2===t[a]},otherFill:null})}),n&&n.selected(o),o}e.exports={union:function(e,n){return t(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],n)},intersect:function(e,n){return t(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],n)},difference:function(e,n){return t(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],n)},differenceRev:function(e,n){return t(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],n)},xor:function(e,n){return t(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],n)}}},function(e){e.exports={toPolygon:function(e,t){function n(t){function n(t){var n=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[n]})}if(0>=t.length)return e.segments({inverted:!1,regions:[]});for(var o=n(t[0]),a=1;a<t.length;a++)o=e.selectDifference(e.combine(o,n(t[a])));return o}if('Polygon'===t.type)return e.polygon(n(t.coordinates));if('MultiPolygon'===t.type){for(var o=e.segments({inverted:!1,regions:[]}),a=0;a<t.coordinates.length;a++)o=e.selectUnion(e.combine(o,n(t.coordinates[a])));return e.polygon(o)}throw new Error('PolyBool: Cannot convert GeoJSON object to PolyBool polygon')},fromPolygon:function(e,t,n){function o(e,n){return t.pointInsideRegion([0.5*(e[0][0]+e[1][0]),0.5*(e[0][1]+e[1][1])],n)}function a(e){return{region:e,children:[]}}function d(e,t){for(var n=0,i;n<e.children.length;n++)if(i=e.children[n],o(t,i.region))return void d(i,t);for(var r=a(t),n=0,i;n<e.children.length;n++)i=e.children[n],o(i.region,t)&&(r.children.push(i),e.children.splice(n,1),n--);e.children.push(r)}function r(e,t){for(var n=0,o=e[e.length-1][0],a=e[e.length-1][1],d=[],r=0;r<e.length;r++){var i=e[r][0],s=e[r][1];d.push([i,s]),n+=s*o-i*a,o=i,a=s}var l=0>n;return l!==t&&d.reverse(),d.push([d[0][0],d[0][1]]),d}function s(e){var t=[r(e.region,!1)];h.push(t);for(var n=0;n<e.children.length;n++)t.push(l(e.children[n]))}function l(e){for(var t=0;t<e.children.length;t++)s(e.children[t]);return r(e.region,!0)}n=e.polygon(e.segments(n));for(var p=a(null),c=0,i;c<n.regions.length;c++)i=n.regions[c],3>i.length||d(p,i);for(var h=[],c=0;c<p.children.length;c++)s(p.children[c]);return 0>=h.length?{type:'Polygon',coordinates:[]}:1==h.length?{type:'Polygon',coordinates:h[0]}:{type:'MultiPolygon',coordinates:h}}}},function(e,t,n){'use strict';e.exports=function(e){var t=e.length;if(3>t){for(var n=Array(t),a=0;a<t;++a)n[a]=a;return 2===t&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]?[0]:n}for(var i=Array(t),a=0;a<t;++a)i[a]=a;i.sort(function(t,n){var o=e[t][0]-e[n][0];return o?o:e[t][1]-e[n][1]});for(var d=[i[0],i[1]],r=[i[0],i[1]],a=2;a<t;++a){for(var s=i[a],l=e[s],p=d.length;1<p&&0>=o(e[d[p-2]],e[d[p-1]],l);)p-=1,d.pop();for(d.push(s),p=r.length;1<p&&0<=o(e[r[p-2]],e[r[p-1]],l);)p-=1,r.pop();r.push(s)}for(var n=Array(r.length+d.length-2),c=0,a=0,h=d.length;a<h;++a)n[c++]=d[a];for(var u=r.length-2;0<u;--u)n[c++]=r[u];return n};var o=n(56)[3]},function(e,t,n){'use strict';function o(e,t){for(var n=Array(e.length-1),o=1,a;o<e.length;++o){a=n[o-1]=Array(e.length-1);for(var i=0,d=0;i<e.length;++i)i!==t&&(a[d++]=e[o][i])}return n}function a(e){for(var t=Array(e),n=0;n<e;++n){t[n]=Array(e);for(var o=0;o<e;++o)t[n][o]=['m',o,'[',e-n-1,']'].join('')}return t}function d(e){return 1&e?'-':''}function r(e){if(1===e.length)return e[0];if(2===e.length)return['sum(',e[0],',',e[1],')'].join('');var t=e.length>>1;return['sum(',r(e.slice(0,t)),',',r(e.slice(t)),')'].join('')}function s(e){if(2===e.length)return[['sum(prod(',e[0][0],',',e[1][1],'),prod(-',e[0][1],',',e[1][0],'))'].join('')];for(var t=[],n=0;n<e.length;++n)t.push(['scale(',r(s(o(e,n))),',',d(n),e[0][n],')'].join(''));return t}function i(e){for(var t=[],n=[],d=a(e),l=[],p=0;p<e;++p)0==(1&p)?t.push.apply(t,s(o(d,p))):n.push.apply(n,s(o(d,p))),l.push('m'+p);var i=r(t),m=r(n),f='orientation'+e+'Exact',y=['function ',f,'(',l.join(),'){var p=',i,',n=',m,',d=sub(p,n);return d[d.length-1];};return ',f].join(''),x=new Function('sum','prod','scale','sub',y);return x(h,c,u,g)}function l(e){var t=v[e.length];return t||(t=v[e.length]=i(e.length)),t.apply(void 0,e)}var p=Math.abs,c=n(15),h=n(57),u=n(58),g=n(60),m=5,f=1.1102230246251565e-16,y=i(3),x=i(4),v=[function(){return 0},function(){return 0},function(e,t){return t[0]-e[0]},function(e,t,n){var o=(e[1]-n[1])*(t[0]-n[0]),a=(e[0]-n[0])*(t[1]-n[1]),i=o-a,d;if(0<o){if(0>=a)return i;d=o+a}else if(0>o){if(0<=a)return i;d=-(o+a)}else return i;var r=(3+16*f)*f*d;return i>=r||i<=-r?i:y(e,t,n)},function(e,t,n,o){var a=e[0]-o[0],i=t[0]-o[0],d=n[0]-o[0],r=e[1]-o[1],s=t[1]-o[1],l=n[1]-o[1],c=e[2]-o[2],h=t[2]-o[2],u=n[2]-o[2],g=i*l,m=d*s,y=d*r,v=a*l,b=a*s,w=i*r,k=c*(g-m)+h*(y-v)+u*(b-w),T=(p(g)+p(m))*p(c)+(p(y)+p(v))*p(h)+(p(b)+p(w))*p(u),C=(7+56*f)*f*T;return k>C||-k>C?k:x(e,t,n,o)}];(function(){for(;v.length<=m;)v.push(i(v.length));for(var t=[],n=['slow'],o=0;o<=m;++o)t.push('a'+o),n.push('o'+o);for(var a=['function getOrientation(',t.join(),'){switch(arguments.length){case 0:case 1:return 0;'],o=2;o<=m;++o)a.push('case ',o,':return o',o,'(',t.slice(0,o).join(),');');a.push('}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation'),n.push(a.join(''));var d=Function.apply(void 0,n);e.exports=d.apply(void 0,[l].concat(v));for(var o=0;o<=m;++o)e.exports[o]=v[o]})()},function(e){'use strict';function t(e,t){var n=e+t,o=n-e,a=e-(n-o)+(t-o);return a?[a,n]:[n]}e.exports=function(n,e){var o=0|n.length,i=0|e.length;if(1==o&&1==i)return t(n[0],e[0]);var d=Array(o+i),r=0,s=0,l=0,p=Math.abs,c=n[s],h=p(c),u=e[l],g=p(u),m,a;h<g?(a=c,s+=1,s<o&&(c=n[s],h=p(c))):(a=u,l+=1,l<i&&(u=e[l],g=p(u))),s<o&&h<g||l>=i?(m=c,s+=1,s<o&&(c=n[s],h=p(c))):(m=u,l+=1,l<i&&(u=e[l],g=p(u)));for(var f=m+a,x=f-m,v=a-x,y=v,b=f,w,k,T,C,E;s<o&&l<i;)h<g?(m=c,s+=1,s<o&&(c=n[s],h=p(c))):(m=u,l+=1,l<i&&(u=e[l],g=p(u))),a=y,f=m+a,x=f-m,v=a-x,v&&(d[r++]=v),w=b+f,k=w-b,T=w-k,C=f-k,E=b-T,y=E+C,b=w;for(;s<o;)m=c,a=y,f=m+a,x=f-m,v=a-x,v&&(d[r++]=v),w=b+f,k=w-b,T=w-k,C=f-k,E=b-T,y=E+C,b=w,s+=1,s<o&&(c=n[s]);for(;l<i;)m=u,a=y,f=m+a,x=f-m,v=a-x,v&&(d[r++]=v),w=b+f,k=w-b,T=w-k,C=f-k,E=b-T,y=E+C,b=w,l+=1,l<i&&(u=e[l]);return y&&(d[r++]=y),b&&(d[r++]=b),r||(d[r++]=0),d.length=r,d}},function(e,t,n){'use strict';var o=n(15),d=n(59);e.exports=function(r,e){var s=r.length;if(1===s){var n=o(r[0],e);return n[0]?n:[n[1]]}var l=Array(2*s),p=[0.1,0.1],c=[0.1,0.1],t=0;o(r[0],e,p),p[0]&&(l[t++]=p[0]);for(var h=1;h<s;++h){o(r[h],e,c);var i=p[1];d(i,c[0],p),p[0]&&(l[t++]=p[0]);var u=c[1],a=p[1],g=u+a,m=a-(g-u);p[1]=g,m&&(l[t++]=m)}return p[1]&&(l[t++]=p[1]),0==t&&(l[t++]=0),l.length=t,l}},function(e){'use strict';e.exports=function(e,t,n){var o=e+t,a=o-e,i=t-a,d=e-(o-a);return n?(n[0]=d+i,n[1]=o,n):[d+i,o]}},function(e){'use strict';function t(e,t){var n=e+t,o=n-e,a=e-(n-o)+(t-o);return a?[a,n]:[n]}e.exports=function(n,e){var o=0|n.length,i=0|e.length;if(1==o&&1==i)return t(n[0],-e[0]);var d=Array(o+i),r=0,s=0,l=0,p=Math.abs,c=n[s],h=p(c),u=-e[l],g=p(u),m,a;h<g?(a=c,s+=1,s<o&&(c=n[s],h=p(c))):(a=u,l+=1,l<i&&(u=-e[l],g=p(u))),s<o&&h<g||l>=i?(m=c,s+=1,s<o&&(c=n[s],h=p(c))):(m=u,l+=1,l<i&&(u=-e[l],g=p(u)));for(var f=m+a,x=f-m,v=a-x,y=v,b=f,w,k,T,C,E;s<o&&l<i;)h<g?(m=c,s+=1,s<o&&(c=n[s],h=p(c))):(m=u,l+=1,l<i&&(u=-e[l],g=p(u))),a=y,f=m+a,x=f-m,v=a-x,v&&(d[r++]=v),w=b+f,k=w-b,T=w-k,C=f-k,E=b-T,y=E+C,b=w;for(;s<o;)m=c,a=y,f=m+a,x=f-m,v=a-x,v&&(d[r++]=v),w=b+f,k=w-b,T=w-k,C=f-k,E=b-T,y=E+C,b=w,s+=1,s<o&&(c=n[s]);for(;l<i;)m=u,a=y,f=m+a,x=f-m,v=a-x,v&&(d[r++]=v),w=b+f,k=w-b,T=w-k,C=f-k,E=b-T,y=E+C,b=w,l+=1,l<i&&(u=-e[l]);return y&&(d[r++]=y),b&&(d[r++]=b),r||(d[r++]=0),d.length=r,d}},function(e,t,n){const o=n(62),a=n(0),i='theme_inherit',d=(e,t,n)=>{'use strict';let a=[];return e.attr?n.forEach((n)=>{const d=o.getValue(e.attr,n);d&&d!==i?o.setValue(t.attr,n,d):a.push(n)}):a=n,a},r=(e,t,n)=>{'use strict';if(t&&t.parentId){const o=e[t.parentId],a=o&&d(o,t,n)||[];a.length&&o&&o.parentId&&(r(e,o,a),d(o,t,a))}},s=(e,t)=>{'use strict';if(t&&t.parentId&&t.attr){const n=o.keyComponentsWithValue(t.attr,i);n&&n.length&&r(e,t,n)}};e.exports={INHERIT_MARKER:i,inheritAttributes:s,inheritAttributeKeys:r,inheritAttributeKeysFromParentNode:d,setThemeAttributes:function(e,t){'use strict';if(!e||!t)throw'invalid-args';Object.keys(e).forEach(function(n){const o=e[n];o.styles=t.nodeStyles(o.level,o.attr),o.attr=a.extend({},t.getLayoutConnectorAttributes(o.styles),o.attr)}),Object.keys(e).forEach(function(t){const n=e[t];s(e,n)})}}},function(e){const t=(e,n)=>{'use strict';if(!e||!n||!n.length||'object'!=typeof e||!Array.isArray(n))return!1;const o=e[n[0]],a=n.slice(1);return a.length?t(o,a):o},n=(e,t,o)=>{'use strict';if(!e||!t||!t.length||'object'!=typeof e||!Array.isArray(t))return!1;const a=t.slice(1),i=t[0];if(a.length){if(!e[i]){if(!o)return;e[i]={}}return void n(e[i],a,o)}o?e[i]=o:delete e[i]},o=(e,t)=>{'use strict';if('object'==typeof t||Array.isArray(t))throw'search-type-not-supported';const n=[];return e&&'object'==typeof e?(Object.keys(e).forEach((a)=>{const i=e[a];i===t&&n.push([a]),'object'==typeof i&&o(i,t).forEach((e)=>{if(e&&e.length){const t=[a].concat(e);n.push(t)}})}),n):[]};e.exports={getValue:t,setValue:n,keyComponentsWithValue:o}},function(e,t,n){const o=n(0),a=n(64);e.exports=function(e,t,n){'use strict';const i=a.calculateTree(e,t,n,function(t,n){return n!==e.id||0<t}),d=a.calculateTree(e,t,n,function(t,n){return n!==e.id||0>t}),r=i.toLayout(),s=d.toLayout();return o.each(s.nodes,function(e){e.x=-1*e.x-e.width}),o.extend(s.nodes,r.nodes)}},function(e,t,n){var o=Math.round;const a=n(0),i=n(16),d=n(65),r=function(e){'use strict';a.extend(this,e),this.toLayout=function(e,t,n){const i={nodes:{},connectors:{}},d=a.pick(this,'id','title','attr','width','textWidth','height','level');return n&&(d.parentId=n),e=e||0,t=t||0,1===d.level?(d.x=o(-0.5*this.width),d.y=o(-0.5*this.height)):(d.x=e+this.deltaX||0,d.y=t+this.deltaY||0),i.nodes[this.id]=d,void 0!==n&&(i.connectors[d.id]={from:n,to:d.id}),this.subtrees&&this.subtrees.forEach(function(e){const t=e.toLayout(d.x,d.y,d.id);a.extend(i.nodes,t.nodes),a.extend(i.connectors,t.connectors)}),i}},s=function(e,t,n,l,p){'use strict';const c={id:e.id,title:e.title,attr:e.attr,deltaY:0,deltaX:0,level:p||1},h=function(e,t,n){let o,a;const d=function(t){const o=n[t].deltaY-n[t-1].deltaY,i=e[t].deltaY-e[t-1].deltaY;i<o&&(a.deltaY+=o-i)};for(let r=0;r<e.length;r+=1)a=e[r],a.attr&&a.attr.position?(a.deltaY=a.attr.position[1],(void 0==o||a.attr.position[2]>e[o].attr.position[2])&&(o=r)):a.deltaY+=t,0<r&&d(r);return o},u=function(e,t){const n=a.map(e,function(e){return a.pick(e,'deltaX','deltaY')}),o=h(e,t,n),d=o&&e[o].attr.position[1]-e[o].deltaY;if(d)for(let t=0;t<e.length;t+=1)e[t].deltaY+=d},g=function(){const t=a.map(a.keys(e.ideas),parseFloat),n=l?a.filter(t,function(t){return l(t,e.id)}):t,o=a.filter(n,function(t){return!i(e.ideas[t])});return a.sortBy(o,Math.abs)},m=t(e,c.level);return a.extend(c,m),c.outline=d.outlineFromDimensions(m),function(){return!(a.isEmpty(e.ideas)||e.attr&&e.attr.collapsed)}()&&(c.subtrees=a.map(function(){const t=[];return a.each(g(),function(n){t.push(e.ideas[n])}),t}(),function(e){return s(e,t,n,l,c.level+1)}),!a.isEmpty(c.subtrees)&&function(e){let t,i,d,r,s;a.each(e,function(e){e.deltaX=m.width+n.h,d=e.attr&&e.attr.position&&e.attr.position[0],d&&d>e.deltaX?(r=d-e.deltaX,e.deltaX=d):r=0,t?(s=e.outline.indent(r,n.h),i=s.initialHeight(),t=s.stackBelow(t,n.v),e.deltaY=o(t.initialHeight()-i/2-e.height/2)):t=e.outline.indent(r,n.h)}),e&&e.length&&(u(e,o(0.5*(m.height-t.initialHeight()))),t=t.expand(o(e[0].deltaY-0.5*m.height),o(e[e.length-1].deltaY+e[e.length-1].height-0.5*m.height))),c.outline=t.insertAtStart(m,n.h)}(c.subtrees)),new r(c)};e.exports={Tree:r,calculateTree:s}},function(e,t,n){var o=Math.round;const a=n(0),d=function(e){'use strict';return a.reduce(e,function(e,t){return e+t.l},0)},r=function(e,t){'use strict';let n=0,o=-1;for(;n<=t;){if(o+=1,o>=e.length)return-1;n+=e[o].l}return o},i=function(e,t){'use strict';let n=e.slice(),o;const a=d(e),s=r(t,a);return 0<=s&&(o=d(t.slice(0,s+1)),n.push({h:t[s].h,l:o-a}),n=n.concat(t.slice(s+1))),n},s=function(e,t){'use strict';const n=function(e,t){return a.map(e,function(e){return{l:e.l,h:e.h+t}})};this.initialHeight=function(){return this.bottom[0].h-this.top[0].h},this.borders=function(){return a.pick(this,'top','bottom')},this.spacingAbove=function(e){let t=0,n=0,o=0,a=0,i=0;for(;t<this.bottom.length&&n<e.top.length;)o=Math.max(o,this.bottom[t].h-e.top[n].h),a+this.bottom[t].l<i+e.top[n].l?(a+=this.bottom[t].l,t+=1):a+this.bottom[t].l===i+e.top[n].l?(a+=this.bottom[t].l,t+=1,i+=e.top[n].l,n+=1):(i+=e.top[n].l,n+=1);return o},this.indent=function(e,t){const n=this.top.slice(),a=this.bottom.slice(),i=o((a[0].h+n[0].h)/2);return e?(n.unshift({h:o(i-t/2),l:e}),a.unshift({h:o(i+t/2),l:e}),new s(n,a)):this},this.stackBelow=function(e,t){const o=e.spacingAbove(this),a=i(e.top,n(this.top,o+t)),d=i(n(this.bottom,o+t),e.bottom);return new s(a,d)},this.expand=function(e,t){const o=e-this.top[0].h,a=t-this.bottom[0].h,i=n(this.top,o),d=n(this.bottom,a);return new s(i,d)},this.insertAtStart=function(e,t){const a=0,i=n(this.top,a),d=n(this.bottom,a),r=function(e){e[0].l*=0.5,e[1].l+=e[0].l};return i[0].l+=t,d[0].l+=t,i.unshift({h:o(-0.5*e.height),l:e.width}),d.unshift({h:o(0.5*e.height),l:e.width}),i[0].h>i[1].h&&r(i),d[0].h<d[1].h&&r(d),new s(i,d)},this.top=e.slice(),this.bottom=t.slice()};e.exports={borderLength:d,borderSegmentIndexAt:r,extendBorder:i,Outline:s,outlineFromDimensions:function(e){'use strict';return new s([{h:o(-0.5*e.height),l:e.width}],[{h:o(0.5*e.height),l:e.width}])}}},function(e,t,n){const o=n(0),a=n(16),i=n(67),d=n(70);e.exports=function(e,t,n){'use strict';const r=function(e){return e.attr&&e.attr.group},s=function(e,n,a){const i=t(e,n),d=o.extend({level:n,verticalOffset:0,title:r(e)?'':e.title},i,o.pick(e,['id','attr']));return a&&(d.parentId=a),d},l=function(e,t,n,a){const i={},d=!(o.isEmpty(e.ideas)||e.attr&&e.attr.collapsed);return n=n||1,d&&Object.keys(e.ideas).forEach(function(o){const a=r(e)?n:n+1,d=l(e.ideas[o],t,a,e.id);d&&(i[o]=d)}),t(e,i,n,a)},p=function(e,t,a,l){const p=s(e,a,l);let c;return r(p)&&!o.isEmpty(e.ideas)?(c=d(p,t,n.h,!0),i(c,e,n.h)):c=d(p,t,n.h),c},c=l(e,function(t,n,o,i){return(t===e||!a(t))&&p(t,n,o,i)});return function(e,t){o.each(e,function(e){e.y=t[e.level-1]+e.verticalOffset,delete e.verticalOffset})}(c.nodes,function(e){const t=[],a=[];let i=0,d;for(o.each(e,function(e){t[e.level-1]=Math.max(t[e.level-1]||0,e.height+e.verticalOffset)}),i=t.reduce(function(e,t){return e+t},0)+n.v*(t.length-1),a[0]=Math.round(-0.5*i),d=1;d<t.length;d++)a[d]=a[d-1]+n.v+t[d-1];return a}(c.nodes)),c.nodes}},function(e,t,n){const o=n(0),a=n(68),i=n(69);e.exports=function(e,t,n){'use strict';if(!n)throw'invalid-args';const d=e.nodes,r=d[t.id],s=o.values(t.ideas).map(function(e){return e.id}),l=s.map(function(e){return d[e]}).filter(function(e){return e}),p=i(l),c=function(){const e=p[p.length-1];return{left:p[0].x,right:e.x+e.width}},h=o.values(d).filter(function(e){return e.level===r.level&&e.id!==r.id});(function(){if(!l.length)return;const e=c(),t=e.left+(e.right-e.left)/2,o=a(l,n);let i=t-o/2;p.forEach((e)=>{e.x=i,i=i+e.width+n})})(),function(){if(l.length){const e=c();r.x=e.left,r.width=e.right-e.left}}(),h.forEach(function(e){e.verticalOffset=(e.verticalOffset||0)+r.height})}},function(e){e.exports=function(e,t){'use strict';if(!e||!e.length)return 0;const n=e.reduce((e,t)=>e+t.width,0),o=(e.length-1)*t;return n+o}},function(e){e.exports=function(e){'use strict';return e&&e.length?[].concat(e).sort((e,t)=>e.x-t.x):e}},function(e,t,n){const o=n(0),a=n(71);e.exports=function(e,t,n,i){'use strict';const d={nodes:{}},r=function(e,t){return o.each(e,function(e){e.x+=t}),e},s=new a(t,n);let l;if(Array.isArray(t))throw'child layouts are an array!';return d.nodes[e.id]=e,e.x=Math.round(-0.5*e.width),d.levels=[{width:e.width,xOffset:e.x}],s.isEmpty()||(i?(d.levels=s.getMergedLevels(),l=d.levels[0].xOffset):(d.levels=d.levels.concat(s.getMergedLevels()),l=d.levels[1].xOffset),Object.keys(t).forEach(function(e){o.extend(d.nodes,r(t[e].nodes,l+s.getExpectedTranslation(e)))})),d}},function(e,t,n){const o=n(0);e.exports=function(e,t){'use strict';const n=this,a=function(){return e?o.sortBy(Object.keys(e),parseFloat):[]},i=t||0,d=function(){const t=a(),n={};let d;return function(){return o.isEmpty(e)?[]:a().map(function(t){return e[t]})}().forEach(function(e,o){const a=t[o];void 0==d?(n[a]=0-e.levels[0].xOffset,d=e.levels.map(function(e){return e.width+n[a]+e.xOffset})):(e.levels.forEach(function(e,t){const o=d[t];void 0!==o&&(void 0===n[a]?n[a]=o+i-e.xOffset:n[a]=Math.max(n[a],o+i-e.xOffset))}),e.levels.forEach(function(e,t){d[t]=n[a]+e.xOffset+e.width}))}),n}();n.getLevelWidth=function(t){const o=a().filter(function(e){return n.existsOnLevel(e,t)}),i=o[0],d=o[o.length-1],r=e[i],s=e[d],l=r.levels[t].xOffset+n.getExpectedTranslation(i),p=s.levels[t].xOffset+n.getExpectedTranslation(d);return p+s.levels[t].width-l},n.getLevelWidths=function(){const t=[],a=o.max(o.map(e,function(e){return e.levels.length}));for(let e=0;e<a;e++)t.push(n.getLevelWidth(e));return t},n.isEmpty=function(){return o.isEmpty(e)},n.getExpectedTranslation=function(e){return d[e]},n.existsOnLevel=function(t,n){return e[t].levels.length>n},n.getMergedLevels=function(){const t=Math.round(-0.5*n.getLevelWidth(0));return n.getLevelWidths().map(function(o,i){const d=a().filter(function(e){return n.existsOnLevel(e,i)}),r=d[0],s=e[r];return{width:o,xOffset:s.levels[i].xOffset+n.getExpectedTranslation(r)+t}})}}},function(e,t,n){var o=Math.round;const a=n(1),i=n(18);a.fn.createNode=function(e){'use strict';return a('<div>').attr({id:i(e.id),tabindex:0,"data-mapjs-role":'node'}).css({display:'block',position:'absolute',top:o(e.y||0)+'px',left:o(e.x||0)+'px'}).addClass('mapjs-node').appendTo(this)}},function(e,t,n){var o=Math.abs,a,i;(function(d){'use strict';function r(){l.READY||(C.determineEventTypes(),T.each(l.gestures,function(e){S.register(e)}),C.onTouch(l.DOCUMENT,v,S.detect),C.onTouch(l.DOCUMENT,b,S.detect),l.READY=!0)}function s(e,t){Date.now||(Date.now=function(){return new Date().getTime()}),e.utils.each(['on','off'],function(n){e.utils[n]=function(e,o,a){t(e)[n](o,function(e){var n=t.extend({},e.originalEvent,e);n.button===void 0&&(n.button=e.which-1),a.call(this,n)})}}),e.Instance.prototype.trigger=function(e,n){var o=t(this.element);return o.has(n.target).length&&(o=t(n.target)),o.trigger({type:e,gesture:n})},t.fn.hammer=function(n){return this.each(function(){var o=t(this),a=o.data('hammer');a?a&&n&&e.utils.extend(a.options,n):o.data('hammer',new e(this,n||{}))})}}var l=function e(t,n){return new e.Instance(t,n||{})};l.VERSION='1.1.3',l.defaults={behavior:{userSelect:'none',touchAction:'pan-y',touchCallout:'none',contentZooming:'none',userDrag:'none',tapHighlightColor:'rgba(0,0,0,0)'}},l.DOCUMENT=document,l.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,l.HAS_TOUCHEVENTS='ontouchstart'in d,l.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),l.NO_MOUSEEVENTS=l.HAS_TOUCHEVENTS&&l.IS_MOBILE||l.HAS_POINTEREVENTS,l.CALCULATE_INTERVAL=25;var p={},c=l.DIRECTION_DOWN='down',h=l.DIRECTION_LEFT='left',u=l.DIRECTION_UP='up',g=l.DIRECTION_RIGHT='right',m=l.POINTER_MOUSE='mouse',f=l.POINTER_TOUCH='touch',y=l.POINTER_PEN='pen',x=l.EVENT_START='start',v=l.EVENT_MOVE='move',b=l.EVENT_END='end',w=l.EVENT_RELEASE='release',k=l.EVENT_TOUCH='touch';l.READY=!1,l.plugins=l.plugins||{},l.gestures=l.gestures||{};var T=l.utils={extend:function(e,t,n){for(var o in t)t.hasOwnProperty(o)&&(void 0===e[o]||!n)&&(e[o]=t[o]);return e},on:function(e,t,n){e.addEventListener(t,n,!1)},off:function(e,t,n){e.removeEventListener(t,n,!1)},each:function(e,t,n){var o,a;if('forEach'in e)e.forEach(t,n);else if(e.length!==void 0){for(o=0,a=e.length;o<a;o++)if(!1===t.call(n,e[o],o,e))return;}else for(o in e)if(e.hasOwnProperty(o)&&!1===t.call(n,e[o],o,e))return},inStr:function(e,t){return-1<e.indexOf(t)},inArray:function(e,t){if(e.indexOf){var n=e.indexOf(t);return-1!==n&&n}for(var o=0,a=e.length;o<a;o++)if(e[o]===t)return o;return!1},toArray:function(e){return Array.prototype.slice.call(e,0)},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){var t=[],n=[],o=[],a=[],i=Math.min,d=Math.max;return 1===e.length?{pageX:e[0].pageX,pageY:e[0].pageY,clientX:e[0].clientX,clientY:e[0].clientY}:(T.each(e,function(e){t.push(e.pageX),n.push(e.pageY),o.push(e.clientX),a.push(e.clientY)}),{pageX:(i.apply(Math,t)+d.apply(Math,t))/2,pageY:(i.apply(Math,n)+d.apply(Math,n))/2,clientX:(i.apply(Math,o)+d.apply(Math,o))/2,clientY:(i.apply(Math,a)+d.apply(Math,a))/2})},getVelocity:function(e,t,n){return{x:o(t/e)||0,y:o(n/e)||0}},getAngle:function(e,t){var n=t.clientX-e.clientX,o=t.clientY-e.clientY;return 180*Math.atan2(o,n)/Math.PI},getDirection:function(e,t){var n=o(e.clientX-t.clientX),a=o(e.clientY-t.clientY);return n>=a?0<e.clientX-t.clientX?h:g:0<e.clientY-t.clientY?u:c},getDistance:function(e,t){var n=t.clientX-e.clientX,o=t.clientY-e.clientY;return Math.sqrt(n*n+o*o)},getScale:function(e,t){return 2<=e.length&&2<=t.length?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return 2<=e.length&&2<=t.length?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==u||e==c},setPrefixedCss:function(e,t,n,o){var a=['','Webkit','Moz','O','ms'];t=T.toCamelCase(t);for(var d=0,i;d<a.length;d++)if(i=t,a[d]&&(i=a[d]+i.slice(0,1).toUpperCase()+i.slice(1)),i in e.style){e.style[i]=(null==o||o)&&n||'';break}},toggleBehavior:function(e,t,n){if(t&&e&&e.style){T.each(t,function(t,o){T.setPrefixedCss(e,o,t,n)});var o=n&&function(){return!1};'none'==t.userSelect&&(e.onselectstart=o),'none'==t.userDrag&&(e.ondragstart=o)}},toCamelCase:function(e){return e.replace(/[_-]([a-z])/g,function(e){return e[1].toUpperCase()})}};l.Instance=function(e,t){var n=this;r(),this.element=e,this.enabled=!0,T.each(t,function(e,n){delete t[n],t[T.toCamelCase(n)]=e}),this.options=T.extend(T.extend({},l.defaults),t||{}),this.options.behavior&&T.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=C.onTouch(e,x,function(e){n.enabled&&e.eventType==x?S.startDetect(n,e):e.eventType==k&&S.detect(e)}),this.eventHandlers=[]},l.Instance.prototype={on:function(e,t){var n=this;return C.on(n.element,e,t,function(e){n.eventHandlers.push({gesture:e,handler:t})}),n},off:function(e,t){var n=this;return C.off(n.element,e,t,function(e){var o=T.inArray({gesture:e,handler:t});!1!==o&&n.eventHandlers.splice(o,1)}),n},trigger:function(e,t){t||(t={});var n=l.DOCUMENT.createEvent('Event');n.initEvent(e,!0,!0),n.gesture=t;var o=this.element;return T.hasParent(t.target,o)&&(o=t.target),o.dispatchEvent(n),this},enable:function(e){return this.enabled=e,this},dispose:function(){var e,t;for(T.toggleBehavior(this.element,this.options.behavior,!1),e=-1;t=this.eventHandlers[++e];)T.off(this.element,t.gesture,t.handler);return this.eventHandlers=[],C.off(this.element,p[x],this.eventStartHandler),null}};var C=l.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(e,t,n,o){var a=t.split(' ');T.each(a,function(t){T.on(e,t,n),o&&o(t)})},off:function(e,t,n,o){var a=t.split(' ');T.each(a,function(t){T.off(e,t,n),o&&o(t)})},onTouch:function(e,t,n){var o=this,a=function(a){var i=a.type.toLowerCase(),d=l.HAS_POINTEREVENTS,r=T.inStr(i,'mouse'),s;r&&o.preventMouseEvents||(r&&t==x&&0===a.button?(o.preventMouseEvents=!1,o.shouldDetect=!0):d&&t==x?o.shouldDetect=1===a.buttons||E.matchType(f,a):r||t!=x||(o.preventMouseEvents=!0,o.shouldDetect=!0),d&&t!=b&&E.updatePointer(t,a),o.shouldDetect&&(s=o.doDetect.call(o,a,t,e,n)),s==b&&(o.preventMouseEvents=!1,o.shouldDetect=!1,E.reset()),d&&t==b&&E.updatePointer(t,a))};return this.on(e,p[t],a),a},doDetect:function(e,t,n,o){var a=this.getTouchList(e,t),i=a.length,d=t,r=a.trigger,s=i;t==x?r=k:t==b&&(r=w,s=a.length-(e.changedTouches?e.changedTouches.length:1)),0<s&&this.started&&(d=v),this.started=!0;var l=this.collectEventData(n,d,a,e);return t!=b&&o.call(S,l),r&&(l.changedLength=s,l.eventType=r,o.call(S,l),l.eventType=d,delete l.changedLength),d==b&&(o.call(S,l),this.started=!1),d},determineEventTypes:function(){var e;return e=l.HAS_POINTEREVENTS?d.PointerEvent?['pointerdown','pointermove','pointerup pointercancel lostpointercapture']:['MSPointerDown','MSPointerMove','MSPointerUp MSPointerCancel MSLostPointerCapture']:l.NO_MOUSEEVENTS?['touchstart','touchmove','touchend touchcancel']:['touchstart mousedown','touchmove mousemove','touchend touchcancel mouseup'],p[x]=e[0],p[v]=e[1],p[b]=e[2],p},getTouchList:function(e,t){if(l.HAS_POINTEREVENTS)return E.getTouchList();if(e.touches){if(t==v)return e.touches;var n=[],o=[].concat(T.toArray(e.touches),T.toArray(e.changedTouches)),a=[];return T.each(o,function(e){!1===T.inArray(n,e.identifier)&&a.push(e),n.push(e.identifier)}),a}return e.identifier=1,[e]},collectEventData:function(e,t,n,o){var a=f;return T.inStr(o.type,'mouse')||E.matchType(m,o)?a=m:E.matchType(y,o)&&(a=y),{center:T.getCenter(n),timeStamp:Date.now(),target:o.target,touches:n,eventType:t,pointerType:a,srcEvent:o,preventDefault:function(){var e=this.srcEvent;e.preventManipulation&&e.preventManipulation(),e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return S.stopDetect()}}}},E=l.PointerEvent={pointers:{},getTouchList:function(){var e=[];return T.each(this.pointers,function(t){e.push(t)}),e},updatePointer:function(e,t){e==b||e!=b&&1!==t.buttons?delete this.pointers[t.pointerId]:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t)},matchType:function(e,t){if(!t.pointerType)return!1;var n=t.pointerType,o={};return o[m]=n===(t.MSPOINTER_TYPE_MOUSE||m),o[f]=n===(t.MSPOINTER_TYPE_TOUCH||f),o[y]=n===(t.MSPOINTER_TYPE_PEN||y),o[e]},reset:function(){this.pointers={}}},S=l.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:T.extend({},t),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:''},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);var t=this.current.inst,n=t.options;return T.each(this.gestures,function(o){!this.stopped&&t.enabled&&n[o.name]&&o.handler.call(o,e,t)},this),this.current&&(this.current.lastEvent=e),e.eventType==b&&this.stopDetect(),e}},stopDetect:function(){this.previous=T.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(e,t,n,o,a){var i=this.current,d=!1,r=i.lastCalcEvent,s=i.lastCalcData;r&&e.timeStamp-r.timeStamp>l.CALCULATE_INTERVAL&&(t=r.center,n=e.timeStamp-r.timeStamp,o=e.center.clientX-r.center.clientX,a=e.center.clientY-r.center.clientY,d=!0),(e.eventType==k||e.eventType==w)&&(i.futureCalcEvent=e),(!i.lastCalcEvent||d)&&(s.velocity=T.getVelocity(n,o,a),s.angle=T.getAngle(t,e.center),s.direction=T.getDirection(t,e.center),i.lastCalcEvent=i.futureCalcEvent||e,i.futureCalcEvent=e),e.velocityX=s.velocity.x,e.velocityY=s.velocity.y,e.interimAngle=s.angle,e.interimDirection=s.direction},extendEventData:function(e){var t=this.current,n=t.startEvent,o=t.lastEvent||n;(e.eventType==k||e.eventType==w)&&(n.touches=[],T.each(e.touches,function(e){n.touches.push({clientX:e.clientX,clientY:e.clientY})}));var a=e.timeStamp-n.timeStamp,i=e.center.clientX-n.center.clientX,d=e.center.clientY-n.center.clientY;return this.getCalculatedData(e,o.center,a,i,d),T.extend(e,{startEvent:n,deltaTime:a,deltaX:i,deltaY:d,distance:T.getDistance(n.center,e.center),angle:T.getAngle(n.center,e.center),direction:T.getDirection(n.center,e.center),scale:T.getScale(n.touches,e.touches),rotation:T.getRotation(n.touches,e.touches)}),e},register:function(e){var t=e.defaults||{};return void 0===t[e.name]&&(t[e.name]=!0),T.extend(l.defaults,t,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}};(function(e){var t=!1;l.gestures.Drag={name:e,index:50,handler:function(n,a){var i=S.current;if(!(0<a.options.dragMaxTouches&&n.touches.length>a.options.dragMaxTouches))switch(n.eventType){case x:t=!1;break;case v:if(n.distance<a.options.dragMinDistance&&i.name!=e)return;var d=i.startEvent.center;if(i.name!=e&&(i.name=e,a.options.dragDistanceCorrection&&0<n.distance)){var r=o(a.options.dragMinDistance/n.distance);d.pageX+=n.deltaX*r,d.pageY+=n.deltaY*r,d.clientX+=n.deltaX*r,d.clientY+=n.deltaY*r,n=S.extendEventData(n)}(i.lastEvent.dragLockToAxis||a.options.dragLockToAxis&&a.options.dragLockMinDistance<=n.distance)&&(n.dragLockToAxis=!0);var s=i.lastEvent.direction;n.dragLockToAxis&&s!==n.direction&&(T.isVertical(s)?n.direction=0>n.deltaY?u:c:n.direction=0>n.deltaX?h:g),t||(a.trigger(e+'start',n),t=!0),a.trigger(e,n),a.trigger(e+n.direction,n);var l=T.isVertical(n.direction);(a.options.dragBlockVertical&&l||a.options.dragBlockHorizontal&&!l)&&n.preventDefault();break;case w:t&&n.changedLength<=a.options.dragMaxTouches&&(a.trigger(e+'end',n),t=!1);break;case b:t=!1;}},defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}})('drag'),l.gestures.Gesture={name:'gesture',index:1337,handler:function(e,t){t.trigger(this.name,e)}},function(e){var t;l.gestures.Hold={name:e,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:function(n,o){var a=o.options,i=S.current;switch(n.eventType){case x:clearTimeout(t),i.name=e,t=setTimeout(function(){i&&i.name==e&&o.trigger(e,n)},a.holdTimeout);break;case v:n.distance>a.holdThreshold&&clearTimeout(t);break;case w:clearTimeout(t);}}}}('hold'),l.gestures.Release={name:'release',index:Infinity,handler:function(e,t){e.eventType==w&&t.trigger(this.name,e)}},l.gestures.Swipe={name:'swipe',index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:0.6,swipeVelocityY:0.6},handler:function(e,t){if(e.eventType==w){var n=e.touches.length,o=t.options;if(n<o.swipeMinTouches||n>o.swipeMaxTouches)return;(e.velocityX>o.swipeVelocityX||e.velocityY>o.swipeVelocityY)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},function(e){var t=!1;l.gestures.Tap={name:e,index:100,handler:function(n,o){var a=o.options,i=S.current,d=S.previous,r,s;switch(n.eventType){case x:t=!1;break;case v:t=t||n.distance>a.tapMaxDistance;break;case b:T.inStr(n.srcEvent.type,'cancel')||!(n.deltaTime<a.tapMaxTime)||t||(r=d&&d.lastEvent&&n.timeStamp-d.lastEvent.timeStamp,s=!1,d&&d.name==e&&r&&r<a.doubleTapInterval&&n.distance<a.doubleTapDistance&&(o.trigger('doubletap',n),s=!0),(!s||a.tapAlways)&&(i.name=e,o.trigger(i.name,n)));}},defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}}('tap'),l.gestures.Touch={name:'touch',index:-Infinity,defaults:{preventDefault:!1,preventMouse:!1},handler:function(e,t){return t.options.preventMouse&&e.pointerType==m?void e.stopDetect():void(t.options.preventDefault&&e.preventDefault(),e.eventType==k&&t.trigger('touch',e))}},function(e){var t=!1;l.gestures.Transform={name:e,index:45,defaults:{transformMinScale:0.01,transformMinRotation:1},handler:function(n,a){switch(n.eventType){case x:t=!1;break;case v:if(2>n.touches.length)return;var i=o(1-n.scale),d=o(n.rotation);if(i<a.options.transformMinScale&&d<a.options.transformMinRotation)return;S.current.name=e,t||(a.trigger(e+'start',n),t=!0),a.trigger(e,n),d>a.options.transformMinRotation&&a.trigger('rotate',n),i>a.options.transformMinScale&&(a.trigger('pinch',n),a.trigger('pinch'+(1>n.scale?'in':'out'),n));break;case w:t&&2>n.changedLength&&(a.trigger(e+'end',n),t=!1);}}}}('transform'),d.Hammer=l,'undefined'!=typeof e&&e.exports&&(e.exports=l),(a=[n(1)],i=function(e){return s(d.Hammer,e)}.apply(t,a),!(i!==void 0&&(e.exports=i)))})(window),e.exports=Hammer},function(e,t,n){const o=n(1);n(8),o.fn.nodeResizeWidget=function(e,t,n){'use strict';return this.each(function(){let a,i,d;const r=o(this),s=r.find('span[data-mapjs-role=title]'),l=s[0],p=function(e){e&&e.stopPropagation(),e&&e.gesture&&e.gesture.stopPropagation()},c=function(e){const t=n(e),o=t&&a&&t.x-a.x,d=o&&Math.max(50,i+o);return d},h=o('<div>').addClass('resize-node').shadowDraggable().on('mm:start-dragging mm:start-dragging-shadow',function(o){return t.isEditingEnabled()?void(t.selectNode(e),a=n(o),i=s.innerWidth(),d={"node.min-width":r.css('min-width'),"span.min-width":s.css('min-width'),"span.max-width":s.css('max-width')}):p(o)}).on('mm:stop-dragging mm:cancel-dragging',function(e){if(!t.isEditingEnabled())return p(e);const n=s.outerWidth();s.css({"max-width":d['span.max-width'],"min-width":d['span.min-width']}),r.css('min-width',d['node.min-width']),e&&e.stopPropagation(),e&&e.gesture&&e.gesture.stopPropagation(),r.trigger(o.Event('mm:resize',{nodeWidth:n}))}).on('mm:drag',function(e){if(!t.isEditingEnabled())return p(e);let n=c(e);n&&(s.css({"max-width":n,"min-width":n}),r.css('min-width',s.outerWidth()),l.scrollWidth>l.offsetWidth&&(n=l.scrollWidth,s.css({"max-width":n,"min-width":n}),r.css('min-width',s.outerWidth()))),p(e)});h.appendTo(r)})}},function(e,t,n){const o=n(1),a=n(0),i=n(2),d=n(76),r=n(4),s=n(80),l=n(19),p=n(20),c=n(21);n(5),n(9),o.fn.updateConnector=function(e){'use strict';const t=e&&e.connectorBuilder||d,n=e&&e.canUseData,h=e&&e.theme;return o.each(this,function(){let e=!1,d=!1,u,g,m,f;const y=o(this),x=y.data('nodeFrom'),v=y.data('nodeTo'),b=y.data('attr'),w=!(h&&h.blockParentConnectorOverride),k=function(e,t){const n=e.data().innerRect;n&&(t.left+=n.dx,t.top+=n.dy,t.width=n.width,t.height=n.height)};if(!x||!v||0===x.length||0===v.length)return void y.hide();n?(m=x.getDataBox(),f=v.getDataBox()):(m=x.getBox(),f=v.getBox()),k(x,m),k(v,f),m.styles=x.data('styles'),f.styles=v.data('styles'),d={from:m,to:f,theme:h&&h.name,attr:b};a.isEqual(d,y.data('changeCheck'))||(y.data('changeCheck',d),e=a.extend(t(m,f,h),b),y.data('theme',e.theme),u=y.find('path.mapjs-connector'),g=y.find('path.mapjs-link-hit'),y.css(a.extend(l(e.position),{stroke:e.color})),0===u.length&&(u=i('path').attr('class','mapjs-connector').appendTo(y)),u.attr({d:e.d,"stroke-width":e.width,"stroke-dasharray":s[e.lineStyle||'solid'],fill:'transparent'}),w?(0===g.length&&(g=i('path').attr('class','mapjs-link-hit').appendTo(y)),g.attr({d:e.d,"stroke-width":e.width+12})):0<g.length&&g.remove(),function(){const t=e.theme&&e.theme.label||r.connector.default.label,n=c(e,f,u[0],t);y.data('label-center-point',n),p(y,n,b&&b.label||'',t)}())})}},function(e,t,n){var o=Math.min,a=Math.max;const i=n(0),d=n(3),r=n(77),s=n(78),l=n(79),p=function(e,t,n){'use strict';return t.nodeUnderline&&(e.d+='M'+(t.nodeUnderline.from.x-n.left)+','+(t.nodeUnderline.from.y-n.top)+' H'+(t.nodeUnderline.to.x-n.left)),e},c=function(e,t){'use strict';const n=e.initialRadius||0,o=t.nodeOverline&&Math.floor(0.5*Math.abs(t.nodeOverline.to.x-t.nodeOverline.from.x))-1;return t.nodeOverline&&(e.d+='m'+-1*o+','+n+'q0,'+-1*n+' '+n+','+-1*n+' h'+2*(o-n)+'q'+n+',0 '+n+','+n),e},h=function(e,t,n){'use strict';return c(p(e,t,n),t)},u={center:function(e){'use strict';return Math.round(e.top+0.5*e.height)},base:function(e){'use strict';return e.top+e.height+1},"base-inset":function(e,t){'use strict';return e.top+e.height+1-t},top:function(e){'use strict';return e.top}},g=function(e,t,n){'use strict';const o=r(e,t,10),a=e.styles,d=t.styles,s=n.attributeValue(['node'],a,['connections','default'],{h:'center',v:'center'}),p=n.attributeValue(['node'],d,['connections','default'],{h:'nearest-inset',v:'center'}),c=i.extend({},s,n.attributeValue(['node'],a,['connections','from',o],{})),h=i.extend({},p,n.attributeValue(['node'],d,['connections','to'],{})),g=n.connectorTheme(o,d,a),m=n.attributeValue(['node'],a,['cornerRadius'],10),f=n.attributeValue(['node'],d,['cornerRadius'],10),y=n.attributeValue(['node'],d,['border','type'],'');let x=!1,v=!1;return('underline'===y||'under-overline'===y)&&(x={from:{x:t.left,y:t.top+t.height+1},to:{x:t.left+t.width,y:t.top+t.height+1}}),('overline'===y||'under-overline'===y)&&(v={from:{x:t.left,y:t.top},to:{x:t.left+t.width,y:t.top}}),{from:{x:l[c.h](e,t,m),y:u[c.v](e,m)},to:{x:l[h.h](t,e,f),y:u[h.v](t,f)},connectorTheme:g,nodeUnderline:x,nodeOverline:v}};e.exports=function(e,t,n){'use strict';const i=o(e.left,t.left),r=o(e.top,t.top),l={left:i,top:r,width:a(e.left+e.width,t.left+t.width,i+1)-i,height:a(e.top+e.height,t.top+t.height,r+1)-r+2},p=n||new d({}),c=g(e,t,p),u=h(s[c.connectorTheme.type](c,l,e,t),c,l);return u.color=c.connectorTheme.line.color,u.width=c.connectorTheme.line.width,u.theme=c.connectorTheme,u}},function(e){e.exports=function(e,t,n){'use strict';const o=t.top+0.5*t.height;return o<e.top-n?'above':o>e.top+e.height+n?'below':'horizontal'}},function(e){var t=Math.sign,n=Math.abs,o=Math.round,a=Math.min;const i=function(e,t){'use strict';return{d:'M'+o(e.from.x-t.left)+','+o(e.from.y-t.top)+'L'+o(e.to.x-t.left)+','+o(e.to.y-t.top),position:t}};e.exports={quadratic:function(e,t,n,d){'use strict';const r=1.2*a(d.height,n.height),s=e.connectorTheme.controlPoint.height*(e.from.y-e.to.y),l=Math.max(-r,a(r,s));return o(e.from.y)===o(e.to.y-l)?i(e,t):{d:'M'+o(e.from.x-t.left)+','+o(e.from.y-t.top)+'Q'+o(e.from.x-t.left)+','+o(e.to.y-l-t.top)+' '+o(e.to.x-t.left)+','+o(e.to.y-t.top),position:t}},"s-curve":function(e,a){'use strict';const i=10,d=o(e.to.x-e.from.x),r=o(e.to.y-e.from.y),s=i<n(0.5*d)?i*t(d):o(0.5*d),l=i<n(0.5*r)?i*t(r):o(0.5*r);return{d:'M'+(e.from.x-a.left)+','+(e.from.y-a.top)+'q'+s+',0 '+s+','+l+'c0,'+(r-2*l)+' '+o(d/2-s)+','+(r-l)+' '+(d-s)+','+(r-l),position:a}},"top-down-s-curve":function(e,a){'use strict';const i=o(e.to.x-e.from.x),d=o(e.to.y-e.from.y),r=15,s=r*t(i),l=r*t(d),p=o(0.5*d)-l;return r>n(i/2)?function(){const t=p+o(0.5*l);return{d:'M'+(e.from.x-a.left)+','+(e.from.y-a.top)+'v'+t+'l'+i+','+(d-t),position:a,initialRadius:5}}():{d:'M'+(e.from.x-a.left)+','+(e.from.y-a.top)+'v'+p+'q0,'+l+' '+s+','+l+'h'+(i-2*s)+'q'+s+',0 '+s+','+l+'v'+p,position:a,initialRadius:5}},"compact-s-curve":function(e,a){'use strict';const i=10,d=o(e.to.x-e.from.x),r=o(e.to.y-e.from.y),s=i*t(d),l=i*t(r);return i>n(0.5*d)||i>n(0.5*r)?function(){const t=o(d/2);return{d:'M'+(e.from.x-a.left)+','+(e.from.y-a.top)+'l'+t+',0 l'+(d-t)+','+r,position:a}}():{d:'M'+(e.from.x-a.left)+','+(e.from.y-a.top)+'q'+s+',0 '+s+','+l+'v'+(r-2*l)+'q0,'+l+' '+s+','+l+'h'+(d-2*s),position:a}},"vertical-quadratic-s-curve":function(e,t){'use strict';const a=o(e.to.x-e.from.x),i=o(e.to.y-e.from.y),d=a/2,r=i/2;return 20>n(a)?{d:'M'+(e.from.x-t.left)+','+(e.from.y-t.top)+'l'+a+','+i,initialRadius:10,position:t}:{d:'M'+(e.from.x-t.left)+','+(e.from.y-t.top)+'q0,'+o(r/2)+' '+d+','+r+'q'+d+','+o(r/2)+' '+d+','+r,initialRadius:10,position:t}},"vertical-s-curve":function(e,a){'use strict';const i=10,d=o(e.to.x-e.from.x),r=o(e.to.y-e.from.y),s=i*t(d),l=i*t(r);return i>n(0.5*d)||i>n(0.5*r)?{d:'M'+(e.from.x-a.left)+','+(e.from.y-a.top)+'l'+d+','+r,position:a}:{d:'M'+(e.from.x-a.left)+','+(e.from.y-a.top)+'q0,'+l+' '+s+','+l+'h'+(d-2*s)+'q'+s+',0 '+s+','+l+'v'+(r-2*l),position:a}},straight:i,"no-connector":function(e,t){'use strict';return{d:'M'+o(e.to.x-t.left)+','+o(e.to.y-t.top),position:t}}}},function(e){var t=Math.round;const n=function(e,t,n){'use strict';return e.left+e.width<t.left?e.left+e.width-n:e.left+n};e.exports={center:function(e){'use strict';return t(e.left+0.5*e.width)},"center-separated":function(e,n,o,a){'use strict';const i=e.height*(a||0.2),d=o||10,r=e.width/2,s=e.left+r,l=n.left+n.width/2,p=n.left+n.width,c=n.top-e.top+e.height-i,h=function(){return n.left>e.left+e.width?n.left-s:p<e.left?p-s:n.left<s?l-s:l-s}(),u=h/Math.abs(c)*i,g=Math.max(u,-1*r+d),m=Math.min(g,r-d);return t(e.left+0.5*e.width+m)},nearest:function(e,t){'use strict';return n(e,t,0)},"nearest-inset":n}},function(e){e.exports={dashed:'8, 8',solid:''}},function(e,t,n){const o=n(1),a=n(0),i=n(2),d=n(19),r=n(20),s=n(82),l=n(21),p=function(e,t){'use strict';const n=t.find('path.mapjs-arrow');e.arrows&&e.arrows.length?(e.arrows.forEach((o,a)=>{let d=n.eq(a);0===d.length&&(d=i('path').attr('class','mapjs-arrow').appendTo(t)),d.attr({d:o,fill:e.lineProps.color,"stroke-width":e.lineProps.width}).show()}),n.slice(e.arrows.length).hide()):n.hide()};n(5),n(9),o.fn.updateLink=function(e){'use strict';const t=e&&e.linkBuilder||s,n=e&&e.theme;return o.each(this,function(){const e=o(this),s=e.data('nodeFrom'),c=e.data('nodeTo'),h=e.data('attr')||{};let u=!1,g=e.find('path.mapjs-link'),m=e.find('path.mapjs-link-hit'),f=!1,y=!1,x=!1;if(!s||!c||0===s.length||0===c.length)return void e.hide();f=s.getBox(),y=c.getBox(),x={from:f,to:y,attrs:h,theme:n&&n.name};a.isEqual(x,e.data('changeCheck'))||(e.data('changeCheck',x),u=t(f,y,h,n),e.data('theme',u.theme),e.css(a.extend(d(u.position),{stroke:u.lineProps.color})),0===g.length&&(g=i('path').attr('class','mapjs-link').appendTo(e)),g.attr({d:u.d,"stroke-width":u.lineProps.width,"stroke-dasharray":u.lineProps.strokes,"stroke-linecap":u.lineProps.linecap,fill:'transparent'}),0===m.length&&(m=i('path').attr('class','mapjs-link-hit').appendTo(e)),m.attr({d:u.d,"stroke-width":u.lineProps.width+12}),p(u,e),function(t,n,o){const a=t.theme.label,i=l(t,n,o[0],a);e.data('label-center-point',i),r(e,i,h.label||'',a)}(u,y,g))})}},function(e,t,n){var o=Math.sqrt,a=Math.round,i=Math.cos,d=Math.min,r=Math.max;const s=n(3),l=function(e,t,d){'use strict';var r=Math.sin;const s=Math.tan(Math.PI/9),n=t.x-e.x,l=t.y-e.y;let p=14,c,h,u,g,f,y;return 0==n?(c=0>l?-1:1,h=t.x+p*r(s)*c,u=t.x-p*r(s)*c,g=t.y-p*i(s)*c,f=t.y-p*i(s)*c):(y=l/n,e.x<t.x&&(p=-p),h=t.x+(1-y*s)*p/o((1+y*y)*(1+s*s)),g=t.y+(y+s)*p/o((1+y*y)*(1+s*s)),u=t.x+(1+y*s)*p/o((1+y*y)*(1+s*s)),f=t.y+(y-s)*p/o((1+y*y)*(1+s*s))),'M'+a(h-d.left)+','+a(g-d.top)+'L'+a(t.x-d.left)+','+a(t.y-d.top)+'L'+a(u-d.left)+','+a(f-d.top)+'Z'},p=n(83);e.exports=function(e,t,n,o){'use strict';const i=function(e,t){const n=[{x:e.left+a(0.5*e.width),y:e.top},{x:e.left+e.width,y:e.top+a(0.5*e.height)},{x:e.left+a(0.5*e.width),y:e.top+e.height},{x:e.left,y:e.top+a(0.5*e.height)}],o=[{x:t.left+a(0.5*t.width),y:t.top},{x:t.left+t.width,y:t.top+a(0.5*t.height)},{x:t.left+a(0.5*t.width),y:t.top+t.height},{x:t.left,y:t.top+a(0.5*t.height)}];let d=Infinity,r,i,s,l,p,c,h;for(r=0;r<n.length;r+=1)for(i=0;i<o.length;i+=1)p=n[r].x-o[i].x,c=n[r].y-o[i].y,h=p*p+c*c,h<d&&(s=r,l=i,d=h);return{from:n[s],to:o[l]}}(e,t),c=o||new s({}),h=n||{},u=d(e.left,t.left),g=d(e.top,t.top),m={left:u,top:g,width:r(e.left+e.width,t.left+t.width,u)-u,height:r(e.top+e.height,t.top+t.height,g)-g},f=c.linkTheme(h.type),y=h.width||f.line.width,x=h.lineStyle||f.line.lineStyle,v={color:h.color||f.line.color,strokes:p.strokes(x,y),linecap:p.linecap(x,y),width:y};return{d:'M'+a(i.from.x-m.left)+','+a(i.from.y-m.top)+'L'+a(i.to.x-m.left)+','+a(i.to.y-m.top),position:m,arrows:h.arrow&&function(e){if(!e)return!1;const t=[];return'from'!==e&&t.push(l(i.from,i.to,m)),('from'===e||'both'===e)&&t.push(l(i.to,i.from,m)),t}(h.arrow),theme:f,lineProps:v}}},function(e){e.exports={strokes:(e,t)=>{'use strict';if(!e||'solid'===e)return'';const n=4*Math.max(t||1,1);return'dashed'===e?[n,n].join(', '):[1,n].join(', ')},linecap:(e)=>{'use strict';return e&&'solid'!==e?'dotted'===e?'round':'':'square'}}},function(e,t,n){const o=n(1),a=n(18);o.fn.nodeWithId=function(e){'use strict';return this.find('#'+a(e))}},function(e,t,n){var o=Math.round;const a=n(1),i=n(0),d=n(10),r=n(86),s=n(87),l=n(17),p=n(88);n(89),a.fn.updateNodeContent=function(e,t){'use strict';const n=t&&t.resourceTranslator,c=t&&t.level,h=t&&t.nodeTextPadding||11,u=t&&t.fixedLayout,g=t&&t.theme,m=a(this),f=function(){let e=m.find('[data-mapjs-role=title]');return 0===e.length&&(e=a('<span>').attr('data-mapjs-role','title').appendTo(m)),e},y=function(){let e=m.find('[data-mapjs-role=decorations]');return 0===e.length&&(e=a('<div data-mapjs-role="decorations" class="mapjs-decorations">').on('mousedown click',function(t){t.stopPropagation(),t.stopImmediatePropagation()}).appendTo(m)),e},x=function(t){const n=s(t,25),o=f(),a=o[0],i=e.attr&&e.attr.style&&e.attr.style.width;let d;o.text(n.trim()),m.data('title',t),o.css({"max-width":'',"min-width":''}),i&&o.css({"max-width":i,"min-width":i}),a.scrollWidth-h>a.offsetWidth?o.css('max-width',a.scrollWidth+'px'):!i&&(d=a.offsetHeight,o.css('min-width',e.textWidth||o.css('max-width')),a.offsetHeight===d&&o.css('min-width',''))},v=c||e.level,b=g&&g.attributeValue||function(e,t,n,o){return o},w=g&&g.nodeStyles||function(){return['default']},k=w(v,e.attr),T=b(['node'],k,['border','type'],'surround'),C=b(['node'],k,['decorations','edge'],''),E=b(['node'],k,['decorations','overlap'],''),S=e.attr&&e.attr.group,I={x:o(e.x),y:o(e.y),width:o(e.width),textWidth:o(e.textWidth),height:o(e.height),nodeId:e.id,styles:k,parentConnector:e&&e.attr&&e.attr.parentConnector};let N;return I.innerRect=i.pick(I,['width','height']),I.innerRect.dx=0,I.innerRect.dy=0,function(){const t=e.styles||g&&g.nodeStyles(c||1,e.attr)||[],n=g&&g.nodeTheme&&p(e,g.nodeTheme(t));n&&n.hasFontMultiplier?m.css({"font-size":n.font.size+'pt'}):m.css({"font-size":''})}(),S?(this.css({margin:'',width:e.width,height:e.height}),x('')):(x(e.title),function(e){const t=d.getLink(e);let n=m.find('a.mapjs-hyperlink');return t?void(0===n.length&&(n=a('<a target="_blank" class="mapjs-hyperlink icon-hyperlink"></a>').addClass().appendTo(y())),n.attr('href',t).show()):void n.hide()}(e.title),function(e){let t=m.find('.mapjs-label');return e||0===e?void(0===t.length&&(t=a('<span class="mapjs-label"></span>').appendTo(y())),t.text(e).show()):void t.hide()}(e.label),function(){const t=e.attr&&e.attr.note;let n=m.find('a.mapjs-note');return t?void(0===n.length&&(n=a('<a href="#" class="mapjs-note icon-note"></a>').appendTo(y()).click(function(){m.trigger('decoration-click','note')})),n.show()):void n.hide()}(),function(){const t=e.attr&&e.attr.attachment;let n=m.find('a.mapjs-attachment');return t?void(0===n.length&&(n=a('<a href="#" class="mapjs-attachment icon-attachment"></a>').appendTo(y()).click(function(){m.trigger('attachment-click'),m.trigger('decoration-click','attachment')}).trigger(a.Event('attachment-link-created',{nodeId:e.id}))),n.show()):void n.hide()}(),this.css({margin:'',width:'',height:''}),'left'===C?(I.innerRect.dx=y().outerWidth(),I.innerRect.width=I.width-y().outerWidth(),m.css('margin-left',y().outerWidth())):'right'===C?(I.innerRect.width=I.width-y().outerWidth(),m.css('margin-right',y().outerWidth())):'top'===C?(N=y().outerHeight()*(E?0.5:1),I.innerRect.dy=N,I.innerRect.height=I.height-N,N&&m.css('margin-top',N)):'bottom'===C&&(N=y().outerHeight()*(E?0.5:1),I.innerRect.height=I.height-N,m.css('margin-bottom',y().outerHeight()*(E?0.5:1)))),m.setThemeClassList(k).attr('mapjs-level',v),m.data(I),m.data('nodeCacheMark',l(e,t)),function(t){let n=e.attr&&e.attr.style&&e.attr.style.background;('false'===n||'transparent'===n)&&(n=!1),m.removeClass('mapjs-node-dark mapjs-node-white mapjs-node-light mapjs-node-colortext'),m.css({color:'',"background-color":''}),n&&(t?m.css('color',n):(m.css('background-color',n),m.addClass({color:'mapjs-node-light',lightColor:'mapjs-node-dark',darkColor:'mapjs-node-white'}[r(n)]))),t&&m.addClass('mapjs-node-colortext')}('surround'!==T),function(e){let t,a,d,r;const s=f(),l={"min-height":'',"min-width":'',"background-image":'',"background-repeat":'',"background-size":'',"background-position":''},p={"margin-top":'',"margin-left":''};m.css({padding:''}),e&&(r=parseInt(m.css('padding-left'),10),t=s.outerHeight(),a=s.outerWidth(),d=parseInt(s.css('max-width'),10),i.extend(l,{"background-image":'url("'+(n?n(e.url):e.url)+'")',"background-repeat":'no-repeat',"background-size":e.width+'px '+e.height+'px',"background-position":'center center'}),'top'===e.position||'bottom'===e.position?(l['background-position']='top'===e.position?'center '+r+'px':u?'center '+(r+t)+'px':'center '+e.position+' '+r+'px',l['padding-'+e.position]=e.height+2*r,l['min-width']=e.width,e.width>d&&(p['margin-left']=o((e.width-d)/2))):'left'===e.position||'right'===e.position?(l['background-position']='left'===e.position?r+'px center':u?a+2*r+'px center ':e.position+' '+r+'px center',l['padding-'+e.position]=e.width+2*r,e.height>t&&(p['margin-top']=o((e.height-t)/2),l['min-height']=e.height)):(e.height>t&&(p['margin-top']=o((e.height-t)/2),l['min-height']=e.height),l['min-width']=e.width,e.width>d&&(p['margin-left']=o((e.width-d)/2)))),m.css(l),s.css(p)}(e.attr&&e.attr.icon),function(){e.attr&&e.attr.collapsed?m.addClass('collapsed'):m.removeClass('collapsed')}(),m.trigger('mapjs:resize'),m}},function(e,t,n){var o=Math.round;const a=n(13);e.exports=function(e){'use strict';const t=function(e,t){return[o(0.5*(e[0]+t[0])),o(0.5*(e[1]+t[1])),o(0.5*(e[2]+t[2]))]},n=function(){const n=t(a(e),a('#EEEEEE')),o=[];let d;for(let e=0;e<n.length;e++)d=n[e]/255,o[e]=0.03928>=d?d/12.92:Math.pow((d+0.055)/1.055,2.4);return 0.2126*o[0]+0.7152*o[1]+0.0722*o[2]}();if(0.5>n)return'lightColor';return 0.9>n?'color':'darkColor'}},function(e,t,n){const o=n(10),a=function(e,t){'use strict';const n=e&&o.stripLink(e);return e?''===n.trim()?!t||e.length<t?e:e.substring(0,t)+'...':n:''},i=function(e){'use strict';return e.replace(/[ \t]+/g,' ')},d=function(e){'use strict';return e.replace(/\r/g,'').split('\n').map((e)=>e.trim()).join('\n')};e.exports=function(e,t){'use strict';return d(i(a(e,t)))}},function(e){var t=Math.abs;e.exports=function(e,n){'use strict';if(n&&n.hasFontMultiplier)return n;if(!n||!n.font||!e||!e.attr||!e.attr.style||!e.attr.style.fontMultiplier)return n;const o=e.attr.style.fontMultiplier;return 0.01>=t(o)||0.01>=t(o-1)?n:(n.font.size&&(n.font.size*=o),n.font.lineSpacing&&(n.font.lineSpacing*=o),n.font.sizePx&&(n.font.sizePx*=o),n.font.lineSpacingPx&&(n.font.lineSpacingPx*=o),n.hasFontMultiplier=!0,n)}},function(e,t,n){const o=n(1),a=n(0);o.fn.setThemeClassList=function(e){'use strict';const t=this[0],n=function(e){return a.filter(e,function(e){return /^level_.+/.test(e)||/^attr_.+/.test(e)})},o=n(t.classList),i=e&&e.length&&n(e);return t.classList.remove.apply(t.classList,o),i&&i.length&&t.classList.add.apply(t.classList,i),this}},function(e,t,n){var o=Math.round;const a=n(1);a.fn.updateStage=function(){'use strict';const e=this.data(),t={"min-width":o(e.width-e.offsetX),"min-height":o(e.height-e.offsetY),width:o(e.width-e.offsetX),height:o(e.height-e.offsetY),"transform-origin":'top left',transform:'translate3d('+o(e.offsetX)+'px, '+o(e.offsetY)+'px, 0)'},n=this.find('[data-mapjs-role=svg-container]')[0];return e.scale&&1!==e.scale&&(t.transform='scale('+e.scale+') translate('+o(e.offsetX)+'px, '+o(e.offsetY)+'px)'),this.css(t),n&&(n.setAttribute('viewBox',''+o(-1*e.offsetX)+' '+o(-1*e.offsetY)+' '+o(e.width)+' '+o(e.height)),n.setAttribute('style','top:'+o(-1*e.offsetY)+'px; left:'+o(-1*e.offsetX)+'px; width:'+o(e.width)+'px; height:'+o(e.height)+'px;')),this}},function(e,t,n){var o=Math.abs,a=Math.round,i=Math.min;const d=n(1);n(5),n(9),d.fn.animateConnectorToPosition=function(e,t){'use strict';const n=d(this),r=n.data('nodeFrom'),s=n.data('nodeTo'),l=r&&r.getDataBox(),p=s&&s.getDataBox(),c={from:r&&r.getBox(),to:s&&s.getBox()};return t=t||1,l&&p&&c&&c.from.width===l.width&&c.to.width===p.width&&c.from.height===l.height&&c.to.height===p.height&&o(c.from.top-c.to.top-(l.top-p.top))<t&&o(c.from.left-c.to.left-(l.left-p.left))<t&&(n.animate({left:a(i(l.left,p.left)),top:a(i(l.top,p.top))},e),!0)}},function(e,t,n){const o=n(1),a=n(0);o.fn.queueFadeIn=function(e){'use strict';const t=this;return t.css('opacity',0).animate({opacity:1},a.extend({complete:function(){t.css('opacity','')}},e))}},function(e,t,n){const o=n(1),a=n(0);o.fn.queueFadeOut=function(e){'use strict';const t=this;return t.fadeOut(a.extend({complete:function(){t.is(':focus')&&t.parents('[tabindex]').focus(),t.remove()}},e))}},function(e,t,n){const o=n(1);n(95),n(96),n(97),n(8),o.fn.editNode=function(e){'use strict';const t=this,n=this.find('[data-mapjs-role=title]'),a=this.data('title'),i=n.text(),d=o.Deferred(),r=function(){c(),n.css('word-break',''),n.removeAttr('contenteditable'),t.shadowDraggable()},s=function(){const e=n.innerText();return e===a?l():void(r(),d.resolve(e))},l=function(){r(),n.text(i),d.reject()},p=function(t){const e=13;t.shiftKey&&t.which===e||(t.which===e?(s(),t.stopPropagation()):t.which===27?(l(),t.stopPropagation()):t.which===9||t.which===83&&(t.metaKey||t.ctrlKey)&&!t.altKey?(s(),t.preventDefault()):!t.shiftKey&&t.which===90&&(t.metaKey||t.ctrlKey)&&!t.altKey&&(n.text()===a&&l(),t.stopPropagation()))},c=function(){n.off('blur',s).off('keydown',p)};return function(){n.on('blur',s).on('keydown',p)}(),a!==i&&n.css('word-break','break-all'),n.text(a).attr('contenteditable',!0).focus(),e?n.selectAll():a&&n.placeCaretAtEnd(),t.shadowDraggable({disable:!0}),d.promise()}},function(e,t,n){const o=n(1);o.fn.innerText=function(){'use strict';const e=this.html(),t=/<br\/?>/.test(e),n=/<div>/.test(e);if(n&&this[0].innerText)return this[0].innerText.trim();return t?e.replace(/<br\/?>/gi,'\n').replace(/(<([^>]+)>)/gi,''):this.text()}},function(e,t,n){const o=n(1);o.fn.placeCaretAtEnd=function(){'use strict';const e=this[0];let t,n,o;window.getSelection&&document.createRange?(t=document.createRange(),t.selectNodeContents(e),t.collapse(!1),n=window.getSelection(),n.removeAllRanges(),n.addRange(t)):document.body.createTextRange&&(o=document.body.createTextRange(),o.moveToElementText(e),o.collapse(!1),o.select())}},function(e,t,n){const o=n(1);o.fn.selectAll=function(){'use strict';const e=this[0];let t,n,o;window.getSelection&&document.createRange?(t=document.createRange(),t.selectNodeContents(e),n=window.getSelection(),n.removeAllRanges(),n.addRange(t)):document.body.createTextRange&&(o=document.body.createTextRange(),o.moveToElementText(e),o.select())}},function(e,t,n){var o=Math.round;const a=n(1);a.fn.updateReorderBounds=function(e,t,n){'use strict';const a=this;return e?void(a.show(),a.attr('mapjs-edge',e.edge),'top'===e.edge?a.css({top:e.minY,left:o(n.x-a.width()/2)}):a.css({top:o(n.y-a.height()/2),left:e.x-('left'===e.edge?a.width():0)})):void a.hide()}},function(e,t,n){const o=n(1),a=n(2),i=n(22);o.fn.createConnector=function(e){'use strict';const t=this.parent('[data-mapjs-role=stage]');return a('g').attr({id:i(e),"data-mapjs-role":'connector'}).data({nodeFrom:t.nodeWithId(e.from),nodeTo:t.nodeWithId(e.to),attr:e.attr}).appendTo(this)}},function(e,t,n){const o=n(1),a=n(2),i=n(23);o.fn.createLink=function(e){'use strict';const t=this.parent('[data-mapjs-role=stage]');return a('g').attr({id:i(e),"data-mapjs-role":'link'}).data({nodeFrom:t.nodeWithId(e.ideaIdFrom),nodeTo:t.nodeWithId(e.ideaIdTo),attr:e.attr&&e.attr.style}).appendTo(this)}},function(e,t,n){const o=n(1),a=n(22),i=n(23);o.fn.findLine=function(e){'use strict';if(e&&'connector'===e.type)return this.find('#'+a(e));if(e&&'link'===e.type)return this.find('#'+i(e));throw console.log('invalid.line',e),'invalid-args'}},function(e,t,n){const o=n(1);o.fn.createReorderBounds=function(){'use strict';const e=o('<div>').attr({"data-mapjs-role":'reorder-bounds',class:'mapjs-reorder-bounds'}).hide().css('position','absolute').appendTo(this);return e}},function(e,t,n){const o=n(10),a=n(0);e.exports=function(e){'use strict';if(!e)return'';if('string'!=typeof e)throw'invalid-args';const t=a.escape(e);return o.formatLinks(t)}}]);